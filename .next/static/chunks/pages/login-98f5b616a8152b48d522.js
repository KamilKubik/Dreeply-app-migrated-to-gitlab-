_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{O2ls:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),o=n("q1tI"),a=n("vJKn"),c=n.n(a),s=n("rg98"),i=n("cqNN"),u=n("20a2"),l=function(){var e=Object(o.useState)(""),t=e[0],n=e[1],a=Object(o.useState)(""),l=a[0],f=a[1],d=Object(i.b)(),p=d.logIn,v=d.currentUser;console.log(v);var m=Object(u.useRouter)(),h=function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,p(t,l);case 3:m.push("/dashboard/welcome");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{onSubmit:h,className:"px-8 pt-2 rounded-2xl mt-4",children:[Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{className:"shadow appearance-none rounded w-full py-2 px-3 text-gray leading-tight focus:outline-none focus:shadow-outline",value:t,onChange:function(e){return n(e.target.value)},type:"email",placeholder:"email"})]}),Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{className:"shadow appearance-none rounded w-full py-2 px-3 text-gray mb-3 leading-tight focus:outline-none focus:shadow-outline",value:l,onChange:function(e){return f(e.target.value)},type:"password",placeholder:"password"})]}),Object(r.jsxs)("div",{className:"flex justify-between items-center",children:[Object(r.jsx)("button",{className:"font-sans",children:"Forgot password?"}),Object(r.jsx)("button",{type:"submit",className:"border-2 border-primary hover:bg-primary hover:text-white text-primary font-medium py-1 px-4 rounded-2xl",children:"Log In"})]})]})},f=n("YFqc"),d=n.n(f);t.default=function(){return Object(r.jsxs)("div",{className:"h-screen w-full flex justify-center items-center bg-background flex-col",children:[Object(r.jsxs)("div",{className:"p-10 h-auto grid grid-cols-1 grid-rows-3 w-auto max-w-loginContainer w-full bg-white rounded-3xl",children:[Object(r.jsxs)("div",{className:"row-span-1 text-center",children:[Object(r.jsxs)("div",{className:"text-2xl font-sans font-medium",children:[" ",Object(r.jsx)("img",{src:"/gifs/hello-hand.gif",height:40,width:40,className:"inline-block relative bottom-1"})," ","Welcome back!"]}),Object(r.jsx)("div",{className:"text-base text-gray font-sans",children:"We are extremely happy to welcome you back."})]}),Object(r.jsx)("div",{className:"row-span-2",children:Object(r.jsx)(l,{})})]}),Object(r.jsxs)("div",{className:"text-center mt-4 text-sm text-gray-400 text-primarydark",children:["Don't have an account?",Object(r.jsx)(d.a,{href:"/signup",children:Object(r.jsx)("a",{children:" Create one!"})})]})]})}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("zoAU"),o=n("7KCV");t.__esModule=!0,t.default=void 0;var a=o(n("q1tI")),c=n("elyg"),s=n("nOHt"),i=n("vNVm"),u={};function l(e,t,n,r){if(e&&(0,c.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[t+"%"+n+(o?"%"+o:"")]=!0}}var f=function(e){var t=!1!==e.prefetch,n=(0,s.useRouter)(),o=n&&n.pathname||"/",f=a.default.useMemo((function(){var t=(0,c.resolveHref)(o,e.href,!0),n=r(t,2),a=n[0],s=n[1];return{href:a,as:e.as?(0,c.resolveHref)(o,e.as):s||a}}),[o,e.href,e.as]),d=f.href,p=f.as,v=e.children,m=e.replace,h=e.shallow,b=e.scroll,x=e.locale;"string"===typeof v&&(v=a.default.createElement("a",null,v));var g=a.Children.only(v),w=g&&"object"===typeof g&&g.ref,j=(0,i.useIntersection)({rootMargin:"200px"}),y=r(j,2),O=y[0],k=y[1],N=a.default.useCallback((function(e){O(e),w&&("function"===typeof w?w(e):"object"===typeof w&&(w.current=e))}),[w,O]);(0,a.useEffect)((function(){var e=k&&t&&(0,c.isLocalURL)(d),r="undefined"!==typeof x?x:n&&n.locale,o=u[d+"%"+p+(r?"%"+r:"")];e&&!o&&l(n,d,p,{locale:r})}),[p,d,k,x,t,n]);var C={ref:N,onClick:function(e){g.props&&"function"===typeof g.props.onClick&&g.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,a,s,i){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(n))&&(e.preventDefault(),null==s&&(s=r.indexOf("#")<0),t[o?"replace":"push"](n,r,{shallow:a,locale:i,scroll:s}))}(e,n,d,p,m,h,b,x)},onMouseEnter:function(e){(0,c.isLocalURL)(d)&&(g.props&&"function"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(e),l(n,d,p,{priority:!0}))}};if(e.passHref||"a"===g.type&&!("href"in g.props)){var I="undefined"!==typeof x?x:n&&n.locale,E=n&&n.isLocaleDomain&&(0,c.getDomainLocale)(p,I,n&&n.locales,n&&n.domainLocales);C.href=E||(0,c.addBasePath)((0,c.addLocale)(p,I,n&&n.defaultLocale))}return a.default.cloneElement(g,C)};t.default=f},cqNN:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("nKUr"),o=n("vJKn"),a=n.n(o),c=n("rg98"),s=n("U6Mw"),i=n("q1tI"),u=n("p46w"),l=n.n(u),f=(n("20a2"),Object(i.createContext)()),d=function(){return Object(i.useContext)(f)},p=function(e){var t=e.children,n=Object(i.useState)(),o=n[0],u=n[1],d=Object(i.useState)(!0),p=d[0],v=d[1],m=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,g(t);case 3:return n=e.sent,s.b.collection("users").doc(t.uid).set({formatedUser:n},{merge:!0}),u(n),l.a.set("uid",t.uid),v(!1),e.abrupt("return",n);case 11:return u(!1),l.a.remove("uid"),v(!1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.createUserWithEmailAndPassword(t,n).then((function(e){return m(e.user)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e=s.a.onIdTokenChanged(m);return function(){return e()}}),[]);var b={currentUser:o,signUp:h,logIn:function(e,t){return s.a.signInWithEmailAndPassword(e,t)},logOut:function(){return s.a.signOut()}},x=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.auth().currentUser.getIdToken(!0);case 2:return e.next=4,s.c.auth().currentUser.getIdTokenResult();case 4:return t=e.sent,e.abrupt("return",t.claims.stripeRole||"free");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("OFF - ",t),e.next=3,t.getIdToken();case 3:return n=e.sent,e.t0=t.uid,e.t1=t.email,e.t2=t.providerData[0].providerId,e.next=9,x();case 9:return e.t3=e.sent,e.t4=n,e.abrupt("return",{uid:e.t0,email:e.t1,provider:e.t2,stripeRole:e.t3,token:e.t4});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(f.Provider,{value:b,children:!p&&t})}},p46w:function(e,t,n){var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=a(),!!0){var c=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=c,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var i in a)a[i]&&(s+="; "+i,!0!==a[i]&&(s+="="+a[i].split(";")[0]));return document.cookie=t+"="+n+s}}function c(e,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],c=0;c<a.length;c++){var s=a[c].split("="),i=s.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var u=t(s[0]);if(i=(r.read||r)(i,u)||t(i),n)try{i=JSON.parse(i)}catch(l){}if(o[u]=i,e===u)break}catch(l){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},u6Hu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("O2ls")}])},vNVm:function(e,t,n){"use strict";var r=n("zoAU");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!c,i=(0,o.useRef)(),u=(0,o.useState)(!1),l=r(u,2),f=l[0],d=l[1],p=(0,o.useCallback)((function(e){i.current&&(i.current(),i.current=void 0),n||f||e&&e.tagName&&(i.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=s.get(t);if(n)return n;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return s.set(t,n={id:t,observer:o,elements:r}),n}(n),o=r.id,a=r.observer,c=r.elements;return c.set(e,t),a.observe(e),function(){c.delete(e),a.unobserve(e),0===c.size&&(a.disconnect(),s.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[n,t,f]);return(0,o.useEffect)((function(){if(!c&&!f){var e=(0,a.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,a.cancelIdleCallback)(e)}}}),[f]),[p,f]};var o=n("q1tI"),a=n("0G5g"),c="undefined"!==typeof IntersectionObserver;var s=new Map}},[["u6Hu",1,0,3,5,2,4]]]);