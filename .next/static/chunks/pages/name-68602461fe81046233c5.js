_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[57],{CWuM:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),c=n("vJKn"),a=n.n(c),i=n("rg98"),o=n("eLM2"),s=n("20a2"),u=n("q1tI"),l=n("fwV1"),d=n("U6Mw"),p=n("cqNN");t.default=Object(o.withSuperJSONPage)((function(){var e=Object(u.useState)(""),t=e[0],n=e[1],c=Object(u.useState)(""),o=c[0],f=c[1],m=Object(s.useRouter)(),b=Object(p.b)().currentUser;console.log(b);var x=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!o){e.next=8;break}return e.next=4,d.b.collection("users").doc(b.uid).set({name:t},{merge:!0});case 4:return m.push("/dashboard/welcome"),e.abrupt("return");case 8:alert(":(((");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("ul",{className:"circles",children:[Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{}),Object(r.jsx)("li",{})]}),Object(r.jsxs)("div",{className:"h-screen w-full flex justify-center items-center bg-background flex-col",children:[Object(r.jsxs)("div",{className:"z-50 p-10 h-auto grid grid-cols-1 grid-rows-3 w-auto max-w-nameContainer w-full bg-white rounded-3xl",children:[Object(r.jsxs)("div",{className:"row-span-1 text-center",children:[Object(r.jsxs)("div",{className:"text-2xl font-medium",children:[Object(r.jsx)("img",{src:"/gifs/sparkles.gif",height:50,width:50,className:"inline-block relative bottom-2"})," ","What is your name?"]}),Object(r.jsx)("div",{className:"text-base text-gray px-4",children:"Oops, one more tiny step and we will get down to business."})]}),Object(r.jsx)("div",{className:"row-span-2",children:Object(r.jsxs)("form",{onSubmit:x,className:"z-50 px-4 pt-2 rounded-2xl mt-4",children:[Object(r.jsxs)("div",{className:"mb-8",children:[Object(r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"name",children:"Name"}),Object(r.jsx)("input",{className:"text-primarydark w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",value:t,onChange:function(e){return n(e.target.value)},type:"name",placeholder:"name"})]}),Object(r.jsxs)("div",{className:"mb-8",children:[Object(r.jsx)("label",{className:"block text-sm font-medium mb-2",htmlFor:"userCountry",children:"Country"}),Object(r.jsx)(l.a,{id:"country",defaultOptionLabel:"country",className:"".concat(o?"text-primarydark":"text-placeholder"," w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline"),value:o,onChange:function(e){return f(e)}})]}),Object(r.jsx)("hr",{style:{width:"100%",color:"#6C63FF"}}),Object(r.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[Object(r.jsx)("p",{className:"text-primarydark",children:"Back"}),Object(r.jsx)("button",{type:"submit",className:"z-50 border-2 border-primary hover:bg-primary hover:text-white text-primary font-medium py-1.5 px-6 rounded-2xl focus:outline-none",children:"Let's start"})]})]})})]}),Object(r.jsx)("div",{className:"text-center mt-4 text-sm text-gray-400 text-primarydark max-w-nameContainer px-4",children:"\u201cAlways think outside the box and embrace opportunities that appear, wherever they might be.\u201d"})]})]})}))},LzPb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/name",function(){return n("CWuM")}])},cqNN:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("nKUr"),c=n("vJKn"),a=n.n(c),i=n("rg98"),o=n("U6Mw"),s=n("q1tI"),u=n("p46w"),l=n.n(u),d=(n("20a2"),Object(s.createContext)()),p=function(){return Object(s.useContext)(d)},f=function(e){var t=e.children,n=Object(s.useState)(),c=n[0],u=n[1],p=Object(s.useState)(!0),f=p[0],m=p[1],b=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,v(t);case 3:return n=e.sent,o.b.collection("users").doc(t.uid).set({formatedUser:n},{merge:!0}),u(n),l.a.set("uid",t.uid),m(!1),e.abrupt("return",n);case 11:return u(!1),l.a.remove("uid"),m(!1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.createUserWithEmailAndPassword(t,n).then((function(e){return b(e.user)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=o.a.onIdTokenChanged(b);return function(){return e()}}),[]);var h={currentUser:c,signUp:x,logIn:function(e,t){return o.a.signInWithEmailAndPassword(e,t)},logOut:function(){return o.a.signOut()}},j=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.auth().currentUser.getIdToken(!0);case 2:return e.next=4,o.c.auth().currentUser.getIdTokenResult();case 4:return t=e.sent,e.abrupt("return",t.claims.stripeRole||"free");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("OFF - ",t),e.next=3,t.getIdToken();case 3:return n=e.sent,e.t0=t.uid,e.t1=t.email,e.t2=t.providerData[0].providerId,e.next=9,j();case 9:return e.t3=e.sent,e.t4=n,e.abrupt("return",{uid:e.t0,email:e.t1,provider:e.t2,stripeRole:e.t3,token:e.t4});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(d.Provider,{value:h,children:!f&&t})}},p46w:function(e,t,n){var r,c;!function(a){if(void 0===(c="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=c),!0,e.exports=a(),!!0){var i=window.Cookies,o=window.Cookies=a();o.noConflict=function(){return window.Cookies=i,o}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function c(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},c.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=t+"="+n+o}}function i(e,n){if("undefined"!==typeof document){for(var c={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var o=a[i].split("="),s=o.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=t(o[0]);if(s=(r.read||r)(s,u)||t(s),n)try{s=JSON.parse(s)}catch(l){}if(c[u]=s,e===u)break}catch(l){}}return e?c[e]:c}}return c.set=a,c.get=function(e){return i(e,!1)},c.getJSON=function(e){return i(e,!0)},c.remove=function(t,n){a(t,"",e(n,{expires:-1}))},c.defaults={},c.withConverter=n,c}((function(){}))}))},rg98:function(e,t,n){"use strict";function r(e,t,n,r,c,a,i){try{var o=e[a](i),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var i=e.apply(t,n);function o(e){r(i,c,a,o,s,"next",e)}function s(e){r(i,c,a,o,s,"throw",e)}o(void 0)}))}}n.d(t,"a",(function(){return c}))}},[["LzPb",2,0,3,5,1,4,6,23]]]);