_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[43],{"6fTB":function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),i=r("eLM2"),s=r("q1tI"),c=r("z7pX"),o=r("vJKn"),a=r.n(o),l=r("rg98"),d=r("b6Qr"),p=r("U6Mw"),j=(r("xBw7"),r("dDAu"),r("20a2")),u=r.n(j),h=r("IF/j"),m=r("z/o8"),x=r("pc+1"),f=function(e){var t=e.data,r=e.projectId,i=e.documentId,o=e.competitors,j=e.index,f=(e.setCompetitors,e.provided,Object(s.useState)("")),b=f[0],g=f[1],y=Object(s.useState)(""),w=y[0],O=y[1],v=Object(s.useState)(""),k=v[0],C=v[1],S=Object(s.useState)(""),T=S[0],V=S[1],N=Object(s.useState)(""),I=N[0],D=N[1],z=Object(s.useState)(""),R=z[0],E=z[1],M=Object(s.useState)(""),B=M[0],A=M[1],L=Object(s.useState)(""),H=L[0],P=L[1],F=Object(s.useState)(""),W=F[0],q=F[1],_=Object(s.useState)(""),Z=_[0],G=_[1],U=Object(s.useState)(""),$=U[0],Q=U[1],J=Object(s.useState)(""),K=J[0],X=J[1],Y=Object(s.useState)(""),ee=Y[0],te=Y[1];Object(s.useEffect)((function(){g(t.image),O(t.title),C(t.location),V(t.employees),D(t.revenue),E(t.index),A(t.companyDescription),P(t.businessModel),q(t.productOverview),G(t.promotionStrategy),Q(t.companyStrengths),X(t.companyWeaknesses),te(t.opportunities)}),[o]);var re=function(){var e=Object(l.a)(a.a.mark((function e(t){var n,s,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],s=p.d.ref(),l=s.child(n.name),e.next=5,l.put(n);case 5:return e.t0=g,e.next=8,l.getDownloadURL();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),d=Object(c.a)(o),e.next=13,l.getDownloadURL();case 13:return e.t2=e.sent,e.t3=w,e.t4=k,e.t5=T,e.t6=I,e.t7=R,e.t8=B,e.t9=H,e.t10=W,e.t11=Z,e.t12=$,e.t13=K,e.t14=ee,d[j]={image:e.t2,title:e.t3,location:e.t4,employees:e.t5,revenue:e.t6,elementIndex:e.t7,companyDescription:e.t8,businessModel:e.t9,productOverview:e.t10,promotionStrategy:e.t11,companyStrengths:e.t12,companyWeaknesses:e.t13,opportunities:e.t14},e.next=29,p.b.collection("projects").doc(r).collection("competitors").doc(u.a.query.project).collection("inputs").doc(i).update({competitorsArray:d});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t){console.log(t),"title"===t&&O(e),"location"===t&&C(e),"employees"===t&&V(e),"revenue"===t&&D(e),"companyDescription"===t&&A(e),"businessModel"===t&&P(e),"productOverview"===t&&q(e),"promotionStrategy"===t&&G(e),"companyStrengths"===t&&Q(e),"companyWeaknesses"===t&&X(e),"opportunities"===t&&te(e);var r=Object(c.a)(o);r[j]={title:"title"===t?e:w,location:"location"===t?e:k,employees:"employees"===t?e:T,revenue:"revenue"===t?e:I,image:b,index:R,companyDescription:"companyDescription"===t?e:B,businessModel:"businessModel"===t?e:H,productOverview:"productOverview"===t?e:W,promotionStrategy:"promotionStrategy"===t?e:Z,companyStrengths:"companyStrengths"===t?e:$,companyWeaknesses:"companyWeaknesses"===t?e:K,opportunities:"opportunities"===t?e:ee},ie(r)},ie=Object(s.useCallback)(Object(h.a)(function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b.collection("projects").doc(r).collection("competitors").doc(u.a.query.project).collection("inputs").doc(i).update({competitorsArray:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),300),[]),se=function(){var e=Object(l.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.filter((function(e){return t!==e.index})),e.next=3,p.b.collection("projects").doc(r).collection("competitors").doc(u.a.query.project).collection("inputs").doc(i).update({competitorsArray:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=Object(s.useState)(!1),oe=ce[0],ae=ce[1],le=document.getElementById(j),de=document.getElementById("descriptionTitle".concat(j)),pe=document.getElementById("placeholderTitle".concat(j)),je=document.getElementById("descriptionModel".concat(j)),ue=document.getElementById("placeholderModel".concat(j)),he=document.getElementById("descriptionProduct".concat(j)),me=document.getElementById("placeholderProduct".concat(j)),xe=document.getElementById("descriptionPromotion".concat(j)),fe=document.getElementById("placeholderPromotion".concat(j)),be=document.getElementById("descriptionStrengths".concat(j)),ge=document.getElementById("placeholderStrengths".concat(j)),ye=document.getElementById("descriptionWeaknesses".concat(j)),we=document.getElementById("placeholderWeaknesses".concat(j)),Oe=document.getElementById("descriptionOpportunities".concat(j)),ve=document.getElementById("placeholderOpportunities".concat(j)),ke=document.getElementById("dropdown".concat(j)),Ce=document.getElementById("data".concat(j));Object(s.useEffect)((function(){if(m.a.set(ke,{rotation:"-90_cw"}),!d.isMobile){var e=document.getElementById("container".concat(j)),t=document.getElementById("manager".concat(j));e.addEventListener("mouseenter",(function(){m.a.to(t,{height:18,marignBottom:16,duration:.5,ease:x.b.easeIn}),m.a.to(le,{marginTop:16,duration:.5,ease:x.b.easeIn})})),e.addEventListener("mouseleave",(function(){m.a.to(t,{height:0,marginBottom:0,duration:.5,ease:x.b.easeOut}),m.a.to(le,{marginTop:0,duration:.5,ease:x.b.easeIn})}))}}),[ke]);return Object(n.jsxs)("div",{style:{height:"fit-content"},id:"container".concat(j),className:"w-full bg-background rounded-2xl p-4 ssmContainer:p-6 shadow-md overflow-hidden mt-8 smContainer:mt-8",children:[Object(n.jsxs)("div",{style:{height:"".concat(d.isMobile?40:0),top:"".concat((d.isMobile,"-6px"))},id:"manager".concat(j),className:"flex justify-between relative",children:[Object(n.jsx)("img",{className:"cursor-pointer",onClick:function(){var e=de.offsetHeight+pe.offsetHeight+je.offsetHeight+ue.offsetHeight+24+he.offsetHeight+me.offsetHeight+24+xe.offsetHeight+fe.offsetHeight+24+be.offsetHeight+ge.offsetHeight+24+ye.offsetHeight+we.offsetHeight+24+Oe.offsetHeight+ve.offsetHeight+24;oe?oe&&(m.a.to(Ce,{height:0,marginTop:0,marginBottom:0,autoAlpha:0,duration:1,ease:x.b}),m.a.to(ke,{rotation:"-90_ccw",duration:1,ease:x.b}),ae(!1)):(m.a.to(Ce,{height:e,marginTop:32,marginBottom:112,autoAlpha:1,duration:1,ease:x.b}),m.a.to(ke,{rotation:"0_cw",duration:1,ease:x.b}),ae(!0))},id:"dropdown".concat(j),src:"/competitors/dropdown.svg",height:18,width:18}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("img",{className:"cursor-pointer mr-2",src:"/competitors/drag.svg",height:18,width:18}),Object(n.jsx)("img",{className:"cursor-pointer",onClick:function(){return se(t.index)},src:"/competitors/remove.svg",height:18,width:18})]})]}),Object(n.jsxs)("div",{id:j,className:"flex gap-6 flex-col justify-center items-center smContainer:gap-0 smContainer:grid smContainer:grid-cols-12fr",children:[Object(n.jsxs)("div",{className:"smContainer:col-start-1 smContainer:col-end-4 justify-self-center flex justify-start items-center",children:[""!==b?Object(n.jsx)("label",{htmlFor:"upload-image".concat(j),className:"relative w-20 h-20 cursor-pointer rounded-full bg-white flex justify-center items-center",children:Object(n.jsx)("img",{src:b,height:55,width:55})}):Object(n.jsx)("div",{children:Object(n.jsx)("label",{htmlFor:"upload-image".concat(j),className:"w-20 h-20 cursor-pointer rounded-full bg-primary flex justify-center items-center",children:Object(n.jsx)("img",{src:"/competitors/empty-image.svg",height:65,width:65})})}),Object(n.jsx)("input",{type:"file",id:"upload-image".concat(j),style:{display:"none",zIndex:10},onChange:re})]}),Object(n.jsxs)("div",{className:"smContainer:col-start-5 smContainer:col-end-13 grid grid-cols-2fr grid-rows-2fr justify-items-center items-center gap-x-4 ssmContainer:gap-x-8 gap-y-2 ssmContainer:gap-y-4",children:[Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return ne(e.target.value,"title")},value:w,className:"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none",placeholder:"name"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return ne(e.target.value,"location")},value:k,className:"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none",placeholder:"location"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return ne(e.target.value,"employees")},value:T,className:"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none",placeholder:"employees"})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{onChange:function(e){return ne(e.target.value,"revenue")},value:I,className:"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none",placeholder:"revenue"})})]})]}),Object(n.jsxs)("div",{id:"data".concat(j),className:"w-full h-0 invisible",children:[Object(n.jsxs)("div",{id:"descriptionTitle".concat(j),className:"flex justify-start items-center",children:[Object(n.jsx)("img",{src:"/competitors/description.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Company description"})]}),Object(n.jsx)("textarea",{value:B,onChange:function(e){return ne(e.target.value,"companyDescription")},id:"placeholderTitle".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"Describe the main assumption of analyzed company."}),Object(n.jsxs)("div",{id:"descriptionModel".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/model.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Business model"})]}),Object(n.jsx)("textarea",{value:H,onChange:function(e){return ne(e.target.value,"businessModel")},id:"placeholderModel".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"How does the company business model look like?"}),Object(n.jsxs)("div",{id:"descriptionProduct".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/product1.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Product overview"})]}),Object(n.jsx)("textarea",{value:W,onChange:function(e){return ne(e.target.value,"productOverview")},id:"placeholderProduct".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"What is the full range of products and services the company offers?"}),Object(n.jsxs)("div",{id:"descriptionPromotion".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/promotion.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Promotion strategy"})]}),Object(n.jsx)("textarea",{value:Z,onChange:function(e){return ne(e.target.value,"promotionStrategy")},id:"placeholderPromotion".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"What are the company marketing and promotional strategies?"}),Object(n.jsxs)("div",{id:"descriptionStrengths".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/strengths.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Company strengths"})]}),Object(n.jsx)("textarea",{value:$,onChange:function(e){return ne(e.target.value,"companyStrengths")},id:"placeholderStrengths".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"What do your competitors do really well that differentiates them?"}),Object(n.jsxs)("div",{id:"descriptionWeaknesses".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/weaknesses.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Company Weaknesses"})]}),Object(n.jsx)("textarea",{value:K,onChange:function(e){return ne(e.target.value,"companyWeaknesses")},id:"placeholderWeaknesses".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"What do the company customers complain about the most, and what products do they lack?"}),Object(n.jsxs)("div",{id:"descriptionOpportunities".concat(j),className:"flex justify-start items-center mt-6",children:[Object(n.jsx)("img",{src:"/competitors/opportunities2.svg",height:22,width:22}),Object(n.jsx)("p",{className:"text-primarydark ml-2",children:"Opportunities"})]}),Object(n.jsx)("textarea",{value:ee,onChange:function(e){return ne(e.target.value,"opportunities")},id:"placeholderOpportunities".concat(j),className:"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none",placeholder:"What distinguish your startup from this particular competitive company?"})]})]})},b=r("p46w"),g=r.n(b),y=(r("Aiso"),r("7Cbv")),w=r("cpVT"),O=r("Iab2"),v=r("QhkM"),k=r("yr6r"),C=r("YFqc"),S=r.n(C);k.Font.register({src:"/fonts/comfortaa.ttf",family:"Comfortaa"});var T=k.StyleSheet.create({homePage:{padding:36,fontFamily:"Comfortaa",backgroundColor:"#f8f9fb",color:"#0a1230"},mainTitle:{fontSize:22,color:"#0a1230",textAlign:"center",paddingBottom:42}}),V=function(e){var t=e.competitors;return Object(n.jsx)(k.Document,{scale:96/72,renderMode:"svg",children:t.map((function(e,t){return Object(n.jsxs)(k.Page,{size:"A4",style:T.homePage,children:[0===t&&Object(n.jsx)(k.View,{children:Object(n.jsx)(k.Text,{style:T.mainTitle,children:"Competitors analysis"})}),Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row"},children:[""===e.image?Object(n.jsx)(k.View,{style:{height:72,width:72,backgroundColor:"#6C63FF",borderRadius:9999,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(n.jsx)(k.Image,{src:"/competitors/empty-image-pdf.png",height:64,width:64})}):Object(n.jsx)(k.View,{}),Object(n.jsxs)(k.View,{style:{fontSize:12},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"space-between",marginLeft:32,width:"100%"},children:[""!==e.title&&Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:8,paddingHorizontal:16},children:Object(n.jsxs)(k.Text,{children:["name / ",e.title]})}),""!==e.location&&Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:8,paddingHorizontal:16},children:Object(n.jsxs)(k.Text,{children:["location / ",e.location]})})]}),Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"space-between",marginLeft:32,marginTop:12,width:"100%"},children:[""!==e.employees&&Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:8,paddingHorizontal:16},children:Object(n.jsxs)(k.Text,{children:["employees / ",e.employees]})}),""!==e.revenue&&Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:8,paddingHorizontal:16},children:Object(n.jsxs)(k.Text,{children:["revenue / ",e.revenue]})})]})]})]}),""!==e.companyDescription&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/description.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Company description"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.companyDescription})})]}),""!==e.businessModel&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/model.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Business model"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.businessModel})})]}),""!==e.productOverview&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/product.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Product overview"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.productOverview})})]}),""!==e.promotionStrategy&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/promotion.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Promotion strategy"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.promotionStrategy})})]}),""!==e.companyStrengths&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/strengths.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Company strengths"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.companyStrengths})})]}),""!==e.companyWeaknesses&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/weaknesses.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Company weaknesses"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.companyWeaknesses})})]}),""!==e.opportunities&&Object(n.jsxs)(k.View,{wrap:!1,style:{marginTop:32},children:[Object(n.jsxs)(k.View,{style:{display:"flex",flexDirection:"row",alignItems:"flex-end",fontSize:14},children:[Object(n.jsx)(k.Image,{src:"/competitors/pdf/opportunities.png",style:{height:20,width:20}}),Object(n.jsx)(k.Text,{style:{marginLeft:8},children:"Company opportunities"})]}),Object(n.jsx)(k.View,{style:{backgroundColor:"#fcfefe",borderRadius:16,paddingVertical:12,paddingHorizontal:16,marginTop:8,fontSize:10},children:Object(n.jsx)(k.Text,{children:e.opportunities})})]})]})}))})},N=function(){var e=Object(s.useState)(null),t=e[0],r=e[1],i=Object(s.useState)(""),c=i[0],o=i[1],d=Object(s.useState)(""),h=d[0],f=d[1],b=(Object(j.useRouter)(),Object(v.a)());Object(s.useEffect)(Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("uid");case 2:if(t=e.sent,console.log(t),!t||!u.a.query.project){e.next=9;break}return e.next=7,p.b.collection("projects").where("uid","==",t);case 7:e.sent.where("projectName","==",u.a.query.project).get().then((function(e){e.forEach(function(){var e=Object(l.a)(a.a.mark((function e(t){var n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data().projectId,i=t.data().projectName,o(n),f(i),p.b.collection("projects").doc(t.data().projectId).collection("competitors").doc(u.a.query.project).collection("inputs").onSnapshot((function(e){e.docs.map((function(e){var t=e.data();r(t.competitorsArray)}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 9:case"end":return e.stop()}}),e)}))),[]),console.log(c);var y=Object(s.useRef)(),C=Object(s.useState)(!1),T=(C[0],C[1],Object(s.useRef)()),N=Object(s.useRef)(),I=Object(s.useState)(!1),D=I[0],z=I[1],R=Object(s.useState)(!1),E=R[0],M=R[1];return Object(n.jsx)("div",{ref:y,className:"relative flex justify-start",children:b.width<680?Object(n.jsx)("div",{className:"flex mt-4",children:Object(n.jsx)("img",{onClick:function(){var e=Object(l.a)(a.a.mark((function e(r){var i,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i=Object(n.jsx)(V,{competitors:t}),(s=Object(k.pdf)([])).updateContainer(i),e.next=6,s.toBlob();case 6:c=e.sent,Object(O.saveAs)(c,"".concat(u.a.query.project,"/competitors-analysis.pdf"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),src:"/mobile-navbar/pdf.svg",height:30,width:30})}):Object(n.jsxs)("div",{className:"relative w-full flex justify-end items-center",children:[Object(n.jsx)("button",{ref:T,onClick:function(){E?E&&(m.a.to(N.current,{autoAlpha:0,duration:1,ease:x.b}),M(!1),z(!1)):(m.a.to(N.current,{autoAlpha:1,duration:1,ease:x.b}),M(!0),z(!0))},className:"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-sm font-light py-2 px-8 rounded-2xl mt-2 dark:text-primarydark dark:border-primarydark ".concat(D?"bg-primary text-background dark:bg-primarydark dark:text-background":""),children:"Save my work"}),Object(n.jsxs)("div",{ref:N,className:"absolute bg-white rounded-2xl shadow-xl p-6 top-14 z-50 invisible opacity-0",children:[Object(n.jsxs)("div",{className:"flex items-center justify-start",children:[Object(n.jsx)("img",{src:"/mobile-navbar/success.svg",height:26,width:26}),Object(n.jsx)("p",{className:"text-lg ml-2",children:"Show the world your work!"})]}),Object(n.jsxs)("div",{className:"px-6 py-4 bg-background rounded-2xl mt-2 pr-6",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"flex",children:"Save as PDF:"}),Object(n.jsx)("img",{onClick:function(){var e=Object(l.a)(a.a.mark((function e(r){var i,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),i=Object(n.jsx)(V,{competitors:t}),(s=Object(k.pdf)([])).updateContainer(i),e.next=6,s.toBlob();case 6:c=e.sent,Object(O.saveAs)(c,"".concat(u.a.query.project,"/competitors-analysis.pdf"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),src:"/mobile-navbar/pdf.svg",height:30,width:30,className:"mt-2 cursor-pointer"})]}),Object(n.jsxs)("div",{className:"w-full justify-start items-center mt-4",children:[Object(n.jsx)("p",{children:"Share your competitors analysis with this public link:"}),Object(n.jsxs)("div",{className:"w-full flex mt-2",children:[Object(n.jsx)("input",{value:"http://localhost:3000/dashboard/projects/".concat(h,"/competitors/").concat(c),className:"w-full bg-linkBackground text-sm px-2 py-1 dark:text-primarydark focus:outline-none"}),Object(n.jsx)(S.a,{href:"/dashboard/projects/".concat(h,"/competitors/").concat(c),passHref:!0,children:Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",Object(w.a)({className:"cursor-pointer",src:"/mobile-navbar/foreign.svg",height:28,width:28},"className","h-full"))})})]})]})]})]})]})})},I=r("b753"),D=r("x6nH"),z=function(){var e=Object(s.useState)(""),t=e[0],r=e[1],i=Object(s.useState)(""),o=i[0],d=i[1],j=Object(s.useState)(),h=j[0],m=j[1],x=(Object(v.a)(),Object(s.useState)(!1)),b=x[0],w=x[1];Object(s.useEffect)(Object(l.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.a.get("uid"),console.log(t&&u.a.query.project),t&&u.a.query.project?p.b.collection("projects").where("uid","==",t).where("projectName","==",u.a.query.project).get().then((function(e){e.forEach(function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t.data().projectId),p.b.collection("projects").doc(t.data().projectId).collection("competitors").doc(u.a.query.project).collection("inputs").onSnapshot((function(e){e.docs.map((function(e){console.log(e.data());var t=e.data();d(e.id),m(t.competitorsArray),w(!1)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})):(console.log("Loading failed"),w(!0));case 3:case"end":return e.stop()}}),e)}))),[b,u.a.query.project]),console.log(h);var O=function(){var e=Object(l.a)(a.a.mark((function e(){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(h),n={image:"",title:"",location:"",employees:"",revenue:"",index:Object(y.a)(),companyDescription:"",businessModel:"",productOverview:"",promotionStrategy:"",companyStrengths:"",companyWeaknesses:"",opportunities:""},r.push(n),m(r),e.next=6,p.b.collection("projects").doc(t).collection("competitors").doc(u.a.query.project).collection("inputs").doc(o).update({competitorsArray:r});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{projectManager:!0,contentClass:"h-40 w-80 shadow-lg rounded-2xl bg-primary flex justify-center items-center",contentText:"We are in a space where you can manage your startup in various possible ways ",contentText1:' For a good start, begin with "Startup idea" that will guide you through the entire process of creating a plan for your startup! '}),Object(n.jsx)(I.a,{}),Object(n.jsx)("div",{className:"min-h-screen w-full relative flex flex-col items-center text-primarydark",children:Object(n.jsxs)("div",{className:"w-full max-w-full relative mt-8 mdContainer:mt-16 mb-16 px-8 mdContainer:px-16 lgContainer:px-32 bigContainer:px-48 big2Container:px-64 big3Container:px-80 QHD:max-w-QHD",children:[Object(n.jsxs)("div",{className:"relative grid grid-cols-2 grid-rows-1 grid-flow-col",children:[Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsxs)("svg",{height:"30",width:"30",className:"fill-current text-primary dark:text-primarydark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",children:[Object(n.jsx)("title",{children:"Landing Success"}),Object(n.jsx)("g",{id:"Landing_Success","data-name":"Landing Success",children:Object(n.jsx)("path",{className:"cls-1",d:"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z"})})]}),Object(n.jsx)("p",{className:"text-primarydark text-xl ssmContainer:text-2xl mt-2 pl-2 dark:text-background",children:"Competitors analysis"})]}),Object(n.jsx)(N,{})]}),Object(n.jsx)("div",{children:Object(n.jsx)("h1",{className:"text-secondary text-base ssmContainer:text-md text-gray",children:"Manage your startup competitors"})}),Object(n.jsxs)("div",{className:"w-full bg-white rounded-2xl mt-12 p-8",children:[Object(n.jsxs)("div",{className:"flex justify-between items-center",children:[Object(n.jsx)("p",{className:"text-primarydark text-md ssmContainer:text-lg",children:"Competitors"}),Object(n.jsx)("img",{className:"cursor-pointer",onClick:O,src:"/competitors/add1.svg",height:32,width:32})]}),Object(n.jsx)("div",{className:"grid grid-cols-1frr normalContainer:grid-cols-2fr gap-x-12",children:h&&h.map((function(e,r){return Object(n.jsx)(f,{setCompetitors:m,data:e,projectId:t,documentId:o,competitors:h,index:r},r)}))})]})]})})]})};t.default=Object(i.withSuperJSONPage)((function(){return Object(n.jsx)(z,{})}))},"9Lkc":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/projects/[project]/competitors",function(){return r("6fTB")}])},QhkM:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("nKUr");var n=r("q1tI");function i(){var e=Object(n.useState)({width:void 0,height:void 0}),t=e[0],r=e[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},dDAu:function(e,t,r){"use strict";var n=r("cpVT"),i=r("vJKn"),s=r.n(i),c=r("rg98"),o=r("nKUr"),a=r("q1tI"),l=r("Iab2"),d=r("i3MX"),p=r.n(d),j=r("sWYD"),u=r("20a2"),h=r.n(u),m=r("YFqc"),x=r.n(m),f=r("z/o8"),b=r("pc+1"),g=r("QhkM"),y=r("yr6r");y.Font.register({src:"/fonts/poppins.ttf",family:"Poppins"}),y.Font.register({src:"/fonts/comfortaa.ttf",family:"Comfortaa"});var w=y.StyleSheet.create({homePage:{padding:36,fontFamily:"Comfortaa",backgroundColor:"#f8f9fb",color:"#0a1230"},mainTitle:{fontSize:22,color:"#0a1230",textAlign:"center"},mainGridData:{color:"#0a1230",fontSize:12,width:"100%",marginTop:52,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},secondGridData:{color:"#0a1230",fontSize:12,width:"100%",marginTop:18,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}),O=function(e){var t=e.image,r=e.data,n=(e.periods,e.revenueElements),i=e.costsElements,s=(e.tax,e.totalRevenue),c=e.monthlyRevenue,a=e.totalCosts,l=e.monthlyCosts,d=e.grossProfit,p=e.netProfit;e.startDate,e.endDate;return Object(o.jsx)(y.Document,{scale:96/72,renderMode:"svg",children:Object(o.jsxs)(y.Page,{size:"A4",style:w.homePage,children:[Object(o.jsx)(y.View,{children:Object(o.jsx)(y.Text,{style:w.mainTitle,children:"Cash flow analysis"})}),Object(o.jsxs)(y.View,{style:w.mainGridData,children:[Object(o.jsx)(y.View,{children:Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:155},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/calendar.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Start:"})]}),Object(o.jsx)(y.Text,{children:r.startDate})]})}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",marginLeft:30,marginRight:30,padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:155},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/hourglass.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"End:"})]}),Object(o.jsx)(y.Text,{children:r.endDate})]}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:155},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/tax.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Tax:"})]}),Object(o.jsxs)(y.Text,{children:[r.tax,"%"]})]})]}),Object(o.jsx)(y.View,{style:{marginTop:18,backgroundColor:"#fcfefe",padding:12,borderRadius:16},children:Object(o.jsx)(y.Image,{src:t})}),Object(o.jsxs)(y.View,{style:w.secondGridData,children:[Object(o.jsx)(y.View,{children:Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/gross-profit.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Gross profit:"})]}),Object(o.jsxs)(y.Text,{children:["$",d]})]})}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",marginLeft:60,padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/net-profit.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Net profit"})]}),Object(o.jsxs)(y.Text,{children:["$",p]})]})]}),Object(o.jsxs)(y.View,{style:w.secondGridData,children:[Object(o.jsx)(y.View,{children:Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/total-revenue.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Total revenue:"})]}),Object(o.jsxs)(y.Text,{children:["$",s]})]})}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",marginLeft:60,padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/monthly-revenue.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Monthly revenue:"})]}),Object(o.jsxs)(y.Text,{children:["$",c]})]})]}),Object(o.jsxs)(y.View,{style:w.secondGridData,children:[Object(o.jsx)(y.View,{children:Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/total-costs.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Total costs:"})]}),Object(o.jsxs)(y.Text,{children:["$",a]})]})}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#fcfefe",marginLeft:60,padding:14,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderRadius:16,width:232.5},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.Image,{src:"/cash-flow/png/monthly-costs.png",style:{height:16,width:16}}),Object(o.jsx)(y.Text,{style:{marginLeft:4},children:"Monthly costs:"})]}),Object(o.jsxs)(y.Text,{children:["$",l]})]})]}),Object(o.jsxs)(y.View,{wrap:!1,style:{backgroundColor:"#fcfefe",borderRadius:16,padding:16,marginTop:18},children:[Object(o.jsx)(y.Text,{style:{fontSize:14},children:"Revenue"}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#f8f9fb",borderRadius:16,padding:16,marginTop:8},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row"},children:[Object(o.jsx)(y.View,{style:{width:145},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"name"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"type"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"amount"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"start"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"end"})})]}),Object(o.jsx)(y.View,{style:{width:"100%",height:1,backgroundColor:"#6C63FF",marginTop:6}}),n&&n.map((function(e){console.log(e);var t=Object(j.default)(1e3*e.start.seconds,"MMM / yyyy"),r=Object(j.default)(1e3*e.end.seconds,"MMM / yyyy");return Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",marginTop:6},children:[Object(o.jsxs)(y.View,{style:{width:145,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.View,{style:{width:8,height:8,backgroundColor:e.color,position:"relative",right:12,borderRadius:16}}),Object(o.jsx)(y.Text,{style:{fontSize:10,position:"relative",right:8},children:e.title})]}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:e.type})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:e.value})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:t})}),Object(o.jsx)(y.View,{style:{width:87},children:"Recurring"===e.type?Object(o.jsx)(y.Text,{style:{fontSize:10},children:r}):Object(o.jsx)(y.View,{style:{width:50,height:"0.5px",backgroundColor:"#0a1230",marginTop:5}})})]})}))]})]}),Object(o.jsxs)(y.View,{wrap:!1,style:{backgroundColor:"#fcfefe",borderRadius:16,padding:16,marginTop:18},children:[Object(o.jsx)(y.Text,{style:{fontSize:14},children:"Costs"}),Object(o.jsxs)(y.View,{style:{backgroundColor:"#f8f9fb",borderRadius:16,padding:16,marginTop:8},children:[Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row"},children:[Object(o.jsx)(y.View,{style:{width:145},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"name"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"type"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"amount"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"start"})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:12},children:"end"})})]}),Object(o.jsx)(y.View,{style:{width:"100%",height:1,backgroundColor:"#6C63FF",marginTop:6}}),i&&i.map((function(e){console.log(e);var t=Object(j.default)(1e3*e.start.seconds,"MMM / yyyy"),r=Object(j.default)(1e3*e.end.seconds,"MMM / yyyy");return Object(o.jsxs)(y.View,{style:{display:"flex",flexDirection:"row",marginTop:6},children:[Object(o.jsxs)(y.View,{style:{width:145,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(o.jsx)(y.View,{style:{width:8,height:8,backgroundColor:e.color,position:"relative",right:12,borderRadius:16}}),Object(o.jsx)(y.Text,{style:{fontSize:10,position:"relative",right:8},children:e.title})]}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:e.type})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:e.value})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:t})}),Object(o.jsx)(y.View,{style:{width:87},children:Object(o.jsx)(y.Text,{style:{fontSize:10},children:r})})]})}))]})]})]})})};t.a=function(e){var t=e.projectName,r=e.projectId,i=e.data,d=e.periods,j=e.revenueElements,u=e.costsElements,m=e.tax,w=e.totalRevenue,v=e.monthlyRevenue,k=e.totalCosts,C=e.monthlyCosts,S=e.grossProfit,T=e.netProfit,V=e.startDate,N=e.endDate,I=Object(a.useState)(),D=I[0],z=I[1];Object(a.useEffect)((function(){var e=[],t=[];j&&j.map((function(r,n){var i=d&&d.map((function(){return null}));console.log(r),d&&d.map((function(e,t){r.periods.map((function(n){e==n&&null==i[t]&&(i[t]=r.value)}))})),console.log(i),t.push(i),e.push({label:"revenue / ".concat(r.title),data:i,backgroundColor:r.color,borderColor:r.color})}));var r=[];u&&u.map((function(e,n){var i=d&&d.map((function(){return null}));console.log(e),d&&d.map((function(t,r){e.periods.map((function(n){t==n&&null==i[r]&&(i[r]=-e.value)}))})),console.log(i),t.push(i),r.push({label:"costs / ".concat(e.title),data:i,backgroundColor:e.color,borderColor:e.color})}));var n=[];0!==e.length&&0!==e.length&&e.map((function(e){return n.push(e.data&&e.data.map((function(e){return null!==e?parseInt(e):0})))}));var i=0!==n.length&&void 0!==n[0]&&n.reduce((function(e,t){return e.map((function(e,r){return e+t[r]}))})),s=[];0!==r.length&&0!==r.length&&r.map((function(e){return s.push(e.data&&e.data.map((function(e){return null!==e?parseInt(e):0})))}));var c=[i,0!==s.length&&void 0!==s[0]&&s.reduce((function(e,t){return e.map((function(e,r){return e+t[r]}))}))],o=c&&c.map((function(e){if(e)return e;var t=[];return d&&d.map((function(e){return t.push(0)})),t})),a=0!==o.length&&o.reduce((function(e,t){return e&&t&&e.map((function(e,r){return e+t[r]}))})),l=a&&a.map((function(e){return e-m/100*e}));console.log(l);var h=new p.a;h.setConfig({type:"bar",data:{labels:d&&d,datasets:[{type:"line",label:"Net profit",data:l,backgroundColor:"rgba(10, 18, 48, 1)",borderColor:"rgba(10, 18, 48, 1)",fill:0,lineTension:0,borderWidth:1,pointRadius:2}].concat(e,r)},options:{skipNull:!0,responsive:!0,maintainAspectRatio:!1,bezierCurve:!1,legend:{labels:{boxWidth:30,boxHeight:5,fontFamily:"Comfortaa",fontSize:12}},scales:{xAxes:[{stacked:!0,ticks:{fontFamily:"Comfortaa",fontSize:10,beginAtZero:!0}}],yAxes:[{stacked:!0,ticks:{fontFamily:"Comfortaa",fontSize:10,beginAtZero:!0,callback:function(e){return"$"+e}}}]}}}),h.setHeight(200).setFormat("png").setDevicePixelRatio(2).setBackgroundColor("#fcfefe"),h.toDataUrl().then((function(e){return z(e)}))}),[i,d,j,u,m,w,v,k,C,S,T,V,N]);var R=Object(a.useRef)(),E=Object(g.a)(),M=Object(a.useRef)(),B=Object(a.useRef)(),A=Object(a.useState)(!1),L=A[0],H=A[1],P=Object(a.useState)(!1),F=P[0],W=P[1];return Object(o.jsx)("div",{ref:R,className:"relative flex justify-start",children:E.width<680?Object(o.jsx)("div",{className:"flex mt-4",children:Object(o.jsx)("img",{onClick:function(){var e=Object(c.a)(s.a.mark((function e(t){var r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Object(o.jsx)(O,{image:D,data:i,periods:d,revenueElements:j,costsElements:u,tax:m,totalRevenue:w,monthlyRevenue:v,totalCosts:k,monthlyCosts:C,grossProfit:S,netProfit:T,startDate:V,endDate:N}),(n=Object(y.pdf)([])).updateContainer(r),e.next=6,n.toBlob();case 6:c=e.sent,Object(l.saveAs)(c,"".concat(h.a.query.project,"/cash-flow.pdf"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),src:"/mobile-navbar/pdf.svg",height:30,width:30})}):Object(o.jsxs)("div",{className:"relative w-full flex justify-end items-center",children:[Object(o.jsx)("button",{ref:M,onClick:function(){F?F&&(f.a.to(B.current,{autoAlpha:0,duration:1,ease:b.b}),W(!1),H(!1)):(f.a.to(B.current,{autoAlpha:1,duration:1,ease:b.b}),W(!0),H(!0))},className:"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-sm font-light py-2 px-8 rounded-2xl mt-2 dark:text-primarydark dark:border-primarydark ".concat(L?"bg-primary text-background dark:bg-primarydark dark:text-background":""),children:"Save my work"}),Object(o.jsxs)("div",{ref:B,className:"absolute bg-white rounded-2xl shadow-xl p-6 top-14 z-50 invisible opacity-0",children:[Object(o.jsxs)("div",{className:"flex items-center justify-start",children:[Object(o.jsx)("img",{src:"/mobile-navbar/success.svg",height:26,width:26}),Object(o.jsx)("p",{className:"text-lg ml-2",children:"Show the world your work!"})]}),Object(o.jsxs)("div",{className:"px-6 py-4 bg-background rounded-2xl mt-2 pr-6",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"flex",children:"Save as PDF:"}),Object(o.jsx)("img",{onClick:function(){var e=Object(c.a)(s.a.mark((function e(t){var r,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Object(o.jsx)(O,{image:D,data:i,periods:d,revenueElements:j,costsElements:u,tax:m,totalRevenue:w,monthlyRevenue:v,totalCosts:k,monthlyCosts:C,grossProfit:S,netProfit:T,startDate:V,endDate:N}),(n=Object(y.pdf)([])).updateContainer(r),e.next=6,n.toBlob();case 6:c=e.sent,Object(l.saveAs)(c,"".concat(h.a.query.project,"/competitors-analysis.pdf"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),src:"/mobile-navbar/pdf.svg",height:30,width:30,className:"mt-2 cursor-pointer"})]}),Object(o.jsxs)("div",{className:"w-full justify-start items-center mt-4",children:[Object(o.jsx)("p",{children:"Share your competitors analysis with this public link:"}),Object(o.jsxs)("div",{className:"w-full flex mt-2",children:[Object(o.jsx)("input",{value:"http://localhost:3000/dashboard/projects/".concat(t,"/cash-flow/").concat(r),className:"w-full bg-linkBackground text-sm px-2 py-1 dark:text-primarydark"}),Object(o.jsx)(x.a,{href:"/dashboard/projects/".concat(t,"/cash-flow/").concat(r),passHref:!0,children:Object(o.jsx)("a",{target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",Object(n.a)({className:"cursor-pointer",src:"/mobile-navbar/foreign.svg",height:28,width:28},"className","h-full"))})})]})]})]})]})]})})}}},[["9Lkc",2,0,3,5,16,17,19,1,4,6,7,8,9,10,11,12,14,18,21,24]]]);