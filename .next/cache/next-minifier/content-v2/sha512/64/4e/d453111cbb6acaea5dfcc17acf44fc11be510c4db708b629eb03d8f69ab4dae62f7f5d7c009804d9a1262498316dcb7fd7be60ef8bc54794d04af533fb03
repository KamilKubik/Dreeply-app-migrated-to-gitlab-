{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[57],{CWuM:function(e,t,n){\"use strict\";n.r(t);var r=n(\"nKUr\"),c=n(\"vJKn\"),a=n.n(c),i=n(\"rg98\"),o=n(\"eLM2\"),s=n(\"20a2\"),u=n(\"q1tI\"),l=n(\"fwV1\"),d=n(\"U6Mw\"),p=n(\"cqNN\");t.default=Object(o.withSuperJSONPage)((function(){var e=Object(u.useState)(\"\"),t=e[0],n=e[1],c=Object(u.useState)(\"\"),o=c[0],f=c[1],m=Object(s.useRouter)(),b=Object(p.b)().currentUser;console.log(b);var x=function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!o){e.next=8;break}return e.next=4,d.b.collection(\"users\").doc(b.uid).set({name:t},{merge:!0});case 4:return m.push(\"/dashboard/welcome\"),e.abrupt(\"return\");case 8:alert(\":(((\");case 9:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(\"ul\",{className:\"circles\",children:[Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{}),Object(r.jsx)(\"li\",{})]}),Object(r.jsxs)(\"div\",{className:\"h-screen w-full flex justify-center items-center bg-background flex-col\",children:[Object(r.jsxs)(\"div\",{className:\"z-50 p-10 h-auto grid grid-cols-1 grid-rows-3 w-auto max-w-nameContainer w-full bg-white rounded-3xl\",children:[Object(r.jsxs)(\"div\",{className:\"row-span-1 text-center\",children:[Object(r.jsxs)(\"div\",{className:\"text-2xl font-medium\",children:[Object(r.jsx)(\"img\",{src:\"/gifs/sparkles.gif\",height:50,width:50,className:\"inline-block relative bottom-2\"}),\" \",\"What is your name?\"]}),Object(r.jsx)(\"div\",{className:\"text-base text-gray px-4\",children:\"Oops, one more tiny step and we will get down to business.\"})]}),Object(r.jsx)(\"div\",{className:\"row-span-2\",children:Object(r.jsxs)(\"form\",{onSubmit:x,className:\"z-50 px-4 pt-2 rounded-2xl mt-4\",children:[Object(r.jsxs)(\"div\",{className:\"mb-8\",children:[Object(r.jsx)(\"label\",{className:\"block text-sm font-medium mb-2\",htmlFor:\"name\",children:\"Name\"}),Object(r.jsx)(\"input\",{className:\"text-primarydark w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\",value:t,onChange:function(e){return n(e.target.value)},type:\"name\",placeholder:\"name\"})]}),Object(r.jsxs)(\"div\",{className:\"mb-8\",children:[Object(r.jsx)(\"label\",{className:\"block text-sm font-medium mb-2\",htmlFor:\"userCountry\",children:\"Country\"}),Object(r.jsx)(l.a,{id:\"country\",defaultOptionLabel:\"country\",className:\"\".concat(o?\"text-primarydark\":\"text-placeholder\",\" w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"),value:o,onChange:function(e){return f(e)}})]}),Object(r.jsx)(\"hr\",{style:{width:\"100%\",color:\"#6C63FF\"}}),Object(r.jsxs)(\"div\",{className:\"flex items-center justify-between mt-8\",children:[Object(r.jsx)(\"p\",{className:\"text-primarydark\",children:\"Back\"}),Object(r.jsx)(\"button\",{type:\"submit\",className:\"z-50 border-2 border-primary hover:bg-primary hover:text-white text-primary font-medium py-1.5 px-6 rounded-2xl focus:outline-none\",children:\"Let's start\"})]})]})})]}),Object(r.jsx)(\"div\",{className:\"text-center mt-4 text-sm text-gray-400 text-primarydark max-w-nameContainer px-4\",children:\"\\u201cAlways think outside the box and embrace opportunities that appear, wherever they might be.\\u201d\"})]})]})}))},LzPb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/name\",function(){return n(\"CWuM\")}])},cqNN:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return p})),n.d(t,\"a\",(function(){return f}));var r=n(\"nKUr\"),c=n(\"vJKn\"),a=n.n(c),i=n(\"rg98\"),o=n(\"U6Mw\"),s=n(\"q1tI\"),u=n(\"p46w\"),l=n.n(u),d=(n(\"20a2\"),Object(s.createContext)()),p=function(){return Object(s.useContext)(d)},f=function(e){var t=e.children,n=Object(s.useState)(),c=n[0],u=n[1],p=Object(s.useState)(!0),f=p[0],m=p[1],b=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,v(t);case 3:return n=e.sent,o.b.collection(\"users\").doc(t.uid).set({formatedUser:n},{merge:!0}),u(n),l.a.set(\"uid\",t.uid),m(!1),e.abrupt(\"return\",n);case 11:return u(!1),l.a.remove(\"uid\"),m(!1),e.abrupt(\"return\",!1);case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.createUserWithEmailAndPassword(t,n).then((function(e){return b(e.user)}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=o.a.onIdTokenChanged(b);return function(){return e()}}),[]);var h={currentUser:c,signUp:x,logIn:function(e,t){return o.a.signInWithEmailAndPassword(e,t)},logOut:function(){return o.a.signOut()}},j=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.auth().currentUser.getIdToken(!0);case 2:return e.next=4,o.c.auth().currentUser.getIdTokenResult();case 4:return t=e.sent,e.abrupt(\"return\",t.claims.stripeRole||\"free\");case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"OFF - \",t),e.next=3,t.getIdToken();case 3:return n=e.sent,e.t0=t.uid,e.t1=t.email,e.t2=t.providerData[0].providerId,e.next=9,j();case 9:return e.t3=e.sent,e.t4=n,e.abrupt(\"return\",{uid:e.t0,email:e.t1,provider:e.t2,stripeRole:e.t3,token:e.t4});case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(d.Provider,{value:h,children:!f&&t})}},p46w:function(e,t,n){var r,c;!function(a){if(void 0===(c=\"function\"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=c),!0,e.exports=a(),!!0){var i=window.Cookies,o=window.Cookies=a();o.noConflict=function(){return window.Cookies=i,o}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function c(){}function a(t,n,a){if(\"undefined\"!==typeof document){\"number\"===typeof(a=e({path:\"/\"},c.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():\"\";try{var i=JSON.stringify(n);/^[\\{\\[]/.test(i)&&(n=i)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var o=\"\";for(var s in a)a[s]&&(o+=\"; \"+s,!0!==a[s]&&(o+=\"=\"+a[s].split(\";\")[0]));return document.cookie=t+\"=\"+n+o}}function i(e,n){if(\"undefined\"!==typeof document){for(var c={},a=document.cookie?document.cookie.split(\"; \"):[],i=0;i<a.length;i++){var o=a[i].split(\"=\"),s=o.slice(1).join(\"=\");n||'\"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=t(o[0]);if(s=(r.read||r)(s,u)||t(s),n)try{s=JSON.parse(s)}catch(l){}if(c[u]=s,e===u)break}catch(l){}}return e?c[e]:c}}return c.set=a,c.get=function(e){return i(e,!1)},c.getJSON=function(e){return i(e,!0)},c.remove=function(t,n){a(t,\"\",e(n,{expires:-1}))},c.defaults={},c.withConverter=n,c}((function(){}))}))},rg98:function(e,t,n){\"use strict\";function r(e,t,n,r,c,a,i){try{var o=e[a](i),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var i=e.apply(t,n);function o(e){r(i,c,a,o,s,\"next\",e)}function s(e){r(i,c,a,o,s,\"throw\",e)}o(void 0)}))}}n.d(t,\"a\",(function(){return c}))}},[[\"LzPb\",2,0,3,5,1,4,6,23]]]);","map":{"version":3,"sources":["static/chunks/pages/name-68602461fe81046233c5.js"],"names":["_N_E","window","push","CWuM","module","__webpack_exports__","__webpack_require__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","babel_plugin_superjson_next_tools__WEBPACK_IMPORTED_MODULE_3__","next_router__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","react_country_region_selector__WEBPACK_IMPORTED_MODULE_6__","_lib_firebase__WEBPACK_IMPORTED_MODULE_7__","_lib_newAuth__WEBPACK_IMPORTED_MODULE_8__","Object","_useState","name","setName","_useState2","userCountry","setUserCountry","router","currentUser","console","log","onSubmit","_ref","a","mark","_callee","e","wrap","_context","prev","next","preventDefault","collection","doc","uid","set","merge","abrupt","alert","stop","_x","apply","this","arguments","children","className","src","height","width","htmlFor","value","onChange","target","type","placeholder","id","defaultOptionLabel","concat","country","style","color","LzPb","exports","__NEXT_P","cqNN","d","useAuth","AuthProvider","_lib_firebase__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","js_cookie__WEBPACK_IMPORTED_MODULE_5__","js_cookie__WEBPACK_IMPORTED_MODULE_5___default","AuthContext","setCurrentUser","loading","setLoading","handleUser","_ref2","user","formatedUser","formatUser","sent","remove","signUp","_ref3","_callee2","email","password","_context2","createUserWithEmailAndPassword","then","response","_x2","_x3","unsubscribe","onIdTokenChanged","logIn","signInWithEmailAndPassword","logOut","signOut","getStripeRole","_ref4","_callee3","decodedToken","_context3","auth","getIdToken","getIdTokenResult","claims","stripeRole","_ref5","_callee4","token","_context4","t0","t1","t2","providerData","providerId","t3","t4","provider","_x4","Provider","p46w","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","undefined","call","OldCookies","Cookies","api","noConflict","extend","i","result","length","attributes","key","decode","s","replace","decodeURIComponent","init","converter","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","read","parse","getJSON","withConverter","rg98","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","_asyncToGenerator","fn","self","args","err"],"mappings":"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"},"name":"static/chunks/pages/name-68602461fe81046233c5.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[57],{\n\n/***/ \"CWuM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var babel_plugin_superjson_next_tools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"eLM2\");\n/* harmony import */ var babel_plugin_superjson_next_tools__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(babel_plugin_superjson_next_tools__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_country_region_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"fwV1\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"U6Mw\");\n/* harmony import */ var _lib_newAuth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"cqNN\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar Name = function Name() {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])(''),\n      userCountry = _useState2[0],\n      setUserCountry = _useState2[1];\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_4__[\"useRouter\"])();\n\n  var _useAuth = Object(_lib_newAuth__WEBPACK_IMPORTED_MODULE_8__[/* useAuth */ \"b\"])(),\n      currentUser = _useAuth.currentUser;\n\n  console.log(currentUser);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = Object(C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(e) {\n      return C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(name, userCountry)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 4;\n              return _lib_firebase__WEBPACK_IMPORTED_MODULE_7__[/* db */ \"b\"].collection('users').doc(currentUser.uid).set({\n                name: name\n              }, {\n                merge: true\n              });\n\n            case 4:\n              router.push('/dashboard/welcome');\n              return _context.abrupt(\"return\");\n\n            case 8:\n              alert(':(((');\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"ul\", {\n      className: \"circles\",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"li\", {})]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: \"h-screen w-full flex justify-center items-center bg-background flex-col\",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"z-50 p-10 h-auto grid grid-cols-1 grid-rows-3 w-auto max-w-nameContainer w-full bg-white rounded-3xl\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row-span-1 text-center\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n            className: \"text-2xl font-medium\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"img\", {\n              src: \"/gifs/sparkles.gif\",\n              height: 50,\n              width: 50,\n              className: \"inline-block relative bottom-2\"\n            }), ' ', \"What is your name?\"]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"text-base text-gray px-4\",\n            children: \"Oops, one more tiny step and we will get down to business.\"\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n          className: \"row-span-2\",\n          children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"form\", {\n            onSubmit: onSubmit,\n            className: \"z-50 px-4 pt-2 rounded-2xl mt-4\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                htmlFor: \"name\",\n                children: \"Name\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n                className: \"text-primarydark w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\",\n                value: name,\n                onChange: function onChange(e) {\n                  return setName(e.target.value);\n                },\n                type: \"name\",\n                placeholder: \"name\"\n              })]\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                htmlFor: \"userCountry\",\n                children: \"Country\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_country_region_selector__WEBPACK_IMPORTED_MODULE_6__[/* CountryDropdown */ \"a\"], {\n                id: \"country\",\n                defaultOptionLabel: \"country\",\n                className: \"\".concat(userCountry ? 'text-primarydark' : 'text-placeholder', \" w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"),\n                value: userCountry,\n                onChange: function onChange(country) {\n                  return setUserCountry(country);\n                }\n              })]\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {\n              style: {\n                width: '100%',\n                color: '#6C63FF'\n              }\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n              className: \"flex items-center justify-between mt-8\",\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n                className: \"text-primarydark\",\n                children: \"Back\"\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n                type: \"submit\",\n                className: \"z-50 border-2 border-primary hover:bg-primary hover:text-white text-primary font-medium py-1.5 px-6 rounded-2xl focus:outline-none\",\n                children: \"Let's start\"\n              })]\n            })]\n          })\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"text-center mt-4 text-sm text-gray-400 text-primarydark max-w-nameContainer px-4\",\n        children: \"\\u201CAlways think outside the box and embrace opportunities that appear, wherever they might be.\\u201D\"\n      })]\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(babel_plugin_superjson_next_tools__WEBPACK_IMPORTED_MODULE_3__[\"withSuperJSONPage\"])(Name));\n\n/***/ }),\n\n/***/ \"LzPb\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/name\",\n      function () {\n        return __webpack_require__(\"CWuM\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"cqNN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AuthContext */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return useAuth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AuthProvider; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"U6Mw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"p46w\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nvar AuthContext = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_4__[\"createContext\"])(); // Tutaj można umieścić default Value\n\nvar useAuth = function useAuth() {\n  return Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useContext\"])(AuthContext);\n};\nvar AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(),\n      currentUser = _useState[0],\n      setCurrentUser = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var handleUser = /*#__PURE__*/function () {\n    var _ref2 = Object(C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(user) {\n      var formatedUser;\n      return C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!user) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 3;\n              return formatUser(user);\n\n            case 3:\n              formatedUser = _context.sent;\n              // const decodedToken = await firebase.auth().currentUser.getIdTokenResult();\n              // console.log(decodedToken.claims.stripeRole);\n              _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* db */ \"b\"].collection('users').doc(user.uid).set({\n                formatedUser: formatedUser\n              }, {\n                merge: true\n              });\n              setCurrentUser(formatedUser); // Cookies.set('token', user.za, true);\n\n              js_cookie__WEBPACK_IMPORTED_MODULE_5___default.a.set('uid', user.uid);\n              setLoading(false);\n              return _context.abrupt(\"return\", formatedUser);\n\n            case 11:\n              setCurrentUser(false); // Cookies.remove('token', user.za);\n\n              js_cookie__WEBPACK_IMPORTED_MODULE_5___default.a.remove('uid');\n              setLoading(false);\n              return _context.abrupt(\"return\", false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleUser(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var signUp = /*#__PURE__*/function () {\n    var _ref3 = Object(C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(email, password) {\n      return C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* auth */ \"a\"].createUserWithEmailAndPassword(email, password).then(function (response) {\n                return handleUser(response.user);\n              });\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function signUp(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var logIn = function logIn(email, password) {\n    return _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* auth */ \"a\"].signInWithEmailAndPassword(email, password);\n  };\n\n  var logOut = function logOut() {\n    return _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* auth */ \"a\"].signOut();\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    var unsubscribe = _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* auth */ \"a\"].onIdTokenChanged(handleUser);\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  var value = {\n    currentUser: currentUser,\n    signUp: signUp,\n    logIn: logIn,\n    logOut: logOut\n  };\n\n  var getStripeRole = /*#__PURE__*/function () {\n    var _ref4 = Object(C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3() {\n      var decodedToken;\n      return C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"c\"].auth().currentUser.getIdToken(true);\n\n            case 2:\n              _context3.next = 4;\n              return _lib_firebase__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"c\"].auth().currentUser.getIdTokenResult();\n\n            case 4:\n              decodedToken = _context3.sent;\n              return _context3.abrupt(\"return\", decodedToken.claims.stripeRole || 'free');\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getStripeRole() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var formatUser = /*#__PURE__*/function () {\n    var _ref5 = Object(C_off_saas_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(user) {\n      var token;\n      return C_off_saas_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log('OFF - ', user);\n              _context4.next = 3;\n              return user.getIdToken();\n\n            case 3:\n              token = _context4.sent;\n              _context4.t0 = user.uid;\n              _context4.t1 = user.email;\n              _context4.t2 = user.providerData[0].providerId;\n              _context4.next = 9;\n              return getStripeRole();\n\n            case 9:\n              _context4.t3 = _context4.sent;\n              _context4.t4 = token;\n              return _context4.abrupt(\"return\", {\n                uid: _context4.t0,\n                email: _context4.t1,\n                provider: _context4.t2,\n                stripeRole: _context4.t3,\n                token: _context4.t4\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function formatUser(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  });\n};\n\n/***/ }),\n\n/***/ \"p46w\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (true) {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n/***/ }),\n\n/***/ \"rg98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ })\n\n},[[\"LzPb\",2,0,3,5,1,4,6,23]]]);","inputSourceMap":{"version":3,"sources":["C:\\off-saas\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\off-saas\\pages\\name.js","C:\\off-saas\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fname&absolutePagePath=private-next-pages%2Fname.js!","C:\\off-saas\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\off-saas\\lib\\newAuth.js","C:\\off-saas\\node_modules\\js-cookie\\src\\js.cookie.js","C:\\off-saas\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\asyncToGenerator.js"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACR;AACF;AACwD;AACe;AAC3B;AACpD;AACA;AACwB;AAC3B;AACI;;AAEzC;AACA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,eAAe,6DAAS;;AAExB,iBAAiB,oEAAO;AACxB;;AAEA;;AAEA;AACA,eAAe,4IAAiB,eAAe,0GAAmB;AAClE,aAAa,0GAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,wDAAE;AACvB;AACA,eAAe;AACf;AACA,eAAe;;AAEf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH,sBAAsB,8DAAK,CAAC,0DAAS;AACrC,4BAA4B,8DAAK;AACjC;AACA,8BAA8B,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS,gBAAgB,6DAAI,SAAS;AAChT,KAAK,gBAAgB,8DAAK;AAC1B;AACA,8BAA8B,8DAAK;AACnC;AACA,gCAAgC,8DAAK;AACrC;AACA,kCAAkC,8DAAK;AACvC;AACA,oCAAoC,6DAAI;AACxC;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,6DAAI;AAC/B;AACA;AACA,WAAW;AACX,SAAS,gBAAgB,6DAAI;AAC7B;AACA,iCAAiC,8DAAK;AACtC;AACA;AACA,oCAAoC,8DAAK;AACzC;AACA,sCAAsC,6DAAI;AAC1C;AACA;AACA;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,8DAAK;AAClC;AACA,sCAAsC,6DAAI;AAC1C;AACA;AACA;AACA,eAAe,gBAAgB,6DAAI,CAAC,qFAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,6DAAI;AACjC;AACA;AACA;AACA;AACA,aAAa,gBAAgB,8DAAK;AAClC;AACA,sCAAsC,6DAAI;AAC1C;AACA;AACA,eAAe,gBAAgB,6DAAI;AACnC;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO,gBAAgB,6DAAI;AAC3B;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEe,0JAAkB,MAAM,E;;;;;;;;ACtJvC;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA4B;AACnD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACwD;AACe;AAClE;AACyB;AAC9C;AACK;AAC9B,+BAA+B,2DAAa,GAAG;;AAE/C;AACP,SAAS,wDAAU;AACnB;AACO;AACP;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA;AACA,gBAAgB,4IAAiB,eAAe,0GAAmB;AACnE;AACA,aAAa,0GAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,wDAAE;AAChB;AACA,eAAe;AACf;AACA,eAAe;AACf,2CAA2C;;AAE3C,cAAc,gDAAO;AACrB;AACA;;AAEA;AACA,oCAAoC;;AAEpC,cAAc,gDAAO;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,4IAAiB,eAAe,0GAAmB;AACnE,aAAa,0GAAmB;AAChC;AACA;AACA;AACA;AACA,qBAAqB,0DAAI;AACzB;AACA,eAAe;;AAEf;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,WAAW,0DAAI;AACf;;AAEA;AACA,WAAW,0DAAI;AACf;;AAEA,EAAE,uDAAS;AACX,sBAAsB,0DAAI;AAC1B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,4IAAiB,eAAe,0GAAmB;AACnE;AACA,aAAa,0GAAmB;AAChC;AACA;AACA;AACA;AACA,qBAAqB,6DAAQ;;AAE7B;AACA;AACA,qBAAqB,6DAAQ;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,4IAAiB,eAAe,0GAAmB;AACnE;AACA,aAAa,0GAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH,sBAAsB,6DAAI;AAC1B;AACA;AACA,GAAG;AACH,E;;;;;;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,IAA0C;AAC/C,EAAE,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACjB;AACA;AACA,KAAK,IAA2B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,EAAE;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,wCAAwC;AACxC;AACA,qEAAqE;AACrE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D;;AAEA,SAAS,oBAAoB;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;;AAEA;AACA;;AAEA,2BAA2B;AAC3B,CAAC;;;;;;;;;AClKD;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C","file":"x","sourcesContent":["import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { useRouter } from 'next/router';\nimport React, { useState } from 'react';\nimport { CountryDropdown } from 'react-country-region-selector';\nimport { db } from '../lib/firebase';\nimport { useAuth } from '../lib/newAuth';\n\nvar Name = function Name() {\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      userCountry = _useState2[0],\n      setUserCountry = _useState2[1];\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      currentUser = _useAuth.currentUser;\n\n  console.log(currentUser);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(name, userCountry)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 4;\n              return db.collection('users').doc(currentUser.uid).set({\n                name: name\n              }, {\n                merge: true\n              });\n\n            case 4:\n              router.push('/dashboard/welcome');\n              return _context.abrupt(\"return\");\n\n            case 8:\n              alert(':(((');\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"ul\", {\n      className: \"circles\",\n      children: [/*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {}), /*#__PURE__*/_jsx(\"li\", {})]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"h-screen w-full flex justify-center items-center bg-background flex-col\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"z-50 p-10 h-auto grid grid-cols-1 grid-rows-3 w-auto max-w-nameContainer w-full bg-white rounded-3xl\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"row-span-1 text-center\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"text-2xl font-medium\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/gifs/sparkles.gif\",\n              height: 50,\n              width: 50,\n              className: \"inline-block relative bottom-2\"\n            }), ' ', \"What is your name?\"]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"text-base text-gray px-4\",\n            children: \"Oops, one more tiny step and we will get down to business.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row-span-2\",\n          children: /*#__PURE__*/_jsxs(\"form\", {\n            onSubmit: onSubmit,\n            className: \"z-50 px-4 pt-2 rounded-2xl mt-4\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsx(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                htmlFor: \"name\",\n                children: \"Name\"\n              }), /*#__PURE__*/_jsx(\"input\", {\n                className: \"text-primarydark w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\",\n                value: name,\n                onChange: function onChange(e) {\n                  return setName(e.target.value);\n                },\n                type: \"name\",\n                placeholder: \"name\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsx(\"label\", {\n                className: \"block text-sm font-medium mb-2\",\n                htmlFor: \"userCountry\",\n                children: \"Country\"\n              }), /*#__PURE__*/_jsx(CountryDropdown, {\n                id: \"country\",\n                defaultOptionLabel: \"country\",\n                className: \"\".concat(userCountry ? 'text-primarydark' : 'text-placeholder', \" w-full z-50 shadow appearance-none rounded-lg py-2 px-3 leading-tight focus:outline-none focus:shadow-outline\"),\n                value: userCountry,\n                onChange: function onChange(country) {\n                  return setUserCountry(country);\n                }\n              })]\n            }), /*#__PURE__*/_jsx(\"hr\", {\n              style: {\n                width: '100%',\n                color: '#6C63FF'\n              }\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center justify-between mt-8\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: \"text-primarydark\",\n                children: \"Back\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                type: \"submit\",\n                className: \"z-50 border-2 border-primary hover:bg-primary hover:text-white text-primary font-medium py-1.5 px-6 rounded-2xl focus:outline-none\",\n                children: \"Let's start\"\n              })]\n            })]\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"text-center mt-4 text-sm text-gray-400 text-primarydark max-w-nameContainer px-4\",\n        children: \"\\u201CAlways think outside the box and embrace opportunities that appear, wherever they might be.\\u201D\"\n      })]\n    })]\n  });\n};\n\nexport default _withSuperJSONPage(Name);","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/name\",\n      function () {\n        return require(\"private-next-pages/name.js\");\n      }\n    ]);\n  ","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport firebase, { auth, db } from '../lib/firebase';\nimport React, { useContext, createContext, useEffect, useState } from 'react';\nimport Cookies from 'js-cookie';\nimport { Router } from 'next/router';\nexport var AuthContext = /*#__PURE__*/createContext(); // Tutaj można umieścić default Value\n\nexport var useAuth = function useAuth() {\n  return useContext(AuthContext);\n};\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(),\n      currentUser = _useState[0],\n      setCurrentUser = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var handleUser = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n      var formatedUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!user) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 3;\n              return formatUser(user);\n\n            case 3:\n              formatedUser = _context.sent;\n              // const decodedToken = await firebase.auth().currentUser.getIdTokenResult();\n              // console.log(decodedToken.claims.stripeRole);\n              db.collection('users').doc(user.uid).set({\n                formatedUser: formatedUser\n              }, {\n                merge: true\n              });\n              setCurrentUser(formatedUser); // Cookies.set('token', user.za, true);\n\n              Cookies.set('uid', user.uid);\n              setLoading(false);\n              return _context.abrupt(\"return\", formatedUser);\n\n            case 11:\n              setCurrentUser(false); // Cookies.remove('token', user.za);\n\n              Cookies.remove('uid');\n              setLoading(false);\n              return _context.abrupt(\"return\", false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleUser(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var signUp = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email, password) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return auth.createUserWithEmailAndPassword(email, password).then(function (response) {\n                return handleUser(response.user);\n              });\n\n            case 2:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function signUp(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var logIn = function logIn(email, password) {\n    return auth.signInWithEmailAndPassword(email, password);\n  };\n\n  var logOut = function logOut() {\n    return auth.signOut();\n  };\n\n  useEffect(function () {\n    var unsubscribe = auth.onIdTokenChanged(handleUser);\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  var value = {\n    currentUser: currentUser,\n    signUp: signUp,\n    logIn: logIn,\n    logOut: logOut\n  };\n\n  var getStripeRole = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var decodedToken;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return firebase.auth().currentUser.getIdToken(true);\n\n            case 2:\n              _context3.next = 4;\n              return firebase.auth().currentUser.getIdTokenResult();\n\n            case 4:\n              decodedToken = _context3.sent;\n              return _context3.abrupt(\"return\", decodedToken.claims.stripeRole || 'free');\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getStripeRole() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var formatUser = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(user) {\n      var token;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log('OFF - ', user);\n              _context4.next = 3;\n              return user.getIdToken();\n\n            case 3:\n              token = _context4.sent;\n              _context4.t0 = user.uid;\n              _context4.t1 = user.email;\n              _context4.t2 = user.providerData[0].providerId;\n              _context4.next = 9;\n              return getStripeRole();\n\n            case 9:\n              _context4.t3 = _context4.sent;\n              _context4.t4 = token;\n              return _context4.abrupt(\"return\", {\n                uid: _context4.t0,\n                email: _context4.t1,\n                provider: _context4.t2,\n                stripeRole: _context4.t3,\n                token: _context4.t4\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function formatUser(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  });\n};","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"]}}