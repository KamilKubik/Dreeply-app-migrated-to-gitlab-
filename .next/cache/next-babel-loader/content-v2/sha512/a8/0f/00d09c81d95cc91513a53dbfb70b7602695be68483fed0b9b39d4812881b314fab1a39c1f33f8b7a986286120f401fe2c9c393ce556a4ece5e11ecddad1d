{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\off-saas\\\\components\\\\dashboard\\\\startup\\\\project\\\\business-app\\\\competitors\\\\Competitor.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Router from 'next/router';\nimport { db, storage } from '../../../../../../lib/firebase';\nimport debounce from '../../../../../../utils/helpers'; // import Image from 'next/image';\n\nimport gsap, { Linear } from 'gsap';\nimport { isMobile } from 'react-device-detect';\n\nvar Competitor = function Competitor(_ref) {\n  _s();\n\n  var data = _ref.data,\n      projectId = _ref.projectId,\n      documentId = _ref.documentId,\n      competitors = _ref.competitors,\n      index = _ref.index,\n      setCompetitors = _ref.setCompetitors,\n      provided = _ref.provided;\n\n  var _useState = useState(''),\n      image = _useState[0],\n      setImage = _useState[1];\n\n  var _useState2 = useState(''),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      location = _useState3[0],\n      setLocation = _useState3[1];\n\n  var _useState4 = useState(''),\n      employees = _useState4[0],\n      setEmployees = _useState4[1];\n\n  var _useState5 = useState(''),\n      revenue = _useState5[0],\n      setRevenue = _useState5[1];\n\n  var _useState6 = useState(''),\n      elementIndex = _useState6[0],\n      setElementIndex = _useState6[1]; // Elements\n\n\n  var _useState7 = useState(''),\n      companyDescription = _useState7[0],\n      setCompanyDescription = _useState7[1];\n\n  var _useState8 = useState(''),\n      businessModel = _useState8[0],\n      setBusinessModel = _useState8[1];\n\n  var _useState9 = useState(''),\n      productOverview = _useState9[0],\n      setProductOverview = _useState9[1];\n\n  var _useState10 = useState(''),\n      promotionStrategy = _useState10[0],\n      setPromotionStrategy = _useState10[1];\n\n  var _useState11 = useState(''),\n      companyStrengths = _useState11[0],\n      setCompanyStrengths = _useState11[1];\n\n  var _useState12 = useState(''),\n      companyWeaknesses = _useState12[0],\n      setCompanyWeaknesses = _useState12[1];\n\n  var _useState13 = useState(''),\n      opportunities = _useState13[0],\n      setOpportunities = _useState13[1];\n\n  useEffect(function () {\n    setImage(data.image);\n    setTitle(data.title);\n    setLocation(data.location);\n    setEmployees(data.employees);\n    setRevenue(data.revenue);\n    setElementIndex(data.index); // Elements\n\n    setCompanyDescription(data.companyDescription);\n    setBusinessModel(data.businessModel);\n    setProductOverview(data.productOverview);\n    setPromotionStrategy(data.promotionStrategy);\n    setCompanyStrengths(data.companyStrengths);\n    setCompanyWeaknesses(data.companyWeaknesses);\n    setOpportunities(data.opportunities);\n  }, [competitors]);\n\n  var onFileChange = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var file, storageRef, fileRef, newCompetitorsArray;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = e.target.files[0];\n              storageRef = storage.ref();\n              fileRef = storageRef.child(file.name);\n              _context.next = 5;\n              return fileRef.put(file);\n\n            case 5:\n              _context.t0 = setImage;\n              _context.next = 8;\n              return fileRef.getDownloadURL();\n\n            case 8:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n              // Firebase update\n              newCompetitorsArray = _toConsumableArray(competitors);\n              _context.next = 13;\n              return fileRef.getDownloadURL();\n\n            case 13:\n              _context.t2 = _context.sent;\n              _context.t3 = title;\n              _context.t4 = location;\n              _context.t5 = employees;\n              _context.t6 = revenue;\n              _context.t7 = elementIndex;\n              _context.t8 = companyDescription;\n              _context.t9 = businessModel;\n              _context.t10 = productOverview;\n              _context.t11 = promotionStrategy;\n              _context.t12 = companyStrengths;\n              _context.t13 = companyWeaknesses;\n              _context.t14 = opportunities;\n              newCompetitorsArray[index] = {\n                image: _context.t2,\n                title: _context.t3,\n                location: _context.t4,\n                employees: _context.t5,\n                revenue: _context.t6,\n                elementIndex: _context.t7,\n                companyDescription: _context.t8,\n                businessModel: _context.t9,\n                productOverview: _context.t10,\n                promotionStrategy: _context.t11,\n                companyStrengths: _context.t12,\n                companyWeaknesses: _context.t13,\n                opportunities: _context.t14\n              };\n              _context.next = 29;\n              return db.collection('projects').doc(projectId).collection('competitors').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                competitorsArray: newCompetitorsArray\n              });\n\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFileChange(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onDataChange = function onDataChange(value, type) {\n    console.log(type);\n    type === 'title' && setTitle(value);\n    type === 'location' && setLocation(value);\n    type === 'employees' && setEmployees(value);\n    type === 'revenue' && setRevenue(value); // Elements\n\n    type === 'companyDescription' && setCompanyDescription(value);\n    type === 'businessModel' && setBusinessModel(value);\n    type === 'productOverview' && setProductOverview(value);\n    type === 'promotionStrategy' && setPromotionStrategy(value);\n    type === 'companyStrengths' && setCompanyStrengths(value);\n    type === 'companyWeaknesses' && setCompanyWeaknesses(value);\n    type === 'opportunities' && setOpportunities(value);\n\n    var newCompetitorsArray = _toConsumableArray(competitors);\n\n    newCompetitorsArray[index] = {\n      title: type === 'title' ? value : title,\n      location: type === 'location' ? value : location,\n      employees: type === 'employees' ? value : employees,\n      revenue: type === 'revenue' ? value : revenue,\n      image: image,\n      index: elementIndex,\n      // Elements\n      companyDescription: type === 'companyDescription' ? value : companyDescription,\n      businessModel: type === 'businessModel' ? value : businessModel,\n      productOverview: type === 'productOverview' ? value : productOverview,\n      promotionStrategy: type === 'promotionStrategy' ? value : promotionStrategy,\n      companyStrengths: type === 'companyStrengths' ? value : companyStrengths,\n      companyWeaknesses: type === 'companyWeaknesses' ? value : companyWeaknesses,\n      opportunities: type === 'opportunities' ? value : opportunities\n    };\n    dataUpdate(newCompetitorsArray);\n  };\n\n  var dataUpdate = useCallback(debounce( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newCompetitorsArray) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return db.collection('projects').doc(projectId).collection('competitors').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                competitorsArray: newCompetitorsArray\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), 300), []);\n\n  var onCompetitorRemove = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(index) {\n      var newCompetitors;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              newCompetitors = competitors.filter(function (element) {\n                return index !== element.index;\n              }); // setCompetitors(newCompetitors);\n              // Firebase update\n\n              _context3.next = 3;\n              return db.collection('projects').doc(projectId).collection('competitors').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                competitorsArray: newCompetitors\n              });\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onCompetitorRemove(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var _useState14 = useState(false),\n      dropdownHelper = _useState14[0],\n      setDropdownHelper = _useState14[1];\n\n  var initialContainer = document.getElementById(index); // Elements\n\n  var descriptionTitle = document.getElementById(\"descriptionTitle\".concat(index));\n  var placeholderTitle = document.getElementById(\"placeholderTitle\".concat(index));\n  var descriptionModel = document.getElementById(\"descriptionModel\".concat(index));\n  var placeholderModel = document.getElementById(\"placeholderModel\".concat(index));\n  var descriptionProduct = document.getElementById(\"descriptionProduct\".concat(index));\n  var placeholderProduct = document.getElementById(\"placeholderProduct\".concat(index));\n  var descriptionPromotion = document.getElementById(\"descriptionPromotion\".concat(index));\n  var placeholderPromotion = document.getElementById(\"placeholderPromotion\".concat(index));\n  var descriptionStrengths = document.getElementById(\"descriptionStrengths\".concat(index));\n  var placeholderStrengths = document.getElementById(\"placeholderStrengths\".concat(index));\n  var descriptionWeaknesses = document.getElementById(\"descriptionWeaknesses\".concat(index));\n  var placeholderWeaknesses = document.getElementById(\"placeholderWeaknesses\".concat(index));\n  var descriptionOpportunities = document.getElementById(\"descriptionOpportunities\".concat(index));\n  var placeholderOpportunities = document.getElementById(\"placeholderOpportunities\".concat(index));\n  var dropDownElement = document.getElementById(\"dropdown\".concat(index));\n  var dataElement = document.getElementById(\"data\".concat(index));\n  useEffect(function () {\n    gsap.set(dropDownElement, {\n      rotation: '-90_cw'\n    });\n\n    if (!isMobile) {\n      var containerElement = document.getElementById(\"container\".concat(index));\n      var competitorManager = document.getElementById(\"manager\".concat(index));\n      containerElement.addEventListener('mouseenter', function () {\n        gsap.to(competitorManager, {\n          height: 25,\n          marignBottom: 16,\n          duration: 0.5,\n          ease: Linear.easeIn\n        });\n        gsap.to(initialContainer, {\n          marginTop: 16,\n          duration: 0.5,\n          ease: Linear.easeIn\n        });\n      });\n      containerElement.addEventListener('mouseleave', function () {\n        gsap.to(competitorManager, {\n          height: 0,\n          marginBottom: 0,\n          duration: 0.5,\n          ease: Linear.easeOut\n        });\n        gsap.to(initialContainer, {\n          marginTop: 0,\n          duration: 0.5,\n          ease: Linear.easeIn\n        });\n      });\n    }\n  }, [dropDownElement]);\n\n  var onSectionDropdown = function onSectionDropdown() {\n    var sectionHeight = descriptionTitle.offsetHeight + placeholderTitle.offsetHeight + descriptionModel.offsetHeight + placeholderModel.offsetHeight + 24 + descriptionProduct.offsetHeight + placeholderProduct.offsetHeight + 24 + descriptionPromotion.offsetHeight + placeholderPromotion.offsetHeight + 24 + descriptionStrengths.offsetHeight + placeholderStrengths.offsetHeight + 24 + descriptionWeaknesses.offsetHeight + placeholderWeaknesses.offsetHeight + 24 + descriptionOpportunities.offsetHeight + placeholderOpportunities.offsetHeight + 24;\n\n    if (!dropdownHelper) {\n      gsap.to(dataElement, {\n        height: sectionHeight,\n        marginTop: 32,\n        marginBottom: 112,\n        autoAlpha: 1,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownElement, {\n        rotation: '0_cw',\n        duration: 1,\n        ease: Linear\n      });\n      setDropdownHelper(true);\n    } else if (dropdownHelper) {\n      gsap.to(dataElement, {\n        height: 0,\n        marginTop: 0,\n        marginBottom: 0,\n        autoAlpha: 0,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownElement, {\n        rotation: '-90_ccw',\n        duration: 1,\n        ease: Linear\n      });\n      setDropdownHelper(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: 'fit-content'\n    },\n    id: \"container\".concat(index),\n    className: \"w-full bg-background rounded-2xl p-4 ssmContainer:p-6 shadow-md overflow-hidden mt-8 smContainer:mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"\".concat(isMobile ? 40 : 0),\n        top: \"\".concat(isMobile ? '-6px' : '-6px')\n      },\n      id: \"manager\".concat(index),\n      className: \"flex justify-between relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"cursor-pointer\" //   style={{ transform: 'rotate(-90deg)' }}\n        ,\n        onClick: onSectionDropdown,\n        id: \"dropdown\".concat(index),\n        src: \"/competitors/dropdown.svg\",\n        height: 18,\n        width: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"cursor-pointer mr-2\",\n          src: \"/competitors/drag.svg\",\n          height: 18,\n          width: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"cursor-pointer\",\n          onClick: function onClick() {\n            return onCompetitorRemove(data.index);\n          },\n          src: \"/competitors/remove.svg\",\n          height: 18,\n          width: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: index,\n      className: \"flex gap-6 flex-col justify-center items-center smContainer:gap-0 smContainer:grid smContainer:grid-cols-12fr\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"smContainer:col-start-1 smContainer:col-end-4 justify-self-center flex justify-start items-center\",\n        children: [image !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"upload-image\".concat(index),\n          className: \"relative w-20 h-20 cursor-pointer rounded-full bg-white flex justify-center items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image,\n            height: 55,\n            width: 55\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"upload-image\".concat(index),\n            className: \"w-20 h-20 cursor-pointer rounded-full bg-primary flex justify-center items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/competitors/empty-image.svg\",\n              height: 65,\n              width: 65\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"upload-image\".concat(index),\n          style: {\n            display: 'none',\n            zIndex: 10\n          },\n          onChange: onFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"smContainer:col-start-5 smContainer:col-end-13 grid grid-cols-2fr grid-rows-2fr justify-items-center items-center gap-x-4 ssmContainer:gap-x-8 gap-y-2 ssmContainer:gap-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return onDataChange(e.target.value, 'title');\n            },\n            value: title,\n            className: \"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\",\n            placeholder: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return onDataChange(e.target.value, 'location');\n            },\n            value: location,\n            className: \"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\",\n            placeholder: \"location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return onDataChange(e.target.value, 'employees');\n            },\n            value: employees,\n            className: \"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\",\n            placeholder: \"employees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: function onChange(e) {\n              return onDataChange(e.target.value, 'revenue');\n            },\n            value: revenue,\n            className: \"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\",\n            placeholder: \"revenue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"data\".concat(index),\n      className: \"w-full h-0 invisible\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionTitle\".concat(index),\n        className: \"flex justify-start items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/description.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Company description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: companyDescription,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'companyDescription');\n        },\n        id: \"placeholderTitle\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"Describe the main assumption of analyzed company.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionModel\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/model.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Business model\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: businessModel,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'businessModel');\n        },\n        id: \"placeholderModel\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"How does the company business model look like?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionProduct\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/product1.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Product overview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: productOverview,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'productOverview');\n        },\n        id: \"placeholderProduct\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"What is the full range of products and services the company offers?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionPromotion\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/promotion.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Promotion strategy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: promotionStrategy,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'promotionStrategy');\n        },\n        id: \"placeholderPromotion\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"What are the company marketing and promotional strategies?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionStrengths\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/strengths.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Company strengths\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: companyStrengths,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'companyStrengths');\n        },\n        id: \"placeholderStrengths\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"What do your competitors do really well that differentiates them?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionWeaknesses\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/weaknesses.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Company Weaknesses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: companyWeaknesses,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'companyWeaknesses');\n        },\n        id: \"placeholderWeaknesses\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"What do the company customers complain about the most, and what products do they lack?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"descriptionOpportunities\".concat(index),\n        className: \"flex justify-start items-center mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/competitors/opportunities2.svg\",\n          height: 22,\n          width: 22\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-primarydark ml-2\",\n          children: \"Opportunities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: opportunities,\n        onChange: function onChange(e) {\n          return onDataChange(e.target.value, 'opportunities');\n        },\n        id: \"placeholderOpportunities\".concat(index),\n        className: \"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\",\n        placeholder: \"What distinguish your startup from this particular competitive company?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Competitor, \"8WOd8HRE33WV1RYaVOpQngZ3B7A=\");\n\n_c = Competitor;\nexport default Competitor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Competitor\");","map":{"version":3,"sources":["C:/off-saas/components/dashboard/startup/project/business-app/competitors/Competitor.js"],"names":["React","useCallback","useEffect","useRef","useState","Router","db","storage","debounce","gsap","Linear","isMobile","Competitor","data","projectId","documentId","competitors","index","setCompetitors","provided","image","setImage","title","setTitle","location","setLocation","employees","setEmployees","revenue","setRevenue","elementIndex","setElementIndex","companyDescription","setCompanyDescription","businessModel","setBusinessModel","productOverview","setProductOverview","promotionStrategy","setPromotionStrategy","companyStrengths","setCompanyStrengths","companyWeaknesses","setCompanyWeaknesses","opportunities","setOpportunities","onFileChange","e","file","target","files","storageRef","ref","fileRef","child","name","put","getDownloadURL","newCompetitorsArray","collection","doc","query","project","update","competitorsArray","onDataChange","value","type","console","log","dataUpdate","onCompetitorRemove","newCompetitors","filter","element","dropdownHelper","setDropdownHelper","initialContainer","document","getElementById","descriptionTitle","placeholderTitle","descriptionModel","placeholderModel","descriptionProduct","placeholderProduct","descriptionPromotion","placeholderPromotion","descriptionStrengths","placeholderStrengths","descriptionWeaknesses","placeholderWeaknesses","descriptionOpportunities","placeholderOpportunities","dropDownElement","dataElement","set","rotation","containerElement","competitorManager","addEventListener","to","height","marignBottom","duration","ease","easeIn","marginTop","marginBottom","easeOut","onSectionDropdown","sectionHeight","offsetHeight","autoAlpha","top","display","zIndex"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport Router from 'next/router';\r\nimport { db, storage } from '../../../../../../lib/firebase';\r\nimport debounce from '../../../../../../utils/helpers';\r\n// import Image from 'next/image';\r\nimport gsap, { Linear } from 'gsap';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nconst Competitor = ({ data, projectId, documentId, competitors, index, setCompetitors, provided }) => {\r\n  const [image, setImage] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [employees, setEmployees] = useState('');\r\n  const [revenue, setRevenue] = useState('');\r\n  const [elementIndex, setElementIndex] = useState('');\r\n  // Elements\r\n  const [companyDescription, setCompanyDescription] = useState('');\r\n  const [businessModel, setBusinessModel] = useState('');\r\n  const [productOverview, setProductOverview] = useState('');\r\n  const [promotionStrategy, setPromotionStrategy] = useState('');\r\n  const [companyStrengths, setCompanyStrengths] = useState('');\r\n  const [companyWeaknesses, setCompanyWeaknesses] = useState('');\r\n  const [opportunities, setOpportunities] = useState('');\r\n\r\n  useEffect(() => {\r\n    setImage(data.image);\r\n    setTitle(data.title);\r\n    setLocation(data.location);\r\n    setEmployees(data.employees);\r\n    setRevenue(data.revenue);\r\n    setElementIndex(data.index);\r\n    // Elements\r\n    setCompanyDescription(data.companyDescription);\r\n    setBusinessModel(data.businessModel);\r\n    setProductOverview(data.productOverview);\r\n    setPromotionStrategy(data.promotionStrategy);\r\n    setCompanyStrengths(data.companyStrengths);\r\n    setCompanyWeaknesses(data.companyWeaknesses);\r\n    setOpportunities(data.opportunities);\r\n  }, [competitors]);\r\n\r\n  const onFileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    const storageRef = storage.ref();\r\n    const fileRef = storageRef.child(file.name);\r\n    await fileRef.put(file);\r\n    setImage(await fileRef.getDownloadURL());\r\n\r\n    // Firebase update\r\n    const newCompetitorsArray = [...competitors];\r\n    newCompetitorsArray[index] = {\r\n      image: await fileRef.getDownloadURL(),\r\n      title,\r\n      location,\r\n      employees,\r\n      revenue,\r\n      elementIndex,\r\n      companyDescription,\r\n      businessModel,\r\n      productOverview,\r\n      promotionStrategy,\r\n      companyStrengths,\r\n      companyWeaknesses,\r\n      opportunities,\r\n    };\r\n\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('competitors')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ competitorsArray: newCompetitorsArray });\r\n  };\r\n\r\n  const onDataChange = (value, type) => {\r\n    console.log(type);\r\n    type === 'title' && setTitle(value);\r\n    type === 'location' && setLocation(value);\r\n    type === 'employees' && setEmployees(value);\r\n    type === 'revenue' && setRevenue(value);\r\n    // Elements\r\n    type === 'companyDescription' && setCompanyDescription(value);\r\n    type === 'businessModel' && setBusinessModel(value);\r\n    type === 'productOverview' && setProductOverview(value);\r\n    type === 'promotionStrategy' && setPromotionStrategy(value);\r\n    type === 'companyStrengths' && setCompanyStrengths(value);\r\n    type === 'companyWeaknesses' && setCompanyWeaknesses(value);\r\n    type === 'opportunities' && setOpportunities(value);\r\n\r\n    const newCompetitorsArray = [...competitors];\r\n    newCompetitorsArray[index] = {\r\n      title: type === 'title' ? value : title,\r\n      location: type === 'location' ? value : location,\r\n      employees: type === 'employees' ? value : employees,\r\n      revenue: type === 'revenue' ? value : revenue,\r\n      image: image,\r\n      index: elementIndex,\r\n      // Elements\r\n      companyDescription: type === 'companyDescription' ? value : companyDescription,\r\n      businessModel: type === 'businessModel' ? value : businessModel,\r\n      productOverview: type === 'productOverview' ? value : productOverview,\r\n      promotionStrategy: type === 'promotionStrategy' ? value : promotionStrategy,\r\n      companyStrengths: type === 'companyStrengths' ? value : companyStrengths,\r\n      companyWeaknesses: type === 'companyWeaknesses' ? value : companyWeaknesses,\r\n      opportunities: type === 'opportunities' ? value : opportunities,\r\n    };\r\n    dataUpdate(newCompetitorsArray);\r\n  };\r\n\r\n  const dataUpdate = useCallback(\r\n    debounce(async (newCompetitorsArray) => {\r\n      // Firebase update\r\n      await db\r\n        .collection('projects')\r\n        .doc(projectId)\r\n        .collection('competitors')\r\n        .doc(Router.query.project)\r\n        .collection('inputs')\r\n        .doc(documentId)\r\n        .update({ competitorsArray: newCompetitorsArray });\r\n    }, 300),\r\n    []\r\n  );\r\n\r\n  const onCompetitorRemove = async (index) => {\r\n    const newCompetitors = competitors.filter((element) => index !== element.index);\r\n    // setCompetitors(newCompetitors);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('competitors')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ competitorsArray: newCompetitors });\r\n  };\r\n\r\n  const [dropdownHelper, setDropdownHelper] = useState(false);\r\n\r\n  const initialContainer = document.getElementById(index);\r\n  // Elements\r\n  const descriptionTitle = document.getElementById(`descriptionTitle${index}`);\r\n  const placeholderTitle = document.getElementById(`placeholderTitle${index}`);\r\n  const descriptionModel = document.getElementById(`descriptionModel${index}`);\r\n  const placeholderModel = document.getElementById(`placeholderModel${index}`);\r\n  const descriptionProduct = document.getElementById(`descriptionProduct${index}`);\r\n  const placeholderProduct = document.getElementById(`placeholderProduct${index}`);\r\n  const descriptionPromotion = document.getElementById(`descriptionPromotion${index}`);\r\n  const placeholderPromotion = document.getElementById(`placeholderPromotion${index}`);\r\n  const descriptionStrengths = document.getElementById(`descriptionStrengths${index}`);\r\n  const placeholderStrengths = document.getElementById(`placeholderStrengths${index}`);\r\n  const descriptionWeaknesses = document.getElementById(`descriptionWeaknesses${index}`);\r\n  const placeholderWeaknesses = document.getElementById(`placeholderWeaknesses${index}`);\r\n  const descriptionOpportunities = document.getElementById(`descriptionOpportunities${index}`);\r\n  const placeholderOpportunities = document.getElementById(`placeholderOpportunities${index}`);\r\n\r\n  const dropDownElement = document.getElementById(`dropdown${index}`);\r\n  const dataElement = document.getElementById(`data${index}`);\r\n\r\n  useEffect(() => {\r\n    gsap.set(dropDownElement, { rotation: '-90_cw' });\r\n    if (!isMobile) {\r\n      const containerElement = document.getElementById(`container${index}`);\r\n      const competitorManager = document.getElementById(`manager${index}`);\r\n      containerElement.addEventListener('mouseenter', () => {\r\n        gsap.to(competitorManager, { height: 25, marignBottom: 16, duration: 0.5, ease: Linear.easeIn });\r\n        gsap.to(initialContainer, { marginTop: 16, duration: 0.5, ease: Linear.easeIn });\r\n      });\r\n      containerElement.addEventListener('mouseleave', () => {\r\n        gsap.to(competitorManager, { height: 0, marginBottom: 0, duration: 0.5, ease: Linear.easeOut });\r\n        gsap.to(initialContainer, { marginTop: 0, duration: 0.5, ease: Linear.easeIn });\r\n      });\r\n    }\r\n  }, [dropDownElement]);\r\n\r\n  const onSectionDropdown = () => {\r\n    const sectionHeight =\r\n      descriptionTitle.offsetHeight +\r\n      placeholderTitle.offsetHeight +\r\n      descriptionModel.offsetHeight +\r\n      placeholderModel.offsetHeight +\r\n      24 +\r\n      descriptionProduct.offsetHeight +\r\n      placeholderProduct.offsetHeight +\r\n      24 +\r\n      descriptionPromotion.offsetHeight +\r\n      placeholderPromotion.offsetHeight +\r\n      24 +\r\n      descriptionStrengths.offsetHeight +\r\n      placeholderStrengths.offsetHeight +\r\n      24 +\r\n      descriptionWeaknesses.offsetHeight +\r\n      placeholderWeaknesses.offsetHeight +\r\n      24 +\r\n      descriptionOpportunities.offsetHeight +\r\n      placeholderOpportunities.offsetHeight +\r\n      24;\r\n    if (!dropdownHelper) {\r\n      gsap.to(dataElement, { height: sectionHeight, marginTop: 32, marginBottom: 112, autoAlpha: 1, duration: 1, ease: Linear });\r\n      gsap.to(dropDownElement, { rotation: '0_cw', duration: 1, ease: Linear });\r\n      setDropdownHelper(true);\r\n    } else if (dropdownHelper) {\r\n      gsap.to(dataElement, { height: 0, marginTop: 0, marginBottom: 0, autoAlpha: 0, duration: 1, ease: Linear });\r\n      gsap.to(dropDownElement, { rotation: '-90_ccw', duration: 1, ease: Linear });\r\n      setDropdownHelper(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ height: 'fit-content' }}\r\n      id={`container${index}`}\r\n      className=\"w-full bg-background rounded-2xl p-4 ssmContainer:p-6 shadow-md overflow-hidden mt-8 smContainer:mt-8\"\r\n    >\r\n      <div\r\n        style={{ height: `${isMobile ? 40 : 0}`, top: `${isMobile ? '-6px' : '-6px'}` }}\r\n        id={`manager${index}`}\r\n        className=\"flex justify-between relative\"\r\n      >\r\n        <img\r\n          className=\"cursor-pointer\"\r\n          //   style={{ transform: 'rotate(-90deg)' }}\r\n          onClick={onSectionDropdown}\r\n          id={`dropdown${index}`}\r\n          src=\"/competitors/dropdown.svg\"\r\n          height={18}\r\n          width={18}\r\n        />\r\n        <div className=\"flex\">\r\n          <img className=\"cursor-pointer mr-2\" src=\"/competitors/drag.svg\" height={18} width={18} />\r\n          <img\r\n            className=\"cursor-pointer\"\r\n            onClick={() => onCompetitorRemove(data.index)}\r\n            src=\"/competitors/remove.svg\"\r\n            height={18}\r\n            width={18}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div\r\n        id={index}\r\n        className=\"flex gap-6 flex-col justify-center items-center smContainer:gap-0 smContainer:grid smContainer:grid-cols-12fr\"\r\n      >\r\n        <div className=\"smContainer:col-start-1 smContainer:col-end-4 justify-self-center flex justify-start items-center\">\r\n          {image !== '' ? (\r\n            <label\r\n              htmlFor={`upload-image${index}`}\r\n              className=\"relative w-20 h-20 cursor-pointer rounded-full bg-white flex justify-center items-center\"\r\n            >\r\n              <img src={image} height={55} width={55} />\r\n            </label>\r\n          ) : (\r\n            <div>\r\n              <label\r\n                htmlFor={`upload-image${index}`}\r\n                className=\"w-20 h-20 cursor-pointer rounded-full bg-primary flex justify-center items-center\"\r\n              >\r\n                <img src=\"/competitors/empty-image.svg\" height={65} width={65} />\r\n              </label>\r\n            </div>\r\n          )}\r\n          <input type=\"file\" id={`upload-image${index}`} style={{ display: 'none', zIndex: 10 }} onChange={onFileChange} />\r\n        </div>\r\n        <div className=\"smContainer:col-start-5 smContainer:col-end-13 grid grid-cols-2fr grid-rows-2fr justify-items-center items-center gap-x-4 ssmContainer:gap-x-8 gap-y-2 ssmContainer:gap-y-4\">\r\n          <div>\r\n            <input\r\n              onChange={(e) => onDataChange(e.target.value, 'title')}\r\n              value={title}\r\n              className=\"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\"\r\n              placeholder=\"name\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              onChange={(e) => onDataChange(e.target.value, 'location')}\r\n              value={location}\r\n              className=\"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\"\r\n              placeholder=\"location\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              onChange={(e) => onDataChange(e.target.value, 'employees')}\r\n              value={employees}\r\n              className=\"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\"\r\n              placeholder=\"employees\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <input\r\n              onChange={(e) => onDataChange(e.target.value, 'revenue')}\r\n              value={revenue}\r\n              className=\"bg-white rounded-2xl w-full px-3 py-2 text-sm text-primarydark focus:outline-none\"\r\n              placeholder=\"revenue\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Company description */}\r\n      <div id={`data${index}`} className=\"w-full h-0 invisible\">\r\n        <div id={`descriptionTitle${index}`} className=\"flex justify-start items-center\">\r\n          <img src=\"/competitors/description.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Company description</p>\r\n        </div>\r\n        <textarea\r\n          value={companyDescription}\r\n          onChange={(e) => onDataChange(e.target.value, 'companyDescription')}\r\n          id={`placeholderTitle${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"Describe the main assumption of analyzed company.\"\r\n        />\r\n        {/* Title end */}\r\n        <div id={`descriptionModel${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/model.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Business model</p>\r\n        </div>\r\n        <textarea\r\n          value={businessModel}\r\n          onChange={(e) => onDataChange(e.target.value, 'businessModel')}\r\n          id={`placeholderModel${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"How does the company business model look like?\"\r\n        />\r\n        {/* Model end */}\r\n        <div id={`descriptionProduct${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/product1.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Product overview</p>\r\n        </div>\r\n        <textarea\r\n          value={productOverview}\r\n          onChange={(e) => onDataChange(e.target.value, 'productOverview')}\r\n          id={`placeholderProduct${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"What is the full range of products and services the company offers?\"\r\n        />\r\n        {/* Product end */}\r\n        <div id={`descriptionPromotion${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/promotion.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Promotion strategy</p>\r\n        </div>\r\n        <textarea\r\n          value={promotionStrategy}\r\n          onChange={(e) => onDataChange(e.target.value, 'promotionStrategy')}\r\n          id={`placeholderPromotion${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"What are the company marketing and promotional strategies?\"\r\n        />\r\n        {/* Promotion end */}\r\n        <div id={`descriptionStrengths${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/strengths.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Company strengths</p>\r\n        </div>\r\n        <textarea\r\n          value={companyStrengths}\r\n          onChange={(e) => onDataChange(e.target.value, 'companyStrengths')}\r\n          id={`placeholderStrengths${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"What do your competitors do really well that differentiates them?\"\r\n        />\r\n        {/* Strengths end */}\r\n        <div id={`descriptionWeaknesses${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/weaknesses.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Company Weaknesses</p>\r\n        </div>\r\n        <textarea\r\n          value={companyWeaknesses}\r\n          onChange={(e) => onDataChange(e.target.value, 'companyWeaknesses')}\r\n          id={`placeholderWeaknesses${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"What do the company customers complain about the most, and what products do they lack?\"\r\n        />\r\n        {/* Weaknesses end */}\r\n        <div id={`descriptionOpportunities${index}`} className=\"flex justify-start items-center mt-6\">\r\n          <img src=\"/competitors/opportunities2.svg\" height={22} width={22} />\r\n          <p className=\"text-primarydark ml-2\">Opportunities</p>\r\n        </div>\r\n        <textarea\r\n          value={opportunities}\r\n          onChange={(e) => onDataChange(e.target.value, 'opportunities')}\r\n          id={`placeholderOpportunities${index}`}\r\n          className=\"w-full bg-white rounded-2xl mt-2 p-2 text-primarydark text-sm px-4 py-3 h-28 max-h-28 focus:outline-none\"\r\n          placeholder=\"What distinguish your startup from this particular competitive company?\"\r\n        />\r\n        {/* Opportunities end */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Competitor;\r\n"]},"metadata":{},"sourceType":"module"}