{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { withSuperJSONProps as _withSuperJSONProps } from \"babel-plugin-superjson-next/tools\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { db } from '../../../../lib/firebase-admin';\nimport { useRouter } from 'next/router';\nimport Cookies from 'js-cookie';\nimport { db as dbClient } from '../../../../lib/firebase';\nimport { useAuth } from '../../../../lib/newAuth';\nimport NavbarTemplate from '../../../../components/dashboard/NavbarTemplate';\nimport TippyMonster from '../../../../components/dashboard/Tippy'; // import ProjectNav from '../../../../components/dashboard/startup/project/ProjectNav';\n\nimport { isMobile } from 'react-device-detect';\nimport MobilePrevent from '../../../../components/MobilePrevent';\nimport BounceLoaderComponent from '../../../../components/BounceLoader';\nimport UsersManager from '../../../../components/dashboard/startup/project/business-app/UsersManager';\n\nconst ProjectPage = ({\n  projects\n}) => {\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const containerRef = useRef();\n  const {\n    currentUser\n  } = useAuth();\n  const router = useRouter();\n  useEffect(() => {\n    const uid = Cookies.get('uid');\n    const filteredArray = projects && projects.filter(project => project.uid == uid);\n    console.log(filteredArray);\n    filteredArray && filteredArray.length == 1 && setSelectedProject(filteredArray[0]);\n  }, [projects]); // STARTUP IDEA CREATE\n\n  const onStartupIdeaCreate = async () => {\n    if (selectedProject && selectedProject.isIdeaPlanCreated) {\n      router.push(`/dashboard/projects/${router.query.project}/startup-idea/vision`);\n      return;\n    }\n\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('startupIdea').doc(router.query.project).set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('startupIdea').doc(router.query.project).collection('inputs').doc().set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName,\n      filledSection: false,\n      filledSection1: false,\n      filledSection2: false,\n      filledSection3: false,\n      filledSection4: false,\n      marketProblemSectionData: 'blank',\n      marketSolutionSectionData: 'blank',\n      foundersSectionData: 'blank',\n      productOverviewSectionData: 'blank',\n      productPromotionSectionData: 'blank',\n      productBenefitsSectionData: 'blank',\n      marketOverviewSectionData: 'blank',\n      competitorsSectionData: 'blank',\n      targetCustomersSectionData: 'blank',\n      competitionDistinguishSectionData: 'blank',\n      startupCostsSectionData: 'blank',\n      runningCostsSectionData: 'blank',\n      financingSectionData: 'blank',\n      businessModelOverviewSectionData: 'blank',\n      businessGrowSectionData: 'blank',\n      whySuccessSectionData: 'blank'\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isIdeaPlanCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/startup-idea/vision`);\n  }; // BUSINESS PLAN CREATE\n\n\n  const onBusinessPlanCreate = async () => {\n    if (selectedProject && selectedProject.isBusinessPlanCreated) {\n      router.push(`/dashboard/projects/${router.query.project}/business-plan`);\n      return;\n    }\n\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('businessPlan').doc(router.query.project).set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isBusinessPlanCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/business-plan`);\n  };\n\n  console.log('CURRENT PROJECT --> ', selectedProject);\n\n  const onCashFlowAnalysisCreate = async () => {\n    if (selectedProject && selectedProject.isCashflowCreated) {\n      router.push(`/dashboard/projects/${router.query.project}/cash-flow`);\n      return;\n    }\n\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('cashFlow').doc(router.query.project).collection('inputs').doc().set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName,\n      revenueElements: [],\n      costsElements: [],\n      budgetElements: [],\n      globalStartDate: '',\n      globalEndDate: '',\n      periods: [],\n      tax: '0'\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isCashflowCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/cash-flow`);\n  };\n\n  const onCompetitorsAnalysisCreate = async () => {\n    if (selectedProject && selectedProject.isCompetitorsAnalysisCreated) {\n      router.push(`/dashboard/projects/${router.query.project}/competitors`);\n      return;\n    }\n\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('competitors').doc(router.query.project).collection('inputs').doc().set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName,\n      competitorsArray: []\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isCompetitorsAnalysisCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/competitors`);\n  };\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(BounceLoaderComponent, {});\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(TippyMonster, {\n      projectManager: true,\n      contentClass: \"h-40 w-80 shadow-lg rounded-2xl bg-primary flex justify-center items-center\",\n      contentText: \"We are in a space where you can manage your startup in various possible ways \",\n      contentText1: \" For a good start, begin with \\\"Startup idea\\\" that will guide you through the entire process of creating a plan for your startup! \"\n    }), /*#__PURE__*/_jsx(NavbarTemplate, {\n      children: selectedProject ? /*#__PURE__*/_jsx(\"div\", {\n        ref: containerRef,\n        className: \"min-h-screen w-full relative flex flex-col items-center\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full sm:max-w-smContainer md:max-w-mdContainer lg:max-w-lgContainer xl:max-w-xlContainer 2xl:max-w-xxlContainer normal:max-w-normalContainer relative mt-16\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"grid grid-cols-2 grid-rows-1 grid-flow-col\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxs(\"svg\", {\n                height: \"32\",\n                width: \"32\",\n                className: \"fill-current text-primary dark:text-primarydark\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 128 128\",\n                children: [/*#__PURE__*/_jsx(\"title\", {\n                  children: \"Landing Success\"\n                }), /*#__PURE__*/_jsx(\"g\", {\n                  id: \"Landing_Success\",\n                  \"data-name\": \"Landing Success\",\n                  children: /*#__PURE__*/_jsx(\"path\", {\n                    className: \"cls-1\",\n                    d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: \"text-primarydark text-2xl screenLarge:text-3xl mt-3 pl-2 dark:text-background\",\n                children: selectedProject && selectedProject.projectName\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                onClick: () => router.push(`/dashboard/projects/${router.query.project}/edit`),\n                className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-base font-light relative top-2 py-2 px-8 rounded-2xl mt-2 dark:text-primarydark dark:border-primarydark\",\n                children: \"Settings\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(\"h1\", {\n              className: \"text-secondary text-md screenLarge:text-base text-gray -mt-1\",\n              children: \"This is the best startup in the tech field\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"grid grid-cols-1frr screenSmall:grid-cols-2fr grid-rows-4fr screenSmall:grid-rows-2fr mt-8 gap-x-16 gap-y-16 mb-16\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                className: \"text-primarydark text-lg dark:text-background\",\n                children: \"Startup idea\"\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                style: {\n                  maxHeight: 330\n                },\n                className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  style: {\n                    maxHeight: 140\n                  },\n                  height: 300,\n                  width: 300,\n                  src: \"/launch-maker.svg\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"text-base text-gray text-center px-4 py-4 inline-block\",\n                  children: \"Startup idea will guide you through the process of creating your business plan\"\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  onClick: onStartupIdeaCreate,\n                  className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                  children: selectedProject.isIdeaPlanCreated ? 'Manage your startup idea plan' : 'Create your startup idea plan'\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                className: \"text-primarydark text-lg dark:text-background\",\n                children: \"Business plan\"\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                style: {\n                  maxHeight: 330\n                },\n                className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  style: {\n                    maxHeight: 140\n                  },\n                  height: 300,\n                  width: 300,\n                  src: \"/main-sections/business-plan.svg\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"text-base text-gray text-center px-4 py-4\",\n                  children: \"Let's create your business plan, which will be the core of your startup presentation\"\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  onClick: onBusinessPlanCreate,\n                  className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                  children: selectedProject.isBusinessPlanCreated ? 'Manage your business plan' : 'Create your business plan'\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                className: \"text-primarydark text-lg dark:text-background\",\n                children: \"Cash flow analysis\"\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                style: {\n                  maxHeight: 330\n                },\n                className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  style: {\n                    maxHeight: 140\n                  },\n                  height: 300,\n                  width: 300,\n                  src: \"/main-sections/cash-flow2.svg\"\n                }), /*#__PURE__*/_jsx(\"h1\", {\n                  className: \" text-base text-gray text-center px-4 py-4\",\n                  children: \"Cash flow analysis will allow you to analyze the liquidity of your startup\"\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  onClick: onCashFlowAnalysisCreate,\n                  className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                  children: selectedProject.isCashflowCreated ? 'Manage your startup cash flow' : 'Create your startup cash flow'\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n              children: [/*#__PURE__*/_jsx(\"h1\", {\n                className: \"text-primarydark text-lg dark:text-background\",\n                children: \"Competitors analysis\"\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                style: {\n                  maxHeight: 330\n                },\n                className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  style: {\n                    maxHeight: 140\n                  },\n                  height: 300,\n                  width: 300,\n                  src: \"/main-sections/competitors.svg\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"text-base text-gray text-center px-4 py-4\",\n                  children: \"Competitor analysis will help you better prepare to enter a given market\"\n                }), /*#__PURE__*/_jsx(\"button\", {\n                  onClick: onCompetitorsAnalysisCreate,\n                  className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                  children: selectedProject.isCompetitorsAnalysisCreated ? 'Manage your competitors analysis' : 'Create your competitors analysis'\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(UsersManager, {\n            selectedProject: selectedProject\n          })]\n        })\n      }) : /*#__PURE__*/_jsx(BounceLoaderComponent, {})\n    })]\n  });\n};\n\nexport const getStaticPaths = async () => {\n  // const { projects } = await getAllProjects();\n  const snapshot = await db.collection('projects').get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(doc.data());\n  });\n  const paths = projects.map(project => ({\n    params: {\n      project: project.projectName.toString()\n    }\n  }));\n  return {\n    paths: paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = _withSuperJSONProps(async ({\n  params\n}) => {\n  // const { projects } = await getParticularProject(params.work);\n  // const uid = Cookies.get('uid');\n  let ref = db.collection('projects').where('projectName', '==', params.project);\n  const snapshot = await ref.get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(_objectSpread({\n      id: doc.id\n    }, doc.data()));\n  });\n  return {\n    props: {\n      projects\n    },\n    revalidate: 1\n  };\n}, []); // export const getServerSideProps = async ({ params }) => {\n//   let ref = db.collection('projects').where('projectName', '==', params.project);\n//   const snapshot = await ref.get();\n//   const projects = [];\n//   snapshot.forEach((doc) => {\n//     projects.push({ id: doc.id, ...doc.data() });\n//   });\n//   return {\n//     props: { projects },\n//   };\n// };\n\nexport default _withSuperJSONPage(ProjectPage);","map":null,"metadata":{},"sourceType":"module"}