{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { withSuperJSONProps as _withSuperJSONProps } from \"babel-plugin-superjson-next/tools\";\nvar _jsxFileName = \"C:\\\\off-saas\\\\pages\\\\dashboard\\\\projects\\\\[project]\\\\cash-flow\\\\[id].js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { db } from '../../../../../lib/firebase-admin';\nimport { db as dbClient } from '../../../../../lib/firebase';\nimport { useRouter } from 'next/router';\nimport Cookies from 'js-cookie';\nimport UniqueElement from '../../../../../components/dashboard/startup/project/business-app/competitors/UniqueElement';\nimport BounceLoaderComponent from '../../../../../components/BounceLoader';\n\nconst safeJsonStringify = require('safe-json-stringify');\n\nimport { useWindowSize } from '../../../../../utils/useWindowSize';\n\nconst UniqueCashflowPage = ({\n  project\n}) => {\n  console.log('Particular project --> ', project);\n  const {\n    0: startDate,\n    1: setStartDate\n  } = useState(null);\n  const {\n    0: endDate,\n    1: setEndDate\n  } = useState(null);\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const {\n    0: revenueElements,\n    1: setRevenueElements\n  } = useState();\n  const {\n    0: costsElements,\n    1: setCostsElements\n  } = useState();\n  const {\n    0: periods,\n    1: setPeriods\n  } = useState();\n  const {\n    0: tax,\n    1: setTax\n  } = useState();\n  const size = useWindowSize(); // Sum data\n\n  const {\n    0: totalRevenue,\n    1: setTotalRevenue\n  } = useState();\n  const {\n    0: monthlyRevenue,\n    1: setMonthlyRevenue\n  } = useState();\n  const {\n    0: totalCosts,\n    1: setTotalCosts\n  } = useState();\n  const {\n    0: monthlyCosts,\n    1: setMonthlyCosts\n  } = useState();\n  const {\n    0: grossProfit,\n    1: setGrossProfit\n  } = useState();\n  const {\n    0: netProfit,\n    1: setNetProfit\n  } = useState();\n  useEffect(() => {\n    project && setSelectedProject(project[0]);\n    project && setRevenueElements(project[0].revenueElements);\n    project && setCostsElements(project[0].costsElements);\n    project && setPeriods(project[0].periods);\n    project && setTax(project[0].tax); // Sum data\n    // Global start date\n\n    const changedStartDate = project[0].globalStartDate.seconds * 1000;\n    project[0].globalStartDate !== '' && setStartDate(new Date(changedStartDate));\n    const changedEndDate = project[0].globalEndDate.seconds * 1000; // Global end date\n\n    project[0].globalEndDate !== '' && setEndDate(new Date(changedEndDate)); // Periods\n\n    setPeriods(project[0].periods); // Total revenue\n\n    const totalRevenueArray = project[0].revenueElements.map(element => parseInt(element.value * element.periods.length));\n    const totalRevenue = totalRevenueArray.reduce((a, b) => {\n      return a + b;\n    }, 0);\n    setTotalRevenue(Number.isNaN(totalRevenue) ? 0 : Math.round(totalRevenue)); // Monthly revenue\n\n    const periodLength = project[0].periods.length;\n    const monthlyRevenue = totalRevenue / periodLength;\n    setMonthlyRevenue(Number.isNaN(monthlyRevenue) ? 0 : Math.round(monthlyRevenue)); // Total costs\n\n    const totalCostsArray = project[0].costsElements.map(element => parseInt(element.value * element.periods.length));\n    const totalCosts = totalCostsArray.reduce((a, b) => {\n      return a + b;\n    }, 0);\n    setTotalCosts(Number.isFinite(totalCosts) ? Math.round(totalCosts) : 0); // Monthly costs\n\n    const monthlyCosts = totalCosts / periodLength;\n    setMonthlyCosts(Number.isFinite(monthlyCosts) ? Math.round(monthlyCosts) : 0); // Gross profit\n\n    const grossProfit = totalRevenue - totalCosts;\n    setGrossProfit(Number.isFinite(grossProfit) ? Math.round(grossProfit) : 0); // Net profit\n\n    const tax = parseInt(project[0].tax);\n    const netProfit = grossProfit - tax / 100 * grossProfit;\n    setNetProfit(Number.isFinite(netProfit) ? Math.round(netProfit) : 0);\n  }, [project]); //   const [competitors, setCompetitors] = useState([]);\n\n  const router = useRouter();\n  console.log(selectedProject);\n  console.log(revenueElements);\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsxDEV(BounceLoaderComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Temporary element\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 10\n  }, this); //   return (\n  //     <div className=\"min-h-screen w-full relative flex flex-col items-center\">\n  //       <div className=\"w-full max-w-full relative mt-12 lg1Container:mt-16 mb-16 px-32\">\n  //         <div className=\"relative grid grid-cols-2 grid-rows-1 grid-flow-col\">\n  //           <div className=\"flex items-center\">\n  //             <svg\n  //               height={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\n  //               width={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\n  //               className=\"fill-current text-primary dark:text-primarydark\"\n  //               xmlns=\"http://www.w3.org/2000/svg\"\n  //               viewBox=\"0 0 128 128\"\n  //             >\n  //               <title>Landing Success</title>\n  //               <g id=\"Landing_Success\" data-name=\"Landing Success\">\n  //                 <path\n  //                   className=\"cls-1\"\n  //                   d=\"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n  //                 />\n  //               </g>\n  //             </svg>\n  //             <p className=\"text-primarydark text-lg mdContainer:text-xl lgContainer:text-2xl mt-2 pl-2 dark:text-background\">\n  //               Cash flow analysis\n  //             </p>\n  //           </div>\n  //         </div>\n  //         <div>\n  //           <h1 className=\"text-secondary text-xs mdContainer:text-sm lgContainer:text-base text-gray relative -top-1 lgContainer:top-0\">\n  //             Manage your startup cash flow\n  //           </h1>\n  //         </div>\n  //         <div className=\"w-full grid grid-cols-2fr grid-rows-1fr lgContainer:grid-cols-3fr lgContainer:grid-rows-1fr gap-y-8 gap-x-6 smContainer:gap-x-32 mdContainer:gap-x-12 mt-12\">\n  //           <div\n  //             id=\"main-datepicker\"\n  //             className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\n  //           >\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/calendar.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2 text-primarydark\">Start:</p>\n  //             </div>\n  //             {/* {startDate && !isMobile ? (\n  //               <DatePicker\n  //                 selected={startDate}\n  //                 onChange={(date) => onStartDateUpdate(date)}\n  //                 dateFormat=\"MMMM yyyy\"\n  //                 showMonthYearPicker\n  //                 maxDate={addYears(new Date(), 3)}\n  //                 minDate={new Date()}\n  //               />\n  //             ) : (\n  //               <DatePicker\n  //                 selected={startDate}\n  //                 onChange={(date) => onStartDateUpdate(date)}\n  //                 dateFormat=\"MMMM yyyy\"\n  //                 showMonthYearPicker\n  //                 maxDate={addYears(new Date(), 3)}\n  //                 minDate={new Date()}\n  //                 withPortal\n  //               />\n  //             )} */}\n  //           </div>\n  //           <div\n  //             id=\"main-datepicker\"\n  //             className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\n  //           >\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/hourglass1.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2 text-primarydark\">End:</p>\n  //             </div>\n  //             {/* {endDate && !isMobile ? (\n  //               <DatePicker\n  //                 selected={endDate}\n  //                 onChange={(date) => onEndDateUpdate(date)}\n  //                 dateFormat=\"MMMM yyyy\"\n  //                 showMonthYearPicker\n  //                 maxDate={addYears(new Date(), 3)}\n  //                 minDate={new Date()}\n  //               />\n  //             ) : (\n  //               <DatePicker\n  //                 selected={endDate}\n  //                 onChange={(date) => onEndDateUpdate(date)}\n  //                 dateFormat=\"MMMM yyyy\"\n  //                 showMonthYearPicker\n  //                 maxDate={addYears(new Date(), 3)}\n  //                 minDate={new Date()}\n  //                 withPortal\n  //               />\n  //             )} */}\n  //           </div>\n  //           <div\n  //             style={{\n  //               width:\n  //                 (size.width > 860 && '100%') ||\n  //                 (size.width < 860 && size.width > 680 && '47%') ||\n  //                 (size.width < 680 && size.width > 520 && '40%') ||\n  //                 (size.width < 520 && '47%'),\n  //               gridColumnStart: size.width < 860 ? '1' : 'unset',\n  //               gridColumnEnd: size.width < 860 ? '3' : 'unset',\n  //             }}\n  //             className=\"place-self-center bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\n  //           >\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/tax.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Tax:</p>\n  //             </div>\n  //             <div className=\"flex\" style={{ textAlignLast: 'right' }}>\n  //               <input id=\"tax-input\" value={selectedProject.tax} className=\"w-full bg-white focus:outline-none\" />\n  //               <p>%</p>\n  //             </div>\n  //           </div>\n  //         </div>\n  //         <div id=\"chartContainer\" className=\"w-full h-1/2 p-4 mdContainer:p-8 bg-white rounded-2xl mt-12 shadow-md\">\n  //           {/* <canvas ref={chartRef} height={75}></canvas> */}\n  //         </div>\n  //         <div className=\"w-full grid grid-cols-2fr grid-rows-3fr lg1Container:grid-cols-3fr lg1Container:grid-rows-2fr gap-x-6 smContainer:gap-x-12 gap-y-8 mt-12\">\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/revenue.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Total revenue:</p>\n  //             </div>\n  //             <p>${totalRevenue}</p>\n  //           </div>\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/monthly.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Monthly revenue:</p>\n  //             </div>\n  //             <p>${monthlyRevenue}</p>\n  //           </div>\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/costs.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Total costs:</p>\n  //             </div>\n  //             <p>${totalCosts}</p>\n  //           </div>\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/monthly-costs.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Monthly costs:</p>\n  //             </div>\n  //             <p>${monthlyCosts}</p>\n  //           </div>\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/megaphone.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Gross profit:</p>\n  //             </div>\n  //             <p>${grossProfit}</p>\n  //           </div>\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\n  //             <div className=\"flex items-center\">\n  //               <img\n  //                 src=\"/cash-flow/net-worth.svg\"\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\n  //               />\n  //               <p className=\"ml-2\">Net profit:</p>\n  //             </div>\n  //             <p>${netProfit}</p>\n  //           </div>\n  //         </div>\n  //         {/* Revenue */}\n  //         <div\n  //           ref={revenueRef}\n  //           style={{ height: 55 }}\n  //           className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-12 flex flex-wrap shadow-md\"\n  //         >\n  //           <div className=\"w-full flex justify-between items-center\">\n  //             <div className=\"lgContainer:ml-2\">\n  //               <p className=\"text-sm lgContainer:text-base\">Revenue</p>\n  //             </div>\n  //             <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\n  //               <img\n  //                 onClick={onRevenueElementAdd}\n  //                 className=\"cursor-pointer\"\n  //                 src=\"/cash-flow/add.svg\"\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //               />\n  //               <img\n  //                 ref={dropDownIcon}\n  //                 onClick={onRevenueShow}\n  //                 className=\"ml-2 cursor-pointer\"\n  //                 src=\"/cash-flow/dropdown.svg\"\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //               />\n  //             </div>\n  //           </div>\n  //           <div\n  //             ref={innerContainerRevenueRef}\n  //             className={`w-full ${\n  //               size.width < 1120\n  //                 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\n  //                 : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\n  //             }`}\n  //           >\n  //             {/* <hr className=\"text-primary w-full\" /> */}\n  //             <div\n  //               style={{ fontSize: size.width < 520 && '0.6rem' }}\n  //               className=\"w-full grid grid-cols-6fr items-center text-xs mdContainer:text-sm lg1Container:text-base\"\n  //             >\n  //               <div>name</div>\n  //               <div>type</div>\n  //               <div>amount</div>\n  //               <div>start</div>\n  //               <div>end</div>\n  //               <div></div>\n  //             </div>\n  //             <hr className=\"text-primary w-full\" />\n  //             <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\n  //               <DragDropContext onDragEnd={handleOnDragEnd}>\n  //                 <Droppable droppableId=\"elements\">\n  //                   {(provided) => (\n  //                     <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\n  //                       {revenueElements &&\n  //                         revenueElements.map((element, index) => {\n  //                           console.log(element);\n  //                           return (\n  //                             <Draggable key={element.index} draggableId={element.index} index={index}>\n  //                               {(provided) => (\n  //                                 <RevenueElement\n  //                                   provided={provided}\n  //                                   setRevenueElements={setRevenueElements}\n  //                                   mainDocument={mainDocument}\n  //                                   projectId={projectId}\n  //                                   documentId={documentId}\n  //                                   revenueElements={revenueElements}\n  //                                   element={element}\n  //                                   index={index}\n  //                                 />\n  //                               )}\n  //                             </Draggable>\n  //                           );\n  //                         })}\n  //                       {provided.placeholder}\n  //                     </div>\n  //                   )}\n  //                 </Droppable>\n  //               </DragDropContext>\n  //             </div>\n  //           </div>\n  //         </div>\n  //         {/* Costs */}\n  //         <div\n  //           ref={costsRef}\n  //           style={{ height: 55 }}\n  //           className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-8 flex flex-wrap shadow-md\"\n  //         >\n  //           <div className=\"w-full flex justify-between items-center\">\n  //             <div className=\"lgContainer:ml-2\">\n  //               <p className=\"text-sm lgContainer:text-base\">Costs</p>\n  //             </div>\n  //             <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\n  //               <img\n  //                 onClick={onCostsElementAdd}\n  //                 className=\"cursor-pointer\"\n  //                 src=\"/cash-flow/add.svg\"\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //               />\n  //               <img\n  //                 ref={dropDownIconCosts}\n  //                 onClick={onCostsShow}\n  //                 className=\"ml-2 cursor-pointer\"\n  //                 src=\"/cash-flow/dropdown.svg\"\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\n  //               />\n  //             </div>\n  //           </div>\n  //           <div\n  //             ref={innerContainerCostsRef}\n  //             className={`w-full ${\n  //               size.width < 1120\n  //                 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\n  //                 : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\n  //             }`}\n  //           >\n  //             {/* <hr className=\"text-primary w-full\" /> */}\n  //             <div className=\"w-full grid grid-cols-6fr items-center\">\n  //               <div>name</div>\n  //               <div>type</div>\n  //               <div>amount</div>\n  //               <div>start</div>\n  //               <div>end</div>\n  //               <div></div>\n  //             </div>\n  //             <hr className=\"text-primary w-full\" />\n  //             <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\n  //               <DragDropContext onDragEnd={costsHandleOnDragEnd}>\n  //                 <Droppable droppableId=\"elements\">\n  //                   {(provided) => (\n  //                     <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\n  //                       {costsElements &&\n  //                         costsElements.map((element, index) => {\n  //                           console.log(element);\n  //                           return (\n  //                             <Draggable key={element.index} draggableId={element.index} index={index}>\n  //                               {(provided) => (\n  //                                 <CostsElement\n  //                                   provided={provided}\n  //                                   setCostsElements={setCostsElements}\n  //                                   mainDocument={mainDocument}\n  //                                   projectId={projectId}\n  //                                   documentId={documentId}\n  //                                   costsElements={costsElements}\n  //                                   element={element}\n  //                                   index={index}\n  //                                 />\n  //                               )}\n  //                             </Draggable>\n  //                           );\n  //                         })}\n  //                       {provided.placeholder}\n  //                     </div>\n  //                   )}\n  //                 </Droppable>\n  //               </DragDropContext>\n  //             </div>\n  //           </div>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   );\n};\n\nexport const getStaticPaths = async () => {\n  const snapshot = await db.collection('projects').get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(doc.data());\n  });\n  const paths = projects.map(project => ({\n    params: {\n      project: project.projectName.toString(),\n      id: project.projectId.toString()\n    }\n  }));\n  return {\n    paths: paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = _withSuperJSONProps(async ({\n  params\n}) => {\n  console.log(params); // let ref = db.collection('projects').where('projectName', '==', params.project);\n\n  let ref = db.collection('projects').doc(params.id).collection('cashFlow').doc(params.project).collection('inputs').where('projectId', '==', params.id);\n  const snapshot = await ref.get();\n  const project = [];\n  snapshot.forEach(doc => {\n    const data = JSON.parse(safeJsonStringify(doc.data()));\n    project.push(_objectSpread({}, data));\n  });\n  return {\n    props: {\n      project\n    },\n    revalidate: 1\n  };\n}, []);\nexport default _withSuperJSONPage(UniqueCashflowPage);","map":{"version":3,"sources":["C:/off-saas/pages/dashboard/projects/[project]/cash-flow/[id].js"],"names":["React","useEffect","useState","useRef","db","dbClient","useRouter","Cookies","UniqueElement","BounceLoaderComponent","safeJsonStringify","require","useWindowSize","UniqueCashflowPage","project","console","log","startDate","setStartDate","endDate","setEndDate","selectedProject","setSelectedProject","revenueElements","setRevenueElements","costsElements","setCostsElements","periods","setPeriods","tax","setTax","size","totalRevenue","setTotalRevenue","monthlyRevenue","setMonthlyRevenue","totalCosts","setTotalCosts","monthlyCosts","setMonthlyCosts","grossProfit","setGrossProfit","netProfit","setNetProfit","changedStartDate","globalStartDate","seconds","Date","changedEndDate","globalEndDate","totalRevenueArray","map","element","parseInt","value","length","reduce","a","b","Number","isNaN","Math","round","periodLength","totalCostsArray","isFinite","router","isFallback","getStaticPaths","snapshot","collection","get","projects","forEach","doc","push","data","paths","params","projectName","toString","id","projectId","fallback","getStaticProps","ref","where","JSON","parse","props","revalidate"],"mappings":"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,CAA1D,CAAd,CApCc,CAqCd;;AACA,UAAMX,GAAG,GAAGwB,QAAQ,CAACvC,OAAO,CAAC,CAAD,CAAP,CAAWe,GAAZ,CAApB;AACA,UAAMa,SAAS,GAAGF,WAAW,GAAIX,GAAG,GAAG,GAAP,GAAcW,WAA9C;AACAG,IAAAA,YAAY,CAACgB,MAAM,CAACM,QAAP,CAAgBvB,SAAhB,IAA6BmB,IAAI,CAACC,KAAL,CAAWpB,SAAX,CAA7B,GAAqD,CAAtD,CAAZ;AACD,GAzCQ,EAyCN,CAAC5B,OAAD,CAzCM,CAAT,CAjB0C,CA2D1C;;AACA,QAAMoD,MAAM,GAAG5D,SAAS,EAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYK,eAAZ;AACAN,EAAAA,OAAO,CAACC,GAAR,CAAYO,eAAZ;;AAEA,MAAI2C,MAAM,CAACC,UAAX,EAAuB;AACrB,wBAAO,QAAC,qBAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP,CApE0C,CAqE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CA3aD;;AA6aA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACxC,QAAMC,QAAQ,GAAG,MAAMjE,EAAE,CAACkE,UAAH,CAAc,UAAd,EAA0BC,GAA1B,EAAvB;AAEA,QAAMC,QAAQ,GAAG,EAAjB;AACAH,EAAAA,QAAQ,CAACI,OAAT,CAAkBC,GAAD,IAAS;AACxBF,IAAAA,QAAQ,CAACG,IAAT,CAAcD,GAAG,CAACE,IAAJ,EAAd;AACD,GAFD;AAIA,QAAMC,KAAK,GAAGL,QAAQ,CAACrB,GAAT,CAAcrC,OAAD,KAAc;AACvCgE,IAAAA,MAAM,EAAE;AACNhE,MAAAA,OAAO,EAAEA,OAAO,CAACiE,WAAR,CAAoBC,QAApB,EADH;AAENC,MAAAA,EAAE,EAAEnE,OAAO,CAACoE,SAAR,CAAkBF,QAAlB;AAFE;AAD+B,GAAd,CAAb,CAAd;AAOA,SAAO;AACLH,IAAAA,KAAK,EAAEA,KADF;AAELM,IAAAA,QAAQ,EAAE;AAFL,GAAP;AAID,CAnBM;AAqBP,OAAO,MAAMC,cAAc,uBAAG,OAAO;AAAEN,EAAAA;AAAF,CAAP,KAAsB;AAClD/D,EAAAA,OAAO,CAACC,GAAR,CAAY8D,MAAZ,EADkD,CAElD;;AACA,MAAIO,GAAG,GAAGjF,EAAE,CACTkE,UADO,CACI,UADJ,EAEPI,GAFO,CAEHI,MAAM,CAACG,EAFJ,EAGPX,UAHO,CAGI,UAHJ,EAIPI,GAJO,CAIHI,MAAM,CAAChE,OAJJ,EAKPwD,UALO,CAKI,QALJ,EAMPgB,KANO,CAMD,WANC,EAMY,IANZ,EAMkBR,MAAM,CAACG,EANzB,CAAV;AAQA,QAAMZ,QAAQ,GAAG,MAAMgB,GAAG,CAACd,GAAJ,EAAvB;AACA,QAAMzD,OAAO,GAAG,EAAhB;AAEAuD,EAAAA,QAAQ,CAACI,OAAT,CAAkBC,GAAD,IAAS;AACxB,UAAME,IAAI,GAAGW,IAAI,CAACC,KAAL,CAAW9E,iBAAiB,CAACgE,GAAG,CAACE,IAAJ,EAAD,CAA5B,CAAb;AACA9D,IAAAA,OAAO,CAAC6D,IAAR,mBAAkBC,IAAlB;AACD,GAHD;AAKA,SAAO;AACLa,IAAAA,KAAK,EAAE;AAAE3E,MAAAA;AAAF,KADF;AAEL4E,IAAAA,UAAU,EAAE;AAFP,GAAP;AAID,CAvB0B,KAApB;AAyBP,kCAAe7E,kBAAf","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { db } from '../../../../../lib/firebase-admin';\r\nimport { db as dbClient } from '../../../../../lib/firebase';\r\nimport { useRouter } from 'next/router';\r\nimport Cookies from 'js-cookie';\r\nimport UniqueElement from '../../../../../components/dashboard/startup/project/business-app/competitors/UniqueElement';\r\nimport BounceLoaderComponent from '../../../../../components/BounceLoader';\r\nconst safeJsonStringify = require('safe-json-stringify');\r\nimport { useWindowSize } from '../../../../../utils/useWindowSize';\r\n\r\nconst UniqueCashflowPage = ({ project }) => {\r\n  console.log('Particular project --> ', project);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [revenueElements, setRevenueElements] = useState();\r\n  const [costsElements, setCostsElements] = useState();\r\n  const [periods, setPeriods] = useState();\r\n  const [tax, setTax] = useState();\r\n  const size = useWindowSize();\r\n  // Sum data\r\n  const [totalRevenue, setTotalRevenue] = useState();\r\n  const [monthlyRevenue, setMonthlyRevenue] = useState();\r\n  const [totalCosts, setTotalCosts] = useState();\r\n  const [monthlyCosts, setMonthlyCosts] = useState();\r\n  const [grossProfit, setGrossProfit] = useState();\r\n  const [netProfit, setNetProfit] = useState();\r\n  useEffect(() => {\r\n    project && setSelectedProject(project[0]);\r\n    project && setRevenueElements(project[0].revenueElements);\r\n    project && setCostsElements(project[0].costsElements);\r\n    project && setPeriods(project[0].periods);\r\n    project && setTax(project[0].tax);\r\n    // Sum data\r\n    // Global start date\r\n    const changedStartDate = project[0].globalStartDate.seconds * 1000;\r\n    project[0].globalStartDate !== '' && setStartDate(new Date(changedStartDate));\r\n    const changedEndDate = project[0].globalEndDate.seconds * 1000;\r\n    // Global end date\r\n    project[0].globalEndDate !== '' && setEndDate(new Date(changedEndDate));\r\n    // Periods\r\n    setPeriods(project[0].periods);\r\n    // Total revenue\r\n    const totalRevenueArray = project[0].revenueElements.map((element) => parseInt(element.value * element.periods.length));\r\n    const totalRevenue = totalRevenueArray.reduce((a, b) => {\r\n      return a + b;\r\n    }, 0);\r\n    setTotalRevenue(Number.isNaN(totalRevenue) ? 0 : Math.round(totalRevenue));\r\n    // Monthly revenue\r\n    const periodLength = project[0].periods.length;\r\n    const monthlyRevenue = totalRevenue / periodLength;\r\n    setMonthlyRevenue(Number.isNaN(monthlyRevenue) ? 0 : Math.round(monthlyRevenue));\r\n    // Total costs\r\n    const totalCostsArray = project[0].costsElements.map((element) => parseInt(element.value * element.periods.length));\r\n    const totalCosts = totalCostsArray.reduce((a, b) => {\r\n      return a + b;\r\n    }, 0);\r\n    setTotalCosts(Number.isFinite(totalCosts) ? Math.round(totalCosts) : 0);\r\n    // Monthly costs\r\n    const monthlyCosts = totalCosts / periodLength;\r\n    setMonthlyCosts(Number.isFinite(monthlyCosts) ? Math.round(monthlyCosts) : 0);\r\n    // Gross profit\r\n    const grossProfit = totalRevenue - totalCosts;\r\n    setGrossProfit(Number.isFinite(grossProfit) ? Math.round(grossProfit) : 0);\r\n    // Net profit\r\n    const tax = parseInt(project[0].tax);\r\n    const netProfit = grossProfit - (tax / 100) * grossProfit;\r\n    setNetProfit(Number.isFinite(netProfit) ? Math.round(netProfit) : 0);\r\n  }, [project]);\r\n  //   const [competitors, setCompetitors] = useState([]);\r\n  const router = useRouter();\r\n  console.log(selectedProject);\r\n  console.log(revenueElements);\r\n\r\n  if (router.isFallback) {\r\n    return <BounceLoaderComponent />;\r\n  }\r\n\r\n  return <div>Temporary element</div>;\r\n  //   return (\r\n  //     <div className=\"min-h-screen w-full relative flex flex-col items-center\">\r\n  //       <div className=\"w-full max-w-full relative mt-12 lg1Container:mt-16 mb-16 px-32\">\r\n  //         <div className=\"relative grid grid-cols-2 grid-rows-1 grid-flow-col\">\r\n  //           <div className=\"flex items-center\">\r\n  //             <svg\r\n  //               height={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\r\n  //               width={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\r\n  //               className=\"fill-current text-primary dark:text-primarydark\"\r\n  //               xmlns=\"http://www.w3.org/2000/svg\"\r\n  //               viewBox=\"0 0 128 128\"\r\n  //             >\r\n  //               <title>Landing Success</title>\r\n  //               <g id=\"Landing_Success\" data-name=\"Landing Success\">\r\n  //                 <path\r\n  //                   className=\"cls-1\"\r\n  //                   d=\"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\r\n  //                 />\r\n  //               </g>\r\n  //             </svg>\r\n  //             <p className=\"text-primarydark text-lg mdContainer:text-xl lgContainer:text-2xl mt-2 pl-2 dark:text-background\">\r\n  //               Cash flow analysis\r\n  //             </p>\r\n  //           </div>\r\n  //         </div>\r\n  //         <div>\r\n  //           <h1 className=\"text-secondary text-xs mdContainer:text-sm lgContainer:text-base text-gray relative -top-1 lgContainer:top-0\">\r\n  //             Manage your startup cash flow\r\n  //           </h1>\r\n  //         </div>\r\n  //         <div className=\"w-full grid grid-cols-2fr grid-rows-1fr lgContainer:grid-cols-3fr lgContainer:grid-rows-1fr gap-y-8 gap-x-6 smContainer:gap-x-32 mdContainer:gap-x-12 mt-12\">\r\n  //           <div\r\n  //             id=\"main-datepicker\"\r\n  //             className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n  //           >\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/calendar.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2 text-primarydark\">Start:</p>\r\n  //             </div>\r\n  //             {/* {startDate && !isMobile ? (\r\n  //               <DatePicker\r\n  //                 selected={startDate}\r\n  //                 onChange={(date) => onStartDateUpdate(date)}\r\n  //                 dateFormat=\"MMMM yyyy\"\r\n  //                 showMonthYearPicker\r\n  //                 maxDate={addYears(new Date(), 3)}\r\n  //                 minDate={new Date()}\r\n  //               />\r\n  //             ) : (\r\n  //               <DatePicker\r\n  //                 selected={startDate}\r\n  //                 onChange={(date) => onStartDateUpdate(date)}\r\n  //                 dateFormat=\"MMMM yyyy\"\r\n  //                 showMonthYearPicker\r\n  //                 maxDate={addYears(new Date(), 3)}\r\n  //                 minDate={new Date()}\r\n  //                 withPortal\r\n  //               />\r\n  //             )} */}\r\n  //           </div>\r\n  //           <div\r\n  //             id=\"main-datepicker\"\r\n  //             className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n  //           >\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/hourglass1.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2 text-primarydark\">End:</p>\r\n  //             </div>\r\n  //             {/* {endDate && !isMobile ? (\r\n  //               <DatePicker\r\n  //                 selected={endDate}\r\n  //                 onChange={(date) => onEndDateUpdate(date)}\r\n  //                 dateFormat=\"MMMM yyyy\"\r\n  //                 showMonthYearPicker\r\n  //                 maxDate={addYears(new Date(), 3)}\r\n  //                 minDate={new Date()}\r\n  //               />\r\n  //             ) : (\r\n  //               <DatePicker\r\n  //                 selected={endDate}\r\n  //                 onChange={(date) => onEndDateUpdate(date)}\r\n  //                 dateFormat=\"MMMM yyyy\"\r\n  //                 showMonthYearPicker\r\n  //                 maxDate={addYears(new Date(), 3)}\r\n  //                 minDate={new Date()}\r\n  //                 withPortal\r\n  //               />\r\n  //             )} */}\r\n  //           </div>\r\n  //           <div\r\n  //             style={{\r\n  //               width:\r\n  //                 (size.width > 860 && '100%') ||\r\n  //                 (size.width < 860 && size.width > 680 && '47%') ||\r\n  //                 (size.width < 680 && size.width > 520 && '40%') ||\r\n  //                 (size.width < 520 && '47%'),\r\n  //               gridColumnStart: size.width < 860 ? '1' : 'unset',\r\n  //               gridColumnEnd: size.width < 860 ? '3' : 'unset',\r\n  //             }}\r\n  //             className=\"place-self-center bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n  //           >\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/tax.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Tax:</p>\r\n  //             </div>\r\n  //             <div className=\"flex\" style={{ textAlignLast: 'right' }}>\r\n  //               <input id=\"tax-input\" value={selectedProject.tax} className=\"w-full bg-white focus:outline-none\" />\r\n  //               <p>%</p>\r\n  //             </div>\r\n  //           </div>\r\n  //         </div>\r\n  //         <div id=\"chartContainer\" className=\"w-full h-1/2 p-4 mdContainer:p-8 bg-white rounded-2xl mt-12 shadow-md\">\r\n  //           {/* <canvas ref={chartRef} height={75}></canvas> */}\r\n  //         </div>\r\n  //         <div className=\"w-full grid grid-cols-2fr grid-rows-3fr lg1Container:grid-cols-3fr lg1Container:grid-rows-2fr gap-x-6 smContainer:gap-x-12 gap-y-8 mt-12\">\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/revenue.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Total revenue:</p>\r\n  //             </div>\r\n  //             <p>${totalRevenue}</p>\r\n  //           </div>\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/monthly.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Monthly revenue:</p>\r\n  //             </div>\r\n  //             <p>${monthlyRevenue}</p>\r\n  //           </div>\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/costs.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Total costs:</p>\r\n  //             </div>\r\n  //             <p>${totalCosts}</p>\r\n  //           </div>\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/monthly-costs.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Monthly costs:</p>\r\n  //             </div>\r\n  //             <p>${monthlyCosts}</p>\r\n  //           </div>\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/megaphone.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Gross profit:</p>\r\n  //             </div>\r\n  //             <p>${grossProfit}</p>\r\n  //           </div>\r\n  //           <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n  //             <div className=\"flex items-center\">\r\n  //               <img\r\n  //                 src=\"/cash-flow/net-worth.svg\"\r\n  //                 height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //                 width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n  //               />\r\n  //               <p className=\"ml-2\">Net profit:</p>\r\n  //             </div>\r\n  //             <p>${netProfit}</p>\r\n  //           </div>\r\n  //         </div>\r\n  //         {/* Revenue */}\r\n  //         <div\r\n  //           ref={revenueRef}\r\n  //           style={{ height: 55 }}\r\n  //           className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-12 flex flex-wrap shadow-md\"\r\n  //         >\r\n  //           <div className=\"w-full flex justify-between items-center\">\r\n  //             <div className=\"lgContainer:ml-2\">\r\n  //               <p className=\"text-sm lgContainer:text-base\">Revenue</p>\r\n  //             </div>\r\n  //             <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\r\n  //               <img\r\n  //                 onClick={onRevenueElementAdd}\r\n  //                 className=\"cursor-pointer\"\r\n  //                 src=\"/cash-flow/add.svg\"\r\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //               />\r\n  //               <img\r\n  //                 ref={dropDownIcon}\r\n  //                 onClick={onRevenueShow}\r\n  //                 className=\"ml-2 cursor-pointer\"\r\n  //                 src=\"/cash-flow/dropdown.svg\"\r\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //               />\r\n  //             </div>\r\n  //           </div>\r\n  //           <div\r\n  //             ref={innerContainerRevenueRef}\r\n  //             className={`w-full ${\r\n  //               size.width < 1120\r\n  //                 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n  //                 : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n  //             }`}\r\n  //           >\r\n  //             {/* <hr className=\"text-primary w-full\" /> */}\r\n  //             <div\r\n  //               style={{ fontSize: size.width < 520 && '0.6rem' }}\r\n  //               className=\"w-full grid grid-cols-6fr items-center text-xs mdContainer:text-sm lg1Container:text-base\"\r\n  //             >\r\n  //               <div>name</div>\r\n  //               <div>type</div>\r\n  //               <div>amount</div>\r\n  //               <div>start</div>\r\n  //               <div>end</div>\r\n  //               <div></div>\r\n  //             </div>\r\n  //             <hr className=\"text-primary w-full\" />\r\n  //             <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\r\n  //               <DragDropContext onDragEnd={handleOnDragEnd}>\r\n  //                 <Droppable droppableId=\"elements\">\r\n  //                   {(provided) => (\r\n  //                     <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\r\n  //                       {revenueElements &&\r\n  //                         revenueElements.map((element, index) => {\r\n  //                           console.log(element);\r\n  //                           return (\r\n  //                             <Draggable key={element.index} draggableId={element.index} index={index}>\r\n  //                               {(provided) => (\r\n  //                                 <RevenueElement\r\n  //                                   provided={provided}\r\n  //                                   setRevenueElements={setRevenueElements}\r\n  //                                   mainDocument={mainDocument}\r\n  //                                   projectId={projectId}\r\n  //                                   documentId={documentId}\r\n  //                                   revenueElements={revenueElements}\r\n  //                                   element={element}\r\n  //                                   index={index}\r\n  //                                 />\r\n  //                               )}\r\n  //                             </Draggable>\r\n  //                           );\r\n  //                         })}\r\n  //                       {provided.placeholder}\r\n  //                     </div>\r\n  //                   )}\r\n  //                 </Droppable>\r\n  //               </DragDropContext>\r\n  //             </div>\r\n  //           </div>\r\n  //         </div>\r\n  //         {/* Costs */}\r\n  //         <div\r\n  //           ref={costsRef}\r\n  //           style={{ height: 55 }}\r\n  //           className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-8 flex flex-wrap shadow-md\"\r\n  //         >\r\n  //           <div className=\"w-full flex justify-between items-center\">\r\n  //             <div className=\"lgContainer:ml-2\">\r\n  //               <p className=\"text-sm lgContainer:text-base\">Costs</p>\r\n  //             </div>\r\n  //             <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\r\n  //               <img\r\n  //                 onClick={onCostsElementAdd}\r\n  //                 className=\"cursor-pointer\"\r\n  //                 src=\"/cash-flow/add.svg\"\r\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //               />\r\n  //               <img\r\n  //                 ref={dropDownIconCosts}\r\n  //                 onClick={onCostsShow}\r\n  //                 className=\"ml-2 cursor-pointer\"\r\n  //                 src=\"/cash-flow/dropdown.svg\"\r\n  //                 height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //                 width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n  //               />\r\n  //             </div>\r\n  //           </div>\r\n  //           <div\r\n  //             ref={innerContainerCostsRef}\r\n  //             className={`w-full ${\r\n  //               size.width < 1120\r\n  //                 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n  //                 : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n  //             }`}\r\n  //           >\r\n  //             {/* <hr className=\"text-primary w-full\" /> */}\r\n  //             <div className=\"w-full grid grid-cols-6fr items-center\">\r\n  //               <div>name</div>\r\n  //               <div>type</div>\r\n  //               <div>amount</div>\r\n  //               <div>start</div>\r\n  //               <div>end</div>\r\n  //               <div></div>\r\n  //             </div>\r\n  //             <hr className=\"text-primary w-full\" />\r\n  //             <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\r\n  //               <DragDropContext onDragEnd={costsHandleOnDragEnd}>\r\n  //                 <Droppable droppableId=\"elements\">\r\n  //                   {(provided) => (\r\n  //                     <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\r\n  //                       {costsElements &&\r\n  //                         costsElements.map((element, index) => {\r\n  //                           console.log(element);\r\n  //                           return (\r\n  //                             <Draggable key={element.index} draggableId={element.index} index={index}>\r\n  //                               {(provided) => (\r\n  //                                 <CostsElement\r\n  //                                   provided={provided}\r\n  //                                   setCostsElements={setCostsElements}\r\n  //                                   mainDocument={mainDocument}\r\n  //                                   projectId={projectId}\r\n  //                                   documentId={documentId}\r\n  //                                   costsElements={costsElements}\r\n  //                                   element={element}\r\n  //                                   index={index}\r\n  //                                 />\r\n  //                               )}\r\n  //                             </Draggable>\r\n  //                           );\r\n  //                         })}\r\n  //                       {provided.placeholder}\r\n  //                     </div>\r\n  //                   )}\r\n  //                 </Droppable>\r\n  //               </DragDropContext>\r\n  //             </div>\r\n  //           </div>\r\n  //         </div>\r\n  //       </div>\r\n  //     </div>\r\n  //   );\r\n};\r\n\r\nexport const getStaticPaths = async () => {\r\n  const snapshot = await db.collection('projects').get();\r\n\r\n  const projects = [];\r\n  snapshot.forEach((doc) => {\r\n    projects.push(doc.data());\r\n  });\r\n\r\n  const paths = projects.map((project) => ({\r\n    params: {\r\n      project: project.projectName.toString(),\r\n      id: project.projectId.toString(),\r\n    },\r\n  }));\r\n\r\n  return {\r\n    paths: paths,\r\n    fallback: true,\r\n  };\r\n};\r\n\r\nexport const getStaticProps = async ({ params }) => {\r\n  console.log(params);\r\n  // let ref = db.collection('projects').where('projectName', '==', params.project);\r\n  let ref = db\r\n    .collection('projects')\r\n    .doc(params.id)\r\n    .collection('cashFlow')\r\n    .doc(params.project)\r\n    .collection('inputs')\r\n    .where('projectId', '==', params.id);\r\n\r\n  const snapshot = await ref.get();\r\n  const project = [];\r\n\r\n  snapshot.forEach((doc) => {\r\n    const data = JSON.parse(safeJsonStringify(doc.data()));\r\n    project.push({ ...data });\r\n  });\r\n\r\n  return {\r\n    props: { project },\r\n    revalidate: 1,\r\n  };\r\n};\r\n\r\nexport default UniqueCashflowPage;\r\n"]},"metadata":{},"sourceType":"module"}