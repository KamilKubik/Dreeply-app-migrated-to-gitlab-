{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\nimport { db } from '../../../lib/firebase';\nimport { useAuth } from '../../../lib/newAuth';\nimport ProgressBar from './ProgressBar';\nimport { useRouter } from 'next/router';\nimport gsap, { Power4, Linear } from 'gsap';\nimport TippyMonster from '../Tippy';\nimport NavbarTemplate from '../NavbarTemplate';\nimport TippyGuide from './TippyGuide';\nimport Cookies from 'js-cookie';\nimport ExitComponent from './ExitComponent';\n\nvar StartupProductModal = function StartupProductModal() {\n  var _useState = useState(),\n      projectId = _useState[0],\n      setProjectId = _useState[1];\n\n  var _useState2 = useState(true),\n      onLoadOpacity4 = _useState2[0],\n      setOnLoadOpacity4 = _useState2[1]; // OVERVIEW\n\n\n  var _useState3 = useState(''),\n      marketProblemSection = _useState3[0],\n      setMarketProblemSection = _useState3[1];\n\n  var _useState4 = useState(''),\n      marketSolutionSection = _useState4[0],\n      setMarketSolutionSection = _useState4[1];\n\n  var _useState5 = useState(''),\n      foundersSection = _useState5[0],\n      setFoundersSection = _useState5[1]; // PRODUCT\n\n\n  var _useState6 = useState(''),\n      productOverviewSection = _useState6[0],\n      setProductOverviewSection = _useState6[1];\n\n  var _useState7 = useState(''),\n      productPromotionSection = _useState7[0],\n      setProductPromotionSection = _useState7[1];\n\n  var _useState8 = useState(''),\n      productBenefitsSection = _useState8[0],\n      setProductBenefitsSection = _useState8[1]; // MARKET\n\n\n  var _useState9 = useState(''),\n      marketOverviewSection = _useState9[0],\n      setMarketOverviewSection = _useState9[1];\n\n  var _useState10 = useState(''),\n      competitorsSection = _useState10[0],\n      setCompetitorsSection = _useState10[1];\n\n  var _useState11 = useState(''),\n      targetCustomersSection = _useState11[0],\n      setTargetCustomersSection = _useState11[1];\n\n  var _useState12 = useState(''),\n      competitionDistinguishSection = _useState12[0],\n      setCompetitionDistinguishSection = _useState12[1]; // FINANCES\n\n\n  var _useState13 = useState(''),\n      startupCostsSection = _useState13[0],\n      setStartupCostsSection = _useState13[1];\n\n  var _useState14 = useState(''),\n      runningCostsSection = _useState14[0],\n      setRunningCostsSection = _useState14[1];\n\n  var _useState15 = useState(''),\n      financingSection = _useState15[0],\n      setFinancingSection = _useState15[1]; // BUSINESS MODEL\n\n\n  var _useState16 = useState(''),\n      businessModelOverviewSection = _useState16[0],\n      setBusinessModelOverviewSection = _useState16[1];\n\n  var _useState17 = useState(''),\n      businessGrowSection = _useState17[0],\n      setBusinessGrowSection = _useState17[1];\n\n  var _useState18 = useState(''),\n      whySuccessSection = _useState18[0],\n      setWhySuccessSection = _useState18[1];\n\n  var _useAuth = useAuth(),\n      currentUser = _useAuth.currentUser;\n\n  var router = useRouter();\n  var contentRef = useRef(); // TIPPY\n\n  var _useState19 = useState(false),\n      tippyMonster = _useState19[0],\n      setTippyMonster = _useState19[1];\n\n  var _useState20 = useState(null),\n      currentTippy = _useState20[0],\n      setCurrentTippy = _useState20[1];\n\n  console.log('business model - ', businessModelOverviewSection);\n  console.log('business grow - ', businessGrowSection);\n  console.log('business success - ', whySuccessSection);\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!( // OVERVIEW\n              !marketProblemSection || !marketSolutionSection || !foundersSection || // PRODUCT\n              !productOverviewSection || !productPromotionSection || !productBenefitsSection || // MARKET\n              !marketOverviewSection || !competitorsSection || !targetCustomersSection || !competitionDistinguishSection || // FINANCES\n              !startupCostsSection || !runningCostsSection || !financingSection || // BUSINESS MODEL\n              !businessModelOverviewSection || !businessGrowSection || !whySuccessSection || // -----------------------\n              // OVERVIEW\n              marketProblemSection == 'blank' || marketSolutionSection == 'blank' || foundersSection == 'blank' || // PRODUCT\n              productOverviewSection == 'blank' || productPromotionSection == 'blank' || productBenefitsSection == 'blank' || // MARKET\n              marketOverviewSection == 'blank' || competitorsSection == 'blank' || targetCustomersSection == 'blank' || competitionDistinguishSection == 'blank' || // FINANCES\n              startupCostsSection == 'blank' || runningCostsSection == 'blank' || financingSection == 'blank' || // BUSINESS MODEL\n              businessModelOverviewSection == 'blank' || businessGrowSection == 'blank' || whySuccessSection == 'blank')) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!currentTippy) {\n                _context.next = 7;\n                break;\n              }\n\n              setTimeout(function () {\n                !tippyMonster && setTippyMonster(true);\n              }, 1000);\n              return _context.abrupt(\"return\");\n\n            case 7:\n              !tippyMonster && setTippyMonster(true);\n              return _context.abrupt(\"return\");\n\n            case 9:\n              gsap.to(contentRef.current, {\n                autoAlpha: 0,\n                duration: 1,\n                ease: Linear.easeOut\n              });\n              setTimeout(function () {\n                router.push(\"/dashboard/projects/\".concat(router.query.project, \"/startup-idea/success\"));\n              }, 1200);\n              _context.next = 13;\n              return db.collection('projects').doc(projectId).collection('startupIdea').doc(router.query.project).collection('inputs').doc(documentId).set({\n                businessModelOverviewSectionData: businessModelOverviewSectionData,\n                businessGrowSectionData: businessGrowSectionData,\n                whySuccessSectionData: whySuccessSectionData,\n                filledSection4: true\n              }, {\n                merge: true\n              });\n\n            case 13:\n              return _context.abrupt(\"return\");\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // Data fetch\n\n\n  var _useState21 = useState(false),\n      loadingHelper = _useState21[0],\n      setLoadingHelper = _useState21[1];\n\n  var _useState22 = useState(''),\n      documentId = _useState22[0],\n      setDocumentId = _useState22[1];\n\n  useEffect(function () {\n    var userUid = Cookies.get('uid');\n    gsap.fromTo(contentRef.current, {\n      autoAlpha: 0\n    }, {\n      autoAlpha: 1,\n      duration: 1,\n      ease: Linear.easeIn\n    });\n\n    if (userUid && router.query.project) {\n      var data = db.collection('projects').where('uid', '==', userUid);\n      data.where('projectName', '==', router.query.project).get().then(function (querySnapshot) {\n        querySnapshot.forEach( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(doc1) {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    setProjectId(doc1.data().projectId);\n                    db.collection('projects').doc(doc1.data().projectId).collection('startupIdea').doc(router.query.project).collection('inputs').onSnapshot(function (serverUpdate) {\n                      serverUpdate.docs.map(function (doc) {\n                        console.log(doc.data());\n                        var data = doc.data();\n                        setDocumentId(doc.id);\n                        setProjectId(data.projectId); // OVERVIEW;\n\n                        setMarketProblemSection(data.marketProblemSectionData), setMarketSolutionSection(data.marketSolutionSectionData), setFoundersSection(data.foundersSectionData), // PRODUCT\n                        setProductOverviewSection(data.productOverviewSectionData), setProductPromotionSection(data.productPromotionSectionData), setProductBenefitsSection(data.productBenefitsSectionData), // MARKET\n                        setMarketOverviewSection(data.marketOverviewSectionData), setCompetitorsSection(data.competitorsSectionData), setTargetCustomersSection(data.targetCustomersSectionData), setCompetitionDistinguishSection(data.competitionDistinguishSectionData), // FINANCES\n                        setStartupCostsSection(data.startupCostsSectionData), setRunningCostsSection(data.runningCostsSectionData), setFinancingSection(data.financingSectionData), // BUSINESS MODEL\n                        setBusinessModelOverviewSection(data.businessModelOverviewSectionData), setBusinessGrowSection(data.businessGrowSectionData), setWhySuccessSection(data.whySuccessSectionData);\n                        setLoadingHelper(false);\n                      });\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      });\n    } else {\n      console.log('Loading failed');\n      setLoadingHelper(true);\n    }\n\n    return function () {\n      return setOnLoadOpacity4(false);\n    };\n  }, [loadingHelper, router.query.project]);\n  var businessModelOverviewSectionData = businessModelOverviewSection ? businessModelOverviewSection : 'blank';\n  var businessGrowSectionData = businessGrowSection ? businessGrowSection : 'blank';\n  var whySuccessSectionData = whySuccessSection ? whySuccessSection : 'blank';\n\n  var onProjectLeave = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              gsap.to(contentRef.current, {\n                autoAlpha: 0,\n                duration: 1,\n                ease: Linear.easeOut\n              });\n              setTimeout(function () {\n                router.push(\"/dashboard/projects/\".concat(router.query.project, \"/startup-idea/finances\"));\n              }, 1200);\n              _context3.next = 5;\n              return db.collection('projects').doc(projectId).collection('startupIdea').doc(router.query.project).collection('inputs').doc(documentId).set({\n                businessModelOverviewSectionData: businessModelOverviewSectionData,\n                businessGrowSectionData: businessGrowSectionData,\n                whySuccessSectionData: whySuccessSectionData,\n                filledSection4: businessModelOverviewSection && businessModelOverviewSection != 'blank' && businessGrowSection && businessGrowSection != 'blank' && whySuccessSection && whySuccessSection != 'blank' ? true : (!businessModelOverviewSection || !businessGrowSection || !whySuccessSection || businessModelOverviewSection == 'blank' || businessGrowSection == 'blank' || whySuccessSection == 'blank') && false\n              }, {\n                merge: true\n              });\n\n            case 5:\n              _context3.next = 7;\n              return db.collection('projects').doc(projectId).set({\n                businessModelOverviewSectionData: businessModelOverviewSectionData,\n                businessGrowSectionData: businessGrowSectionData,\n                whySuccessSectionData: whySuccessSectionData,\n                filledSection4: businessModelOverviewSection && businessModelOverviewSection != 'blank' && businessGrowSection && businessGrowSection != 'blank' && whySuccessSection && whySuccessSection != 'blank' ? true : (!businessModelOverviewSection || !businessGrowSection || !whySuccessSection || businessModelOverviewSection == 'blank' || businessGrowSection == 'blank' || whySuccessSection == 'blank') && false\n              }, {\n                merge: true\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onProjectLeave(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(ExitComponent, {}), /*#__PURE__*/_jsx(TippyMonster, {\n      setCurrentTippy: setCurrentTippy,\n      emptyInput: true,\n      setTippyMonster: setTippyMonster,\n      tippyMonster: tippyMonster,\n      model: true,\n      contentClass: \"h-40 w-96 shadow-lg rounded-2xl bg-primary flex justify-center items-center\",\n      contentText: \"It used to be that pirates had to work out their plunder plans in great details. Their future depended on the success of their mission \",\n      contentText1: \" In this section, introduce your startup's operating model and tell the world why it is your startup that will be successful \"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: contentRef,\n      className: \"h-full w-full relative flex flex-col items-center justify-center\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full max-w-mdStarter lg:max-w-lgContainer 2xl:max-w-xlContainer relative pl-6 pr-6 mt-16 pb-24\",\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: \"text-primarydark text-2xl normal:text-3xl mt-2 pl-2 dark:text-background text-center\",\n          children: \"It is a high time to get into the numbers\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: \"text-gray text-base normal:text-lg pl-2 dark:text-background text-center\",\n          children: [\"Startup idea creator will help you create the initial mockup of your future startup\", /*#__PURE__*/_jsx(\"img\", {\n            src: \"/gifs/rocket.gif\",\n            height: 35,\n            width: 35,\n            className: \"inline-block relative bottom-0.5\"\n          })]\n        }), /*#__PURE__*/_jsx(ProgressBar, {\n          onLoadOpacity4: onLoadOpacity4\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            className: \"text-primarydark text-lg mt-10 -mb-6 dark:text-background\",\n            children: \"Business model\"\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white mt-8 dark:bg-background\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"relative flex flex-col h-full w-full flex px-8 pt-8 pb-4\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                className: \"block text-sm font-medium flex justify-between items-end\",\n                htmlFor: \"businessModelOverview\",\n                children: [\"Overview of your startup business model.\", /*#__PURE__*/_jsx(TippyGuide, {\n                  contentClass: \"w-80 shadow-lg rounded-2xl bg-primary\",\n                  contentText: ' Questions that can guide you:\\n- How does your business model look like?\\n- What will be the legal structure of your startup?\\n- How will your startup generate income?'\n                })]\n              }), /*#__PURE__*/_jsx(\"textarea\", {\n                autoComplete: \"none\",\n                id: \"businessModelOverview\",\n                onChange: function onChange(e) {\n                  return setBusinessModelOverviewSection(e.target.value);\n                },\n                value: businessModelOverviewSection == 'blank' ? '' : businessModelOverviewSection,\n                className: \"pb-24 shadow appearance-none rounded w-full py-3 px-4 text-primarydark leading-tight focus:outline-none focus:shadow-outline text-sm bg-white rounded-2xl mt-2\",\n                type: \"textarea\",\n                placeholder: '“I never dreamed about success, I worked for it.”\\n\\n~ Estee Lauder'\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-12\",\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                className: \"block text-sm font-medium flex justify-between items-end\",\n                htmlFor: \"businessGrow\",\n                children: [\"Predictions and milestones about the growth of your startup.\", /*#__PURE__*/_jsx(TippyGuide, {\n                  contentClass: \"w-80 shadow-lg rounded-2xl bg-primary\",\n                  contentText: \" Questions that can guide you:\\n- How do you predict your startup grow?\\n- How are you going to achieve the projected growth of your startup?\\n- What are the milestones for each stage of your startup's development?\"\n                })]\n              }), /*#__PURE__*/_jsx(\"textarea\", {\n                autoComplete: \"none\",\n                id: \"businessGrow\",\n                onChange: function onChange(e) {\n                  return setBusinessGrowSection(e.target.value);\n                },\n                value: businessGrowSection == 'blank' ? '' : businessGrowSection,\n                className: \"pb-24 px-3 shadow appearance-none rounded w-full py-3 px-4 text-primarydark leading-tight focus:outline-none focus:shadow-outline text-sm bg-white rounded-2xl mt-2\",\n                type: \"textarea\",\n                placeholder: '“See things in the present, even if they are in the future.”\\n\\n~ Larry Ellison'\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-12 pb-8\",\n              children: [/*#__PURE__*/_jsxs(\"label\", {\n                className: \"block text-sm font-medium flex justify-between items-end\",\n                htmlFor: \"success\",\n                children: [\"Why is it your idea that will be successful?\", /*#__PURE__*/_jsx(TippyGuide, {\n                  angry: true,\n                  contentClass: \"w-80 shadow-lg rounded-2xl bg-primary\",\n                  contentText: ' What else are you waiting for? Get it off your chest and tell the whole world, how strong your motivation is to build a new startup!'\n                })]\n              }), /*#__PURE__*/_jsx(\"textarea\", {\n                autoComplete: \"none\",\n                id: \"success\",\n                onChange: function onChange(e) {\n                  return setWhySuccessSection(e.target.value);\n                },\n                value: whySuccessSection == 'blank' ? '' : whySuccessSection,\n                className: \"pb-24 px-3 shadow appearance-none rounded w-full py-3 px-4 text-primarydark leading-tight focus:outline-none focus:shadow-outline text-sm bg-white rounded-2xl mt-2\",\n                type: \"textarea\",\n                placeholder: '“Whether you think you can, or think you can’t – you’re right.”\\n\\n~ Henry Ford'\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"hr\", {\n            style: {\n              width: '90%',\n              color: '#a0aec0'\n            }\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"w-full grid grid-cols-3fr grid-flow-column px-8 py-4\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"flex items-center mt-1 text-primarydark text-sm\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                onClick: onProjectLeave,\n                children: \"Back\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex items-center mt-1 justify-self-center\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: \"text-sm text-gray\",\n                children: \"Step 5 of 5\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"flex justify-end items-center\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                disabled: tippyMonster,\n                onClick: onSubmit,\n                className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-sm font-light py-2 px-8 rounded-2xl dark:text-primarydark dark:border-primarydark\",\n                children: \"Next\"\n              })\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nexport default StartupProductModal;","map":null,"metadata":{},"sourceType":"module"}