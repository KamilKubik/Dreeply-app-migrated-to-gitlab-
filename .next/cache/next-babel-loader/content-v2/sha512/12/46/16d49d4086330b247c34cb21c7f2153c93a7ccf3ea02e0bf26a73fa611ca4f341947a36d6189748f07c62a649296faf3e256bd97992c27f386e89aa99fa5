{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\off-saas\\\\components\\\\dashboard\\\\startup\\\\project\\\\business-app\\\\competitors\\\\CompetitorsPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../../../../../../lib/firebase';\nimport NavbarTemplate from '../../../../NavbarTemplate';\nimport CashFlowPDF from '../cash-flow/CashFlowPDF';\nimport Competitor from './Competitor';\nimport Cookies from 'js-cookie';\nimport Router from 'next/router';\nimport Image from 'next/image';\nimport { v4 as uuidv4 } from 'uuid';\nimport CompetitorsPDF from './CompetitorsPDF'; // Drag & drop\n// Mobile friendly\n\nimport { useWindowSize } from '../../../../../../utils/useWindowSize';\n\nconst CompetitorsPage = () => {\n  const {\n    0: projectId,\n    1: setProjectId\n  } = useState('');\n  const {\n    0: documentId,\n    1: setDocumentId\n  } = useState('');\n  const {\n    0: competitors,\n    1: setCompetitors\n  } = useState();\n  const size = useWindowSize();\n  const {\n    0: loadingHelper,\n    1: setLoadingHelper\n  } = useState(false);\n  useEffect(async () => {\n    const userUid = Cookies.get('uid'); // console.log(Router.query.project);\n\n    console.log(userUid && Router.query.project);\n\n    if (userUid && Router.query.project) {\n      const data = db.collection('projects').where('uid', '==', userUid);\n      data.where('projectName', '==', Router.query.project).get().then(querySnapshot => {\n        querySnapshot.forEach(async doc1 => {\n          setProjectId(doc1.data().projectId);\n          db.collection('projects').doc(doc1.data().projectId).collection('competitors').doc(Router.query.project).collection('inputs').onSnapshot(serverUpdate => {\n            serverUpdate.docs.map(doc => {\n              console.log(doc.data());\n              const data = doc.data();\n              setDocumentId(doc.id);\n              setCompetitors(data.competitorsArray);\n              setLoadingHelper(false);\n            });\n          });\n        });\n      });\n    } else {\n      console.log('Loading failed');\n      setLoadingHelper(true);\n    }\n  }, [loadingHelper, Router.query.project]);\n  console.log(competitors);\n\n  const onNewCompetitorAdd = async () => {\n    const wholeCompetitorsArray = [...competitors];\n    const newCompetitor = {\n      image: '',\n      title: '',\n      location: '',\n      employees: '',\n      revenue: '',\n      index: uuidv4(),\n      // Elements\n      companyDescription: '',\n      businessModel: '',\n      productOverview: '',\n      promotionStrategy: '',\n      companyStrengths: '',\n      companyWeaknesses: '',\n      opportunities: ''\n    };\n    wholeCompetitorsArray.push(newCompetitor);\n    setCompetitors(wholeCompetitorsArray); // Firebase update\n\n    await db.collection('projects').doc(projectId).collection('competitors').doc(Router.query.project).collection('inputs').doc(documentId).update({\n      competitorsArray: wholeCompetitorsArray\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      onClick: () => Router.push(`/dashboard/projects/${Router.query.project}`),\n      src: \"/business-model/back4.svg\",\n      height: 28,\n      width: 28,\n      className: \"absolute left-6 top-3 cursor-pointer z-50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen w-full relative flex flex-col items-center text-primarydark\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-full relative mt-8 mdContainer:mt-16 mb-16 px-8 mdContainer:px-16 lgContainer:px-32 bigContainer:px-48 big2Container:px-64 big3Container:px-80 QHD:max-w-QHD\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative grid grid-cols-2 grid-rows-1 grid-flow-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              height: \"30\",\n              width: \"30\",\n              className: \"fill-current text-primary dark:text-primarydark\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 128 128\",\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                children: \"Landing Success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                id: \"Landing_Success\",\n                \"data-name\": \"Landing Success\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"cls-1\",\n                  d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primarydark text-xl ssmContainer:text-2xl mt-2 pl-2 dark:text-background\",\n              children: \"Competitors analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), size.width > 680 && /*#__PURE__*/_jsxDEV(CompetitorsPDF, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-secondary text-base ssmContainer:text-md text-gray\",\n            children: \"Manage your startup competitors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-white rounded-2xl mt-12 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primarydark text-md ssmContainer:text-lg\",\n              children: \"Competitors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Image, {\n              className: \"cursor-pointer\",\n              onClick: onNewCompetitorAdd,\n              src: \"/competitors/add1.svg\",\n              height: 32,\n              width: 32\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1frr normalContainer:grid-cols-2fr gap-x-12\",\n            children: competitors && competitors.map((competitor, index) => /*#__PURE__*/_jsxDEV(Competitor, {\n              setCompetitors: setCompetitors,\n              data: competitor,\n              projectId: projectId,\n              documentId: documentId,\n              competitors: competitors,\n              index: index\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\nexport default CompetitorsPage;","map":{"version":3,"sources":["C:/off-saas/components/dashboard/startup/project/business-app/competitors/CompetitorsPage.js"],"names":["React","useEffect","useState","db","NavbarTemplate","CashFlowPDF","Competitor","Cookies","Router","Image","v4","uuidv4","CompetitorsPDF","useWindowSize","CompetitorsPage","projectId","setProjectId","documentId","setDocumentId","competitors","setCompetitors","size","loadingHelper","setLoadingHelper","userUid","get","console","log","query","project","data","collection","where","then","querySnapshot","forEach","doc1","doc","onSnapshot","serverUpdate","docs","map","id","competitorsArray","onNewCompetitorAdd","wholeCompetitorsArray","newCompetitor","image","title","location","employees","revenue","index","companyDescription","businessModel","productOverview","promotionStrategy","companyStrengths","companyWeaknesses","opportunities","push","update","width","competitor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { db } from '../../../../../../lib/firebase';\r\nimport NavbarTemplate from '../../../../NavbarTemplate';\r\nimport CashFlowPDF from '../cash-flow/CashFlowPDF';\r\nimport Competitor from './Competitor';\r\nimport Cookies from 'js-cookie';\r\nimport Router from 'next/router';\r\nimport Image from 'next/image';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CompetitorsPDF from './CompetitorsPDF';\r\n// Drag & drop\r\n// Mobile friendly\r\nimport { useWindowSize } from '../../../../../../utils/useWindowSize';\r\n\r\nconst CompetitorsPage = () => {\r\n  const [projectId, setProjectId] = useState('');\r\n  const [documentId, setDocumentId] = useState('');\r\n  const [competitors, setCompetitors] = useState();\r\n  const size = useWindowSize();\r\n  const [loadingHelper, setLoadingHelper] = useState(false);\r\n\r\n  useEffect(async () => {\r\n    const userUid = Cookies.get('uid');\r\n    // console.log(Router.query.project);\r\n    console.log(userUid && Router.query.project);\r\n    if (userUid && Router.query.project) {\r\n      const data = db.collection('projects').where('uid', '==', userUid);\r\n      data\r\n        .where('projectName', '==', Router.query.project)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          querySnapshot.forEach(async (doc1) => {\r\n            setProjectId(doc1.data().projectId);\r\n\r\n            db.collection('projects')\r\n              .doc(doc1.data().projectId)\r\n              .collection('competitors')\r\n              .doc(Router.query.project)\r\n              .collection('inputs')\r\n              .onSnapshot((serverUpdate) => {\r\n                serverUpdate.docs.map((doc) => {\r\n                  console.log(doc.data());\r\n                  const data = doc.data();\r\n                  setDocumentId(doc.id);\r\n                  setCompetitors(data.competitorsArray);\r\n                  setLoadingHelper(false);\r\n                });\r\n              });\r\n          });\r\n        });\r\n    } else {\r\n      console.log('Loading failed');\r\n      setLoadingHelper(true);\r\n    }\r\n  }, [loadingHelper, Router.query.project]);\r\n\r\n  console.log(competitors);\r\n\r\n  const onNewCompetitorAdd = async () => {\r\n    const wholeCompetitorsArray = [...competitors];\r\n    const newCompetitor = {\r\n      image: '',\r\n      title: '',\r\n      location: '',\r\n      employees: '',\r\n      revenue: '',\r\n      index: uuidv4(),\r\n      // Elements\r\n      companyDescription: '',\r\n      businessModel: '',\r\n      productOverview: '',\r\n      promotionStrategy: '',\r\n      companyStrengths: '',\r\n      companyWeaknesses: '',\r\n      opportunities: '',\r\n    };\r\n    wholeCompetitorsArray.push(newCompetitor);\r\n    setCompetitors(wholeCompetitorsArray);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('competitors')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ competitorsArray: wholeCompetitorsArray });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        onClick={() => Router.push(`/dashboard/projects/${Router.query.project}`)}\r\n        src=\"/business-model/back4.svg\"\r\n        height={28}\r\n        width={28}\r\n        className=\"absolute left-6 top-3 cursor-pointer z-50\"\r\n      />\r\n      <div className=\"min-h-screen w-full relative flex flex-col items-center text-primarydark\">\r\n        {/* <div className=\"w-full xlContainer:max-w-xlContainerBreak xxlContainer:max-w-xxlContainerBreak relative mt-16\"> */}\r\n        <div className=\"w-full max-w-full relative mt-8 mdContainer:mt-16 mb-16 px-8 mdContainer:px-16 lgContainer:px-32 bigContainer:px-48 big2Container:px-64 big3Container:px-80 QHD:max-w-QHD\">\r\n          <div className=\"relative grid grid-cols-2 grid-rows-1 grid-flow-col\">\r\n            <div className=\"flex items-center\">\r\n              <svg\r\n                height=\"30\"\r\n                width=\"30\"\r\n                className=\"fill-current text-primary dark:text-primarydark\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 128 128\"\r\n              >\r\n                <title>Landing Success</title>\r\n                <g id=\"Landing_Success\" data-name=\"Landing Success\">\r\n                  <path\r\n                    className=\"cls-1\"\r\n                    d=\"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              <p className=\"text-primarydark text-xl ssmContainer:text-2xl mt-2 pl-2 dark:text-background\">Competitors analysis</p>\r\n            </div>\r\n            {size.width > 680 && <CompetitorsPDF />}\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-secondary text-base ssmContainer:text-md text-gray\">Manage your startup competitors</h1>\r\n          </div>\r\n          <div className=\"w-full bg-white rounded-2xl mt-12 p-8\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <p className=\"text-primarydark text-md ssmContainer:text-lg\">Competitors</p>\r\n              <Image className=\"cursor-pointer\" onClick={onNewCompetitorAdd} src=\"/competitors/add1.svg\" height={32} width={32} />\r\n            </div>\r\n            <div className=\"grid grid-cols-1frr normalContainer:grid-cols-2fr gap-x-12\">\r\n              {competitors &&\r\n                competitors.map((competitor, index) => (\r\n                  <Competitor\r\n                    setCompetitors={setCompetitors}\r\n                    key={index}\r\n                    data={competitor}\r\n                    projectId={projectId}\r\n                    documentId={documentId}\r\n                    competitors={competitors}\r\n                    index={index}\r\n                  />\r\n                ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompetitorsPage;\r\n"]},"metadata":{},"sourceType":"module"}