{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { withSuperJSONProps as _withSuperJSONProps } from \"babel-plugin-superjson-next/tools\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { db } from '../../../../../lib/firebase-admin';\nimport { db as dbClient } from '../../../../../lib/firebase';\nimport { useRouter } from 'next/router';\nimport Cookies from 'js-cookie';\nimport UniqueElement from '../../../../../components/dashboard/startup/project/business-app/competitors/UniqueElement';\n\nconst UniqueCompetitorsPage = ({\n  project\n}) => {\n  console.log('Particular project --> ', project);\n  useEffect(() => {\n    project && setSelectedProject(project[0]);\n    project && setCompetitors(project[0].competitorsArray);\n  }, [project]);\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const {\n    0: competitors,\n    1: setCompetitors\n  } = useState([]);\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(\"p\", {\n        children: \"Loading...\"\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"min-h-screen w-full relative flex flex-col items-center text-primarydark\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full max-w-full relative mt-8 mdContainer:mt-16 mb-16 px-8 mdContainer:px-16 lgContainer:px-32 bigContainer:px-48 big2Container:px-64 big3Container:px-80 QHD:max-w-QHD\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"relative grid grid-cols-2 grid-rows-1 grid-flow-col\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxs(\"svg\", {\n            height: \"30\",\n            width: \"30\",\n            className: \"fill-current text-primary dark:text-primarydark\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 128 128\",\n            children: [/*#__PURE__*/_jsx(\"title\", {\n              children: \"Landing Success\"\n            }), /*#__PURE__*/_jsx(\"g\", {\n              id: \"Landing_Success\",\n              \"data-name\": \"Landing Success\",\n              children: /*#__PURE__*/_jsx(\"path\", {\n                className: \"cls-1\",\n                d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"text-primarydark text-xl ssmContainer:text-2xl mt-2 pl-2 dark:text-background\",\n            children: \"Competitors analysis\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"h1\", {\n          className: \"text-secondary text-base ssmContainer:text-md text-gray\",\n          children: \"Insight into competition analysis\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full bg-white rounded-2xl mt-12 p-8\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: /*#__PURE__*/_jsx(\"p\", {\n            className: \"text-primarydark text-md ssmContainer:text-lg\",\n            children: \"Competitors\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"grid grid-cols-1frr normalContainer:grid-cols-2fr gap-x-12\",\n          children: competitors && competitors.map((competitor, index) => /*#__PURE__*/_jsx(UniqueElement, {\n            competitor: competitor,\n            index: index\n          }))\n        })]\n      })]\n    })\n  });\n};\n\nexport const getStaticPaths = async () => {\n  const snapshot = await db.collection('projects').get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(doc.data());\n  });\n  const paths = projects.map(project => ({\n    params: {\n      project: project.projectName.toString(),\n      id: project.projectId.toString()\n    }\n  }));\n  return {\n    paths: paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = _withSuperJSONProps(async ({\n  params\n}) => {\n  console.log(params); // let ref = db.collection('projects').where('projectName', '==', params.project);\n\n  let ref = db.collection('projects').doc(params.id).collection('competitors').doc(params.project).collection('inputs').where('projectId', '==', params.id);\n  const snapshot = await ref.get();\n  const project = [];\n  snapshot.forEach(doc => {\n    project.push(_objectSpread({}, doc.data()));\n  });\n  return {\n    props: {\n      project\n    },\n    revalidate: 1\n  };\n}, []);\nexport default _withSuperJSONPage(UniqueCompetitorsPage);","map":null,"metadata":{},"sourceType":"module"}