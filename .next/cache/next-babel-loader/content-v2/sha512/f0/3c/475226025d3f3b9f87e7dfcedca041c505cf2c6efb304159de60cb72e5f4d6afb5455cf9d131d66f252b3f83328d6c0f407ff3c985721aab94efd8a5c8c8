{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport function useCustomState(init) {\n  const {\n    0: state,\n    1: setState\n  } = useState(init);\n  const cbRef = useRef();\n\n  const setCustomState = (newState, callback) => {\n    cbRef.current = callback;\n    setState(newState);\n  };\n\n  useEffect(() => {\n    if (cbRef.current) {\n      cbRef.current(state);\n    }\n\n    cbRef.current = undefined;\n  }, [state]);\n  return [state, setCustomState];\n}","map":null,"metadata":{},"sourceType":"module"}