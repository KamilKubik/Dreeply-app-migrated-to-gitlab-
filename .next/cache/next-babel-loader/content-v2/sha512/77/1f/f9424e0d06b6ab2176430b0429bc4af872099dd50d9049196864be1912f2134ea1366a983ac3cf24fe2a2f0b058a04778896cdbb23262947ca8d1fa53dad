{"ast":null,"code":"import Router from 'next/router'; // Add new section\n\nexport const newSectionPage = async title => {\n  const section = {\n    position: this.state.sections.length,\n    title: title,\n    body: ''\n  };\n  const newFromDB = await db.collection('projects').doc(this.state.projectId).collection('businessPlan').doc(Router.query.project).collection('inputs').add({\n    position: section.position,\n    title: section.title,\n    // body: section.body,\n    fields: [],\n    timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    createdAt: new Date()\n  });\n  const newID = newFromDB.id; // await this.setState({ sections: [...this.state.sections, section] });\n\n  const newSectionIndex = this.state.sections.indexOf(this.state.sections.filter(_section => _section.id === newID)[0]);\n  this.setState({\n    selectedSection: this.state.sections[newSectionIndex],\n    selectedSectionIndex: newSectionIndex\n  });\n};","map":{"version":3,"sources":["C:/off-saas/components/dashboard/startup/project/business-app/business-plan/businessPlanUtils/sections.js"],"names":["Router","newSectionPage","title","section","position","state","sections","length","body","newFromDB","db","collection","doc","projectId","query","project","add","fields","timestamp","firebase","firestore","FieldValue","serverTimestamp","createdAt","Date","newID","id","newSectionIndex","indexOf","filter","_section","setState","selectedSection","selectedSectionIndex"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB,C,CAEA;;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAOC,KAAP,IAAiB;AAC7C,QAAMC,OAAO,GAAG;AACdC,IAAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,MADhB;AAEdL,IAAAA,KAAK,EAAEA,KAFO;AAGdM,IAAAA,IAAI,EAAE;AAHQ,GAAhB;AAKA,QAAMC,SAAS,GAAG,MAAMC,EAAE,CACvBC,UADqB,CACV,UADU,EAErBC,GAFqB,CAEjB,KAAKP,KAAL,CAAWQ,SAFM,EAGrBF,UAHqB,CAGV,cAHU,EAIrBC,GAJqB,CAIjBZ,MAAM,CAACc,KAAP,CAAaC,OAJI,EAKrBJ,UALqB,CAKV,QALU,EAMrBK,GANqB,CAMjB;AACHZ,IAAAA,QAAQ,EAAED,OAAO,CAACC,QADf;AAEHF,IAAAA,KAAK,EAAEC,OAAO,CAACD,KAFZ;AAGH;AACAe,IAAAA,MAAM,EAAE,EAJL;AAKHC,IAAAA,SAAS,EAAEC,QAAQ,CAACC,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EALR;AAMHC,IAAAA,SAAS,EAAE,IAAIC,IAAJ;AANR,GANiB,CAAxB;AAcA,QAAMC,KAAK,GAAGhB,SAAS,CAACiB,EAAxB,CApB6C,CAqB7C;;AACA,QAAMC,eAAe,GAAG,KAAKtB,KAAL,CAAWC,QAAX,CAAoBsB,OAApB,CAA4B,KAAKvB,KAAL,CAAWC,QAAX,CAAoBuB,MAApB,CAA4BC,QAAD,IAAcA,QAAQ,CAACJ,EAAT,KAAgBD,KAAzD,EAAgE,CAAhE,CAA5B,CAAxB;AACA,OAAKM,QAAL,CAAc;AACZC,IAAAA,eAAe,EAAE,KAAK3B,KAAL,CAAWC,QAAX,CAAoBqB,eAApB,CADL;AAEZM,IAAAA,oBAAoB,EAAEN;AAFV,GAAd;AAID,CA3BM","sourcesContent":["import Router from 'next/router';\r\n\r\n// Add new section\r\n\r\nexport const newSectionPage = async (title) => {\r\n  const section = {\r\n    position: this.state.sections.length,\r\n    title: title,\r\n    body: '',\r\n  };\r\n  const newFromDB = await db\r\n    .collection('projects')\r\n    .doc(this.state.projectId)\r\n    .collection('businessPlan')\r\n    .doc(Router.query.project)\r\n    .collection('inputs')\r\n    .add({\r\n      position: section.position,\r\n      title: section.title,\r\n      // body: section.body,\r\n      fields: [],\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      createdAt: new Date(),\r\n    });\r\n  const newID = newFromDB.id;\r\n  // await this.setState({ sections: [...this.state.sections, section] });\r\n  const newSectionIndex = this.state.sections.indexOf(this.state.sections.filter((_section) => _section.id === newID)[0]);\r\n  this.setState({\r\n    selectedSection: this.state.sections[newSectionIndex],\r\n    selectedSectionIndex: newSectionIndex,\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}