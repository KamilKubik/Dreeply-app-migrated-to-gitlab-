{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { withSuperJSONProps as _withSuperJSONProps } from \"babel-plugin-superjson-next/tools\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { db } from '../../../../../lib/firebase-admin';\nimport { db as dbClient } from '../../../../../lib/firebase';\nimport { isMobile } from 'react-device-detect';\nimport { useRouter } from 'next/router';\nimport Cookies from 'js-cookie';\nimport UniqueElement from '../../../../../components/dashboard/startup/project/business-app/competitors/UniqueElement';\nimport BounceLoaderComponent from '../../../../../components/BounceLoader';\n\nconst safeJsonStringify = require('safe-json-stringify');\n\nimport { useWindowSize } from '../../../../../utils/useWindowSize';\nimport DatePicker from 'react-datepicker';\nimport { addYears, format } from 'date-fns';\nimport moment from 'moment';\n\nconst UniqueCashflowPage = ({\n  project\n}) => {\n  console.log('Particular project --> ', project);\n  const {\n    0: startDate,\n    1: setStartDate\n  } = useState(new Date());\n  const {\n    0: endDate,\n    1: setEndDate\n  } = useState(new Date());\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const {\n    0: revenueElements,\n    1: setRevenueElements\n  } = useState();\n  const {\n    0: costsElements,\n    1: setCostsElements\n  } = useState();\n  const {\n    0: periods,\n    1: setPeriods\n  } = useState();\n  const {\n    0: tax,\n    1: setTax\n  } = useState();\n  const size = useWindowSize(); // Sum data\n\n  const {\n    0: totalRevenue,\n    1: setTotalRevenue\n  } = useState();\n  const {\n    0: monthlyRevenue,\n    1: setMonthlyRevenue\n  } = useState();\n  const {\n    0: totalCosts,\n    1: setTotalCosts\n  } = useState();\n  const {\n    0: monthlyCosts,\n    1: setMonthlyCosts\n  } = useState();\n  const {\n    0: grossProfit,\n    1: setGrossProfit\n  } = useState();\n  const {\n    0: netProfit,\n    1: setNetProfit\n  } = useState();\n  const router = useRouter();\n  useEffect(() => {\n    project && setSelectedProject(project[0]);\n    project && setRevenueElements(project[0].revenueElements);\n    project && setCostsElements(project[0].costsElements);\n    project && setPeriods(project[0].periods);\n    project && setTax(project[0].tax); // Sum data\n    // Global start date\n\n    const changedStartDate = project[0].globalStartDate._seconds * 1000;\n    console.log(changedStartDate);\n    project[0].globalStartDate !== '' && setStartDate(new Date(changedStartDate));\n    const changedEndDate = project[0].globalEndDate._seconds * 1000; // Global end date\n\n    project[0].globalEndDate !== '' && setEndDate(new Date(changedEndDate)); // Periods\n\n    setPeriods(project[0].periods); // Total revenue\n\n    const totalRevenueArray = project[0].revenueElements.map(element => parseInt(element.value * element.periods.length));\n    const totalRevenue = totalRevenueArray.reduce((a, b) => {\n      return a + b;\n    }, 0);\n    setTotalRevenue(Number.isNaN(totalRevenue) ? 0 : Math.round(totalRevenue)); // Monthly revenue\n\n    const periodLength = project[0].periods.length;\n    const monthlyRevenue = totalRevenue / periodLength;\n    setMonthlyRevenue(Number.isNaN(monthlyRevenue) ? 0 : Math.round(monthlyRevenue)); // Total costs\n\n    const totalCostsArray = project[0].costsElements.map(element => parseInt(element.value * element.periods.length));\n    const totalCosts = totalCostsArray.reduce((a, b) => {\n      return a + b;\n    }, 0);\n    setTotalCosts(Number.isFinite(totalCosts) ? Math.round(totalCosts) : 0); // Monthly costs\n\n    const monthlyCosts = totalCosts / periodLength;\n    setMonthlyCosts(Number.isFinite(monthlyCosts) ? Math.round(monthlyCosts) : 0); // Gross profit\n\n    const grossProfit = totalRevenue - totalCosts;\n    setGrossProfit(Number.isFinite(grossProfit) ? Math.round(grossProfit) : 0); // Net profit\n\n    const tax = parseInt(project[0].tax);\n    const netProfit = grossProfit - tax / 100 * grossProfit;\n    setNetProfit(Number.isFinite(netProfit) ? Math.round(netProfit) : 0);\n  }, [project]); //   const [competitors, setCompetitors] = useState([]);\n  // Chart\n\n  useEffect(() => {\n    // const myChartRef = chartRef.current.getContext('2d');\n    document.getElementById(`chartContainer`).innerHTML = '&nbsp;';\n    document.getElementById(`chartContainer`).innerHTML = `<canvas height='${size.width > 680 ? 75 : 'unset'}' id='chart'></canvas>`;\n    const myChartRef = document.getElementById('chart').getContext('2d'); // Revenue datasets\n\n    const revenueDataset = [];\n    const testArray = []; // const monthData = periods && periods.map(() => null);\n\n    revenueElements && revenueElements.map((revenueElement, index) => {\n      const monthData = periods && periods.map(() => null);\n      console.log(revenueElement);\n      periods && periods.map((period, periodIndex) => {\n        revenueElement.periods.map(revenuePeriod => {\n          if (period == revenuePeriod) {\n            if (monthData[periodIndex] == null) {\n              monthData[periodIndex] = revenueElement.value;\n            }\n          }\n        });\n      });\n      console.log(monthData);\n      testArray.push(monthData);\n      revenueDataset.push({\n        label: `revenue / ${revenueElement.title}`,\n        data: monthData,\n        backgroundColor: revenueElement.color,\n        borderColor: revenueElement.color\n      });\n    }); // Costs datasets\n\n    const costsDataset = [];\n    costsElements && costsElements.map((costsElement, index) => {\n      const monthData = periods && periods.map(() => null);\n      console.log(costsElement);\n      periods && periods.map((period, periodIndex) => {\n        costsElement.periods.map(costsPeriod => {\n          if (period == costsPeriod) {\n            if (monthData[periodIndex] == null) {\n              monthData[periodIndex] = -costsElement.value;\n            }\n          }\n        });\n      });\n      console.log(monthData);\n      testArray.push(monthData);\n      costsDataset.push({\n        label: `costs / ${costsElement.title}`,\n        data: monthData,\n        backgroundColor: costsElement.color,\n        borderColor: costsElement.color\n      });\n    }); // ----------------------\n    // Revenue\n\n    const revenueArray = [];\n    revenueDataset.length !== 0 && revenueDataset.length !== 0 && revenueDataset.map(element => revenueArray.push(element.data && element.data.map(data => {\n      if (data !== null) {\n        return parseInt(data);\n      } else {\n        return 0;\n      }\n    })));\n    console.log(revenueArray);\n    const calculatedRevenueArray = revenueArray.length !== 0 && revenueArray[0] !== undefined && revenueArray.reduce((a, b) => a.map((c, i) => c + b[i]));\n    console.log(calculatedRevenueArray); // Costs\n\n    const costsArray = [];\n    console.log(costsDataset);\n    costsDataset.length !== 0 && costsDataset.length !== 0 && costsDataset.map(element => costsArray.push(element.data && element.data.map(data => {\n      if (data !== null) {\n        return parseInt(data);\n      } else {\n        return 0;\n      }\n    })));\n    console.log(costsArray);\n    const calculatedCostsArray = costsArray.length !== 0 && costsArray[0] !== undefined && costsArray.reduce((a, b) => a.map((c, i) => c + b[i]));\n    console.log(calculatedCostsArray); // Final value\n\n    const finalArray = [calculatedRevenueArray, calculatedCostsArray];\n    console.log(finalArray); // Check if any array is falsy\n\n    const calculatedFinalArray = finalArray && finalArray.map(array => {\n      if (!array) {\n        const zeroArray = [];\n        periods && periods.map(period => zeroArray.push(0));\n        return zeroArray;\n      } else {\n        return array;\n      }\n    });\n    console.log(calculatedFinalArray);\n    const finalDataBeforeTax = calculatedFinalArray.length !== 0 && calculatedFinalArray.reduce((a, b) => a && b && a.map((c, i) => c + b[i]));\n    const finalDataAfterTax = finalDataBeforeTax && finalDataBeforeTax.map(data => data - tax / 100 * data);\n    console.log(finalDataAfterTax);\n    const netWorthArray = [];\n    const netWorth = revenueDataset.length !== 0 && costsDataset.length !== 0 && revenueDataset && revenueDataset.map((revenueElement, index) => {\n      const value = revenueElement.data && revenueElement.data.map((dataElement, revenueElementIndex) => {\n        console.log(dataElement);\n\n        if (dataElement !== null && costsDataset[index]) {\n          if (costsDataset[index].data[revenueElementIndex]) {\n            const grossProfit = dataElement - -costsDataset[0].data[revenueElementIndex];\n            netWorthArray.push(grossProfit - tax / 100 * grossProfit); // return grossProfit - (tax / 100) * grossProfit;\n          }\n        }\n      });\n      return value;\n    });\n    new Chart(myChartRef, {\n      type: 'bar',\n      data: {\n        labels: periods && periods,\n        datasets: [{\n          type: 'line',\n          label: 'Net profit',\n          data: finalDataAfterTax,\n          backgroundColor: 'rgba(10, 18, 48, 1)',\n          borderColor: 'rgba(10, 18, 48, 1)',\n          fill: 0,\n          lineTension: 0,\n          borderWidth: size.width < 680 ? 1 : 3,\n          pointRadius: size.width < 680 ? 2 : 3\n        }, ...revenueDataset, ...costsDataset]\n      },\n      options: {\n        skipNull: true,\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'right',\n            labels: {\n              fontFamily: 'Comfortaa',\n              font: {\n                size: size.width < 680 ? 8 : 12\n              },\n              boxWidth: size.width < 680 ? 10 : 40\n            }\n          }\n        },\n        scales: {\n          x: {\n            stacked: true,\n            ticks: {\n              fontFamily: 'Comfortaa',\n              beginAtZero: true,\n              font: {\n                size: size.width < 680 ? 8 : 12\n              }\n            } // beginAtZero: true,\n\n          },\n          y: {\n            stacked: true,\n            ticks: {\n              fontFamily: 'Comfortaa',\n              beginAtZero: true,\n              font: {\n                size: size.width < 680 ? 8 : 12\n              }\n            } // beginAtZero: true,\n\n          }\n        }\n      }\n    });\n  }, [periods, revenueElements, costsElements, tax]);\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(BounceLoaderComponent, {});\n  }\n\n  console.log(startDate);\n  console.log(endDate);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"min-h-screen w-full relative flex flex-col items-center\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-full max-w-full relative mt-8 lg1Container:mt-8 mb-16 px-32\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"relative grid grid-cols-2 grid-rows-1 grid-flow-col\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxs(\"svg\", {\n            height: size.width > 860 && 30 || size.width < 860 && size.width > 680 && 26 || size.width < 680 && 22,\n            width: size.width > 860 && 30 || size.width < 860 && size.width > 680 && 26 || size.width < 680 && 22,\n            className: \"fill-current text-primary dark:text-primarydark\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 128 128\",\n            children: [/*#__PURE__*/_jsx(\"title\", {\n              children: \"Landing Success\"\n            }), /*#__PURE__*/_jsx(\"g\", {\n              id: \"Landing_Success\",\n              \"data-name\": \"Landing Success\",\n              children: /*#__PURE__*/_jsx(\"path\", {\n                className: \"cls-1\",\n                d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"text-primarydark text-lg mdContainer:text-xl lgContainer:text-2xl mt-2 pl-2 dark:text-background\",\n            children: \"Cash flow analysis\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"h1\", {\n          className: \"text-secondary text-xs mdContainer:text-sm lgContainer:text-base text-gray relative -top-1 lgContainer:top-0\",\n          children: \"Manage your startup cash flow\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full grid grid-cols-2fr grid-rows-1fr lgContainer:grid-cols-3fr lgContainer:grid-rows-1fr gap-y-8 gap-x-6 smContainer:gap-x-32 mdContainer:gap-x-12 mt-12\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          id: \"main-datepicker\",\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/calendar.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2 text-primarydark\",\n              children: \"Start:\"\n            })]\n          }), startDate && !isMobile ? /*#__PURE__*/_jsx(DatePicker, {\n            selected: startDate // onChange={(date) => onStartDateUpdate(date)}\n            ,\n            dateFormat: \"MMMM yyyy\",\n            showMonthYearPicker: true,\n            maxDate: addYears(new Date(), 3),\n            minDate: new Date(),\n            readOnly: true\n          }) : /*#__PURE__*/_jsx(DatePicker, {\n            selected: startDate // onChange={(date) => onStartDateUpdate(date)}\n            ,\n            dateFormat: \"MMMM yyyy\",\n            showMonthYearPicker: true,\n            maxDate: addYears(new Date(), 3),\n            minDate: new Date(),\n            withPortal: true,\n            readOnly: true\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          id: \"main-datepicker\",\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/hourglass1.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2 text-primarydark\",\n              children: \"End:\"\n            })]\n          }), endDate && !isMobile ? /*#__PURE__*/_jsx(DatePicker, {\n            selected: endDate // onChange={(date) => onEndDateUpdate(date)}\n            ,\n            dateFormat: \"MMMM yyyy\",\n            showMonthYearPicker: true,\n            maxDate: addYears(new Date(), 3),\n            minDate: new Date(),\n            readOnly: true\n          }) : /*#__PURE__*/_jsx(DatePicker, {\n            selected: endDate // onChange={(date) => onEndDateUpdate(date)}\n            ,\n            dateFormat: \"MMMM yyyy\",\n            showMonthYearPicker: true,\n            maxDate: addYears(new Date(), 3),\n            minDate: new Date(),\n            withPortal: true,\n            readOnly: true\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            width: size.width > 860 && '100%' || size.width < 860 && size.width > 680 && '47%' || size.width < 680 && size.width > 520 && '40%' || size.width < 520 && '47%',\n            gridColumnStart: size.width < 860 ? '1' : 'unset',\n            gridColumnEnd: size.width < 860 ? '3' : 'unset'\n          },\n          className: \"place-self-center bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/tax.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Tax:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex\",\n            style: {\n              textAlignLast: 'right'\n            },\n            children: [/*#__PURE__*/_jsx(\"input\", {\n              id: \"tax-input\",\n              value: tax,\n              className: \"w-full bg-white focus:outline-none\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \"%\"\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        id: \"chartContainer\",\n        className: \"w-full h-1/2 p-4 mdContainer:p-8 bg-white rounded-2xl mt-12 shadow-md\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"w-full grid grid-cols-2fr grid-rows-3fr lg1Container:grid-cols-3fr lg1Container:grid-rows-2fr gap-x-6 smContainer:gap-x-12 gap-y-8 mt-12\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/revenue.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Total revenue:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", totalRevenue]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/monthly.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Monthly revenue:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", monthlyRevenue]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/costs.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Total costs:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", totalCosts]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/monthly-costs.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Monthly costs:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", monthlyCosts]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/megaphone.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Gross profit:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", grossProfit]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/cash-flow/net-worth.svg\",\n              height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n              width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"ml-2\",\n              children: \"Net profit:\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"$\", netProfit]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        // style={{ height: 55 }}\n        className: \"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-12 flex flex-wrap shadow-md\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"w-full flex justify-between items-center\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"lgContainer:ml-2\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"text-sm lgContainer:text-base\",\n              children: \"Revenue\"\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: `w-full ${size.width < 1120 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4' : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'}`,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            style: {\n              fontSize: size.width < 520 && '0.6rem'\n            },\n            className: \"w-full grid grid-cols-5fr items-center text-xs mdContainer:text-sm lg1Container:text-base\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: \"name\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"type\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"amount\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"start\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"end\"\n            }), /*#__PURE__*/_jsx(\"div\", {})]\n          }), /*#__PURE__*/_jsx(\"hr\", {\n            className: \"text-primary w-full\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"h-full w-full rounded-2xl flex flex-wrap flex-col\",\n            children: revenueElements && revenueElements.map((element, index) => {\n              console.log(element);\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full grid grid-cols-5fr py-3 items-start text-sm\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  placeholder: \"name\",\n                  className: \"w-4/5 bg-background focus:outline-none\",\n                  value: element.title\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    height: '20px'\n                  },\n                  className: \"overflow-hidden flex flex-col flex-wrap\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"w-full flex flex-row flex-nowrap\",\n                    children: /*#__PURE__*/_jsx(\"p\", {\n                      className: \"cursor-default\",\n                      children: element.type\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(\"input\", {\n                    className: \"w-4/5 bg-background focus:outline-none\",\n                    value: element.value,\n                    placeholder: \"amount\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(DatePicker, {\n                    popperPlacement: \"top-start\",\n                    popperProps: {\n                      positionFixed: true\n                    },\n                    selected: element.start._seconds * 1000,\n                    dateFormat: \"MMMM yyyy\",\n                    showMonthYearPicker: true,\n                    maxDate: addYears(new Date(), 3),\n                    minDate: new Date(),\n                    readOnly: true\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: element.type == 'Recurring' ? /*#__PURE__*/_jsx(DatePicker, {\n                    popperPlacement: \"top-start\",\n                    popperProps: {\n                      positionFixed: true\n                    },\n                    selected: element.end._seconds * 1000,\n                    dateFormat: \"MMMM yyyy\",\n                    showMonthYearPicker: true,\n                    maxDate: addYears(new Date(), 3),\n                    minDate: new Date(),\n                    readOnly: true\n                  }) : /*#__PURE__*/_jsx(\"hr\", {\n                    className: \"text-primarydark mr-8 mt-2\"\n                  })\n                })]\n              });\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-8 flex flex-wrap shadow-md\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"w-full flex justify-between items-center\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"lgContainer:ml-2\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: \"text-sm lgContainer:text-base\",\n              children: \"Costs\"\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: `w-full ${size.width < 1120 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4' : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'}`,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"w-full grid grid-cols-5fr items-center\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: \"name\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"type\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"amount\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"start\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"end\"\n            }), /*#__PURE__*/_jsx(\"div\", {})]\n          }), /*#__PURE__*/_jsx(\"hr\", {\n            className: \"text-primary w-full\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"h-full w-full rounded-2xl flex flex-wrap flex-col\",\n            children: costsElements && costsElements.map((element, index) => {\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: \"w-full grid grid-cols-5fr py-3 items-start text-sm\",\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  placeholder: \"name\",\n                  className: \"w-4/5 bg-background focus:outline-none\",\n                  value: element.title\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    height: '20px'\n                  },\n                  className: \"overflow-hidden flex flex-col flex-wrap\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"w-full flex flex-row flex-nowrap\",\n                    children: /*#__PURE__*/_jsx(\"p\", {\n                      className: \"cursor-default\",\n                      children: element.type\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(\"input\", {\n                    className: \"w-4/5 bg-background focus:outline-none\",\n                    value: element.value,\n                    placeholder: \"amount\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: /*#__PURE__*/_jsx(DatePicker, {\n                    popperPlacement: \"top-start\",\n                    popperProps: {\n                      positionFixed: true\n                    },\n                    selected: element.start._seconds * 1000,\n                    dateFormat: \"MMMM yyyy\",\n                    showMonthYearPicker: true,\n                    maxDate: addYears(new Date(), 3),\n                    minDate: new Date(),\n                    readOnly: true\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  children: element.type == 'Recurring' ? /*#__PURE__*/_jsx(DatePicker, {\n                    popperPlacement: \"top-start\",\n                    popperProps: {\n                      positionFixed: true\n                    },\n                    selected: element.end._seconds * 1000,\n                    dateFormat: \"MMMM yyyy\",\n                    showMonthYearPicker: true,\n                    maxDate: addYears(new Date(), 3),\n                    minDate: new Date(),\n                    readOnly: true\n                  }) : /*#__PURE__*/_jsx(\"hr\", {\n                    className: \"text-primarydark mr-8 mt-2\"\n                  })\n                })]\n              });\n            })\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nexport const getStaticPaths = async () => {\n  const snapshot = await db.collection('projects').get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(doc.data());\n  });\n  const paths = projects.map(project => ({\n    params: {\n      project: project.projectName.toString(),\n      id: project.projectId.toString()\n    }\n  }));\n  return {\n    paths: paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = _withSuperJSONProps(async ({\n  params\n}) => {\n  console.log(params); // let ref = db.collection('projects').where('projectName', '==', params.project);\n\n  let ref = db.collection('projects').doc(params.id).collection('cashFlow').doc(params.project).collection('inputs').where('projectId', '==', params.id);\n  const snapshot = await ref.get();\n  const project = [];\n  snapshot.forEach(doc => {\n    const data = JSON.parse(safeJsonStringify(doc.data()));\n    project.push(_objectSpread({}, data));\n  });\n  return {\n    props: {\n      project\n    },\n    revalidate: 1\n  };\n}, []);\nexport default _withSuperJSONPage(UniqueCashflowPage);","map":null,"metadata":{},"sourceType":"module"}