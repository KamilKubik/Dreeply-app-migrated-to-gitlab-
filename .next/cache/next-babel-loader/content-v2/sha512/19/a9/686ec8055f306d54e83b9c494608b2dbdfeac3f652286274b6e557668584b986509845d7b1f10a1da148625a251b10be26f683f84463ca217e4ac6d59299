{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport { withSuperJSONProps as _withSuperJSONProps } from \"babel-plugin-superjson-next/tools\";\nvar _jsxFileName = \"C:\\\\off-saas\\\\pages\\\\dashboard\\\\projects\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Cookies from 'js-cookie';\nimport { db } from '../../../lib/firebase-admin';\n\nconst ProjectsManager = ({\n  projects\n}) => {\n  console.log(projects);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Projects\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n\nexport const getServerSideProps = _withSuperJSONProps(async context => {\n  const cookies = context.req.headers;\n  const userUid = Cookies.get('uid');\n  const projects = [];\n  await db.collection('projects').where('uid', '==', userUid).get().then(querySnapshot => {\n    querySnapshot.forEach(doc => {\n      projects.push(_objectSpread({}, doc.data()));\n    });\n  }); // const data = await snapshot.get();\n  // data.docs.forEach((doc) => projects.push({ ...doc.data() }));\n\n  return {\n    props: {\n      projects\n    } // revalidate: 1,\n\n  }; // const snapshot = await ref.get();\n  // const project = [];\n  // snapshot.docs.forEach((doc) => {\n  //   const data = JSON.parse(safeJsonStringify(doc.data()));\n  //   project.push({ ...data });\n  // });\n}, []);\nexport default _withSuperJSONPage(ProjectsManager);","map":{"version":3,"sources":["C:/off-saas/pages/dashboard/projects/index.js"],"names":["React","Cookies","db","ProjectsManager","projects","console","log","getServerSideProps","context","cookies","req","headers","userUid","get","collection","where","then","querySnapshot","forEach","doc","push","data","props"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,EAAT,QAAmB,6BAAnB;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,sBACE;AAAA,2BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAPD;;AASA,OAAO,MAAMG,kBAAkB,uBAAG,MAAOC,OAAP,IAAmB;AACnD,QAAMC,OAAO,GAAGD,OAAO,CAACE,GAAR,CAAYC,OAA5B;AACA,QAAMC,OAAO,GAAGX,OAAO,CAACY,GAAR,CAAY,KAAZ,CAAhB;AACA,QAAMT,QAAQ,GAAG,EAAjB;AACA,QAAMF,EAAE,CACLY,UADG,CACQ,UADR,EAEHC,KAFG,CAEG,KAFH,EAEU,IAFV,EAEgBH,OAFhB,EAGHC,GAHG,GAIHG,IAJG,CAIGC,aAAD,IAAmB;AACvBA,IAAAA,aAAa,CAACC,OAAd,CAAuBC,GAAD,IAAS;AAC7Bf,MAAAA,QAAQ,CAACgB,IAAT,mBAAmBD,GAAG,CAACE,IAAJ,EAAnB;AACD,KAFD;AAGD,GARG,CAAN,CAJmD,CAanD;AACA;;AACA,SAAO;AACLC,IAAAA,KAAK,EAAE;AAAElB,MAAAA;AAAF,KADF,CAEL;;AAFK,GAAP,CAfmD,CAoBnD;AACA;AAEA;AACA;AACA;AACA;AACD,CA3B8B,KAAxB;AA6BP,kCAAeD,eAAf","sourcesContent":["import React from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport { db } from '../../../lib/firebase-admin';\r\n\r\nconst ProjectsManager = ({ projects }) => {\r\n  console.log(projects);\r\n  return (\r\n    <div>\r\n      <p>Projects</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = async (context) => {\r\n  const cookies = context.req.headers;\r\n  const userUid = Cookies.get('uid');\r\n  const projects = [];\r\n  await db\r\n    .collection('projects')\r\n    .where('uid', '==', userUid)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach((doc) => {\r\n        projects.push({ ...doc.data() });\r\n      });\r\n    });\r\n  // const data = await snapshot.get();\r\n  // data.docs.forEach((doc) => projects.push({ ...doc.data() }));\r\n  return {\r\n    props: { projects },\r\n    // revalidate: 1,\r\n  };\r\n\r\n  // const snapshot = await ref.get();\r\n  // const project = [];\r\n\r\n  // snapshot.docs.forEach((doc) => {\r\n  //   const data = JSON.parse(safeJsonStringify(doc.data()));\r\n  //   project.push({ ...data });\r\n  // });\r\n};\r\n\r\nexport default ProjectsManager;\r\n"]},"metadata":{},"sourceType":"module"}