{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\off-saas\\\\pages\\\\dashboard\\\\projects\\\\[project]\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { db } from '../../../../lib/firebase-admin';\nimport { useRouter } from 'next/router';\nimport Cookies from 'js-cookie';\nimport { db as dbClient } from '../../../../lib/firebase';\nimport { useAuth } from '../../../../lib/newAuth';\nimport NavbarTemplate from '../../../../components/dashboard/NavbarTemplate';\nimport TippyMonster from '../../../../components/dashboard/Tippy'; // import ProjectNav from '../../../../components/dashboard/startup/project/ProjectNav';\n\nimport { isMobile } from 'react-device-detect';\nimport MobilePrevent from '../../../../components/MobilePrevent';\n\nconst ProjectPage = ({\n  projects\n}) => {\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const containerRef = useRef();\n  const {\n    currentUser\n  } = useAuth();\n  const router = useRouter();\n  useEffect(() => {\n    const uid = Cookies.get('uid');\n    const filteredArray = projects && projects.filter(project => project.uid == uid);\n    console.log(filteredArray);\n    filteredArray && filteredArray.length == 1 && setSelectedProject(filteredArray[0]);\n  }, [projects]);\n  console.log(projects);\n  console.log(selectedProject); // BUSINESS PLAN CREATE\n\n  const onBusinessPlanCreate = async () => {\n    if (selectedProject && selectedProject.isBusinessPlanCreated) {\n      router.push(`/dashboard/projects/${router.query.project}/business-plan`);\n      return;\n    }\n\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('businessPlan').doc(router.query.project).set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isBusinessPlanCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/business-plan`);\n  };\n\n  console.log('CURRENT PROJECT --> ', selectedProject);\n\n  const onCashFlowAnalysisCreate = async () => {\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('cashFlow').doc(router.query.project).collection('inputs').doc().set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName,\n      revenueElements: [],\n      costsElements: [],\n      budgetElements: [],\n      globalStartDate: '',\n      globalEndDate: '',\n      periods: [],\n      tax: '0'\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isCashflowCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/cash-flow`);\n  };\n\n  const onCompetitorsAnalysisCreate = async () => {\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('competitors').doc(router.query.project).collection('inputs').doc().set({\n      uid: currentUser.uid,\n      projectId: selectedProject.projectId,\n      pathName: selectedProject.projectName,\n      competitorsArray: []\n    });\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({\n      isCompetitorsAnalysisCreated: true\n    });\n    router.push(`/dashboard/projects/${router.query.project}/competitors`);\n  };\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n  return (\n    /*#__PURE__*/\n    // <div className=\"w-full h-full justify-center items-center\">\n    //   <h2 className=\"text-center\">Welcome to the project page! Project name:</h2>\n    //   {selectedProject !== null && (\n    //     <>\n    //       <p className=\"text-center\">{selectedProject.projectName}</p>\n    //       <p className=\"text-center\">{selectedProject.uid}</p>\n    //     </>\n    //   )}\n    // </div>\n    _jsxDEV(_Fragment, {\n      children: isMobile ? /*#__PURE__*/_jsxDEV(NavbarTemplate, {\n        children: /*#__PURE__*/_jsxDEV(MobilePrevent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TippyMonster, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavbarTemplate, {\n          children: selectedProject ? /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: containerRef,\n            className: \"min-h-screen w-full relative flex flex-col items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full sm:max-w-smContainer md:max-w-mdContainer lg:max-w-lgContainer xl:max-w-xlContainer 2xl:max-w-xxlContainer normal:max-w-normalContainer relative mt-16\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 grid-rows-1 grid-flow-col\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    height: \"32\",\n                    width: \"32\",\n                    className: \"fill-current text-primary dark:text-primarydark\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 128 128\",\n                    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                      children: \"Landing Success\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                      id: \"Landing_Success\",\n                      \"data-name\": \"Landing Success\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        className: \"cls-1\",\n                        d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-primarydark text-2xl mt-3 pl-2 dark:text-background\",\n                    children: selectedProject && selectedProject.projectName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => router.push(`/dashboard/projects/${router.query.project}/edit`),\n                    className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-base font-light py-2 px-8 rounded-2xl mt-2 dark:text-primarydark dark:border-primarydark\",\n                    children: \"Settings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-secondary text-md text-gray -mt-1\",\n                  children: \"This is the best startup in the tech field\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2fr  grid-rows-3fr mt-12 gap-16 mb-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-primarydark text-lg dark:text-background\",\n                    children: \"Startup idea\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxHeight: 330\n                    },\n                    className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        maxHeight: 140\n                      },\n                      height: 300,\n                      width: 300,\n                      src: \"/launch-maker.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-base text-gray text-center px-4 py-4\",\n                      children: \"Startup idea will guide you through the process of creating your business plan. \\uD83D\\uDD0E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                      children: \"Create your startup idea\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-primarydark text-lg dark:text-background\",\n                    children: \"Business plan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxHeight: 330\n                    },\n                    className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        maxHeight: 140\n                      },\n                      height: 300,\n                      width: 300,\n                      src: \"/main-sections/business-plan.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-base text-gray text-center px-4 py-4\",\n                      children: \"Let's create your business plan, which will be the core of your startup presentation. \\uD83D\\uDD0E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: onBusinessPlanCreate,\n                      className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                      children: selectedProject.isBusinessPlanCreated ? 'Manage your business plan' : 'Create your business plan'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-primarydark text-lg dark:text-background\",\n                    children: \"Cash flow analysis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxHeight: 330\n                    },\n                    className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        maxHeight: 140\n                      },\n                      height: 300,\n                      width: 300,\n                      src: \"/main-sections/cash-flow2.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \" text-base text-gray text-center px-4 py-4\",\n                      children: \"Cash flow analysis will allow you to analyze the liquidity of your startup. \\uD83D\\uDD0E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: onCashFlowAnalysisCreate,\n                      className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                      children: \"Create your startup cash flow\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-primarydark text-lg dark:text-background\",\n                    children: \"Competitors analysis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxHeight: 330\n                    },\n                    className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        maxHeight: 140\n                      },\n                      height: 300,\n                      width: 300,\n                      src: \"/main-sections/competitors.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-base text-gray text-center px-4 py-4\",\n                      children: \"Competitor analysis will help you better prepare to enter a given market. \\uD83D\\uDD0E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: onCompetitorsAnalysisCreate,\n                      className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                      children: \"Analyze your startup competitors\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"text-primarydark text-lg dark:text-background\",\n                    children: \"Startup members\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      maxHeight: 330\n                    },\n                    className: \"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        maxHeight: 140\n                      },\n                      height: 300,\n                      width: 300,\n                      src: \"/main-sections/members1.svg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-base text-gray text-center px-4 py-4\",\n                      children: \"Identify the roles of your team and the people who will have access to this project. \\uD83D\\uDD0E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: onCompetitorsAnalysisCreate,\n                      className: \"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\",\n                      children: \"Manage your startup members\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-screen w-full flex justify-center items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primarydark text-lg\",\n              children: \"...Loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)\n    }, void 0, false)\n  );\n};\n\nexport const getStaticPaths = async () => {\n  // const { projects } = await getAllProjects();\n  const snapshot = await db.collection('projects').get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(doc.data());\n  });\n  const paths = projects.map(project => ({\n    params: {\n      project: project.projectName.toString()\n    }\n  }));\n  return {\n    paths: paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  // const { projects } = await getParticularProject(params.work);\n  // const uid = Cookies.get('uid');\n  let ref = db.collection('projects').where('projectName', '==', params.project);\n  const snapshot = await ref.get();\n  const projects = [];\n  snapshot.forEach(doc => {\n    projects.push(_objectSpread({\n      id: doc.id\n    }, doc.data()));\n  });\n  return {\n    props: {\n      projects\n    },\n    revalidate: 1\n  };\n}; // export const getServerSideProps = async ({ params }) => {\n//   let ref = db.collection('projects').where('projectName', '==', params.project);\n//   const snapshot = await ref.get();\n//   const projects = [];\n//   snapshot.forEach((doc) => {\n//     projects.push({ id: doc.id, ...doc.data() });\n//   });\n//   return {\n//     props: { projects },\n//   };\n// };\n\nexport default ProjectPage;","map":{"version":3,"sources":["C:/off-saas/pages/dashboard/projects/[project]/index.js"],"names":["React","useEffect","useState","useRef","db","useRouter","Cookies","dbClient","useAuth","NavbarTemplate","TippyMonster","isMobile","MobilePrevent","ProjectPage","projects","selectedProject","setSelectedProject","containerRef","currentUser","router","uid","get","filteredArray","filter","project","console","log","length","onBusinessPlanCreate","isBusinessPlanCreated","push","query","collection","doc","projectId","set","pathName","projectName","update","onCashFlowAnalysisCreate","revenueElements","costsElements","budgetElements","globalStartDate","globalEndDate","periods","tax","isCashflowCreated","onCompetitorsAnalysisCreate","competitorsArray","isCompetitorsAnalysisCreated","isFallback","maxHeight","getStaticPaths","snapshot","forEach","data","paths","map","params","toString","fallback","getStaticProps","ref","where","id","props","revalidate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { db } from '../../../../lib/firebase-admin';\r\nimport { useRouter } from 'next/router';\r\nimport Cookies from 'js-cookie';\r\nimport { db as dbClient } from '../../../../lib/firebase';\r\nimport { useAuth } from '../../../../lib/newAuth';\r\nimport NavbarTemplate from '../../../../components/dashboard/NavbarTemplate';\r\nimport TippyMonster from '../../../../components/dashboard/Tippy';\r\n// import ProjectNav from '../../../../components/dashboard/startup/project/ProjectNav';\r\nimport { isMobile } from 'react-device-detect';\r\nimport MobilePrevent from '../../../../components/MobilePrevent';\r\n\r\nconst ProjectPage = ({ projects }) => {\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const containerRef = useRef();\r\n  const { currentUser } = useAuth();\r\n  const router = useRouter();\r\n  useEffect(() => {\r\n    const uid = Cookies.get('uid');\r\n    const filteredArray = projects && projects.filter((project) => project.uid == uid);\r\n    console.log(filteredArray);\r\n    filteredArray && filteredArray.length == 1 && setSelectedProject(filteredArray[0]);\r\n  }, [projects]);\r\n  console.log(projects);\r\n  console.log(selectedProject);\r\n\r\n  // BUSINESS PLAN CREATE\r\n  const onBusinessPlanCreate = async () => {\r\n    if (selectedProject && selectedProject.isBusinessPlanCreated) {\r\n      router.push(`/dashboard/projects/${router.query.project}/business-plan`);\r\n      return;\r\n    }\r\n    await dbClient.collection('projects').doc(selectedProject.projectId).collection('businessPlan').doc(router.query.project).set({\r\n      uid: currentUser.uid,\r\n      projectId: selectedProject.projectId,\r\n      pathName: selectedProject.projectName,\r\n    });\r\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({ isBusinessPlanCreated: true });\r\n    router.push(`/dashboard/projects/${router.query.project}/business-plan`);\r\n  };\r\n\r\n  console.log('CURRENT PROJECT --> ', selectedProject);\r\n\r\n  const onCashFlowAnalysisCreate = async () => {\r\n    await dbClient\r\n      .collection('projects')\r\n      .doc(selectedProject.projectId)\r\n      .collection('cashFlow')\r\n      .doc(router.query.project)\r\n      .collection('inputs')\r\n      .doc()\r\n      .set({\r\n        uid: currentUser.uid,\r\n        projectId: selectedProject.projectId,\r\n        pathName: selectedProject.projectName,\r\n        revenueElements: [],\r\n        costsElements: [],\r\n        budgetElements: [],\r\n        globalStartDate: '',\r\n        globalEndDate: '',\r\n        periods: [],\r\n        tax: '0',\r\n      });\r\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({ isCashflowCreated: true });\r\n    router.push(`/dashboard/projects/${router.query.project}/cash-flow`);\r\n  };\r\n\r\n  const onCompetitorsAnalysisCreate = async () => {\r\n    await dbClient\r\n      .collection('projects')\r\n      .doc(selectedProject.projectId)\r\n      .collection('competitors')\r\n      .doc(router.query.project)\r\n      .collection('inputs')\r\n      .doc()\r\n      .set({\r\n        uid: currentUser.uid,\r\n        projectId: selectedProject.projectId,\r\n        pathName: selectedProject.projectName,\r\n        competitorsArray: [],\r\n      });\r\n    await dbClient.collection('projects').doc(selectedProject.projectId).update({ isCompetitorsAnalysisCreated: true });\r\n    router.push(`/dashboard/projects/${router.query.project}/competitors`);\r\n  };\r\n\r\n  if (router.isFallback) {\r\n    return (\r\n      <div>\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    // <div className=\"w-full h-full justify-center items-center\">\r\n    //   <h2 className=\"text-center\">Welcome to the project page! Project name:</h2>\r\n    //   {selectedProject !== null && (\r\n    //     <>\r\n    //       <p className=\"text-center\">{selectedProject.projectName}</p>\r\n    //       <p className=\"text-center\">{selectedProject.uid}</p>\r\n    //     </>\r\n    //   )}\r\n    // </div>\r\n    <>\r\n      {isMobile ? (\r\n        <NavbarTemplate>\r\n          <MobilePrevent />\r\n        </NavbarTemplate>\r\n      ) : (\r\n        <>\r\n          <TippyMonster />\r\n          <NavbarTemplate>\r\n            {selectedProject ? (\r\n              <div ref={containerRef} className=\"min-h-screen w-full relative flex flex-col items-center\">\r\n                <div className=\"w-full sm:max-w-smContainer md:max-w-mdContainer lg:max-w-lgContainer xl:max-w-xlContainer 2xl:max-w-xxlContainer normal:max-w-normalContainer relative mt-16\">\r\n                  {/* <div className=\"w-full max-w-full relative mt-16 mb-16 px-32\"> */}\r\n                  <div className=\"grid grid-cols-2 grid-rows-1 grid-flow-col\">\r\n                    <div className=\"flex items-center\">\r\n                      <svg\r\n                        height=\"32\"\r\n                        width=\"32\"\r\n                        className=\"fill-current text-primary dark:text-primarydark\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        viewBox=\"0 0 128 128\"\r\n                      >\r\n                        <title>Landing Success</title>\r\n                        <g id=\"Landing_Success\" data-name=\"Landing Success\">\r\n                          <path\r\n                            className=\"cls-1\"\r\n                            d=\"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\r\n                          />\r\n                        </g>\r\n                      </svg>\r\n                      <p className=\"text-primarydark text-2xl mt-3 pl-2 dark:text-background\">\r\n                        {selectedProject && selectedProject.projectName}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex justify-end\">\r\n                      {/* <ProjectNav /> */}\r\n                      <button\r\n                        onClick={() => router.push(`/dashboard/projects/${router.query.project}/edit`)}\r\n                        className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary text-base font-light py-2 px-8 rounded-2xl mt-2 dark:text-primarydark dark:border-primarydark\"\r\n                      >\r\n                        Settings\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <h1 className=\"text-secondary text-md text-gray -mt-1\">This is the best startup in the tech field</h1>\r\n                  </div>\r\n                  {/* SECTION */}\r\n                  <div className=\"grid grid-cols-2fr  grid-rows-3fr mt-12 gap-16 mb-32\">\r\n                    {/* SHOWUP1 */}\r\n                    <div className=\"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\">\r\n                      <h1 className=\"text-primarydark text-lg dark:text-background\">Startup idea</h1>\r\n                      <div\r\n                        style={{ maxHeight: 330 }}\r\n                        className=\"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\"\r\n                      >\r\n                        <img style={{ maxHeight: 140 }} height={300} width={300} src=\"/launch-maker.svg\" />\r\n                        <h1 className=\"text-base text-gray text-center px-4 py-4\">\r\n                          Startup idea will guide you through the process of creating your business plan. ðŸ”Ž\r\n                        </h1>\r\n                        <button className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\">\r\n                          Create your startup idea\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    {/* SHOWUP2 */}\r\n                    <div className=\"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\">\r\n                      <h1 className=\"text-primarydark text-lg dark:text-background\">Business plan</h1>\r\n                      <div\r\n                        style={{ maxHeight: 330 }}\r\n                        className=\"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\"\r\n                      >\r\n                        <img style={{ maxHeight: 140 }} height={300} width={300} src=\"/main-sections/business-plan.svg\" />\r\n                        <h1 className=\"text-base text-gray text-center px-4 py-4\">\r\n                          Let's create your business plan, which will be the core of your startup presentation. ðŸ”Ž\r\n                        </h1>\r\n                        <button\r\n                          onClick={onBusinessPlanCreate}\r\n                          className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\"\r\n                        >\r\n                          {selectedProject.isBusinessPlanCreated ? 'Manage your business plan' : 'Create your business plan'}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    {/* SHOWUP3 */}\r\n                    <div className=\"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\">\r\n                      <h1 className=\"text-primarydark text-lg dark:text-background\">Cash flow analysis</h1>\r\n                      <div\r\n                        style={{ maxHeight: 330 }}\r\n                        className=\"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\"\r\n                      >\r\n                        <img style={{ maxHeight: 140 }} height={300} width={300} src=\"/main-sections/cash-flow2.svg\" />\r\n                        <h1 className=\" text-base text-gray text-center px-4 py-4\">\r\n                          Cash flow analysis will allow you to analyze the liquidity of your startup. ðŸ”Ž\r\n                        </h1>\r\n                        <button\r\n                          onClick={onCashFlowAnalysisCreate}\r\n                          className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\"\r\n                        >\r\n                          Create your startup cash flow\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    {/* SHOWUP4 */}\r\n                    <div className=\"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\">\r\n                      <h1 className=\"text-primarydark text-lg dark:text-background\">Competitors analysis</h1>\r\n                      <div\r\n                        style={{ maxHeight: 330 }}\r\n                        className=\"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\"\r\n                      >\r\n                        <img style={{ maxHeight: 140 }} height={300} width={300} src=\"/main-sections/competitors.svg\" />\r\n                        <h1 className=\"text-base text-gray text-center px-4 py-4\">\r\n                          Competitor analysis will help you better prepare to enter a given market. ðŸ”Ž\r\n                        </h1>\r\n                        <button\r\n                          onClick={onCompetitorsAnalysisCreate}\r\n                          className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\"\r\n                        >\r\n                          Analyze your startup competitors\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    {/* SHOWUP5 */}\r\n                    <div className=\"rounded-2xl transform hover:scale-105 hover:-translate-y-2 hover:-translate-x-2 transition duration-500 ease-in-out\">\r\n                      <h1 className=\"text-primarydark text-lg dark:text-background\">Startup members</h1>\r\n                      <div\r\n                        style={{ maxHeight: 330 }}\r\n                        className=\"p-6 shadow-lg mt-1 w-full flex flex-col justify-center items-center border-r-6 rounded-2xl bg-white dark:bg-background\"\r\n                      >\r\n                        <img style={{ maxHeight: 140 }} height={300} width={300} src=\"/main-sections/members1.svg\" />\r\n                        <h1 className=\"text-base text-gray text-center px-4 py-4\">\r\n                          Identify the roles of your team and the people who will have access to this project. ðŸ”Ž\r\n                        </h1>\r\n                        <button\r\n                          onClick={onCompetitorsAnalysisCreate}\r\n                          className=\"hover:bg-primary hover:text-white dark:hover:bg-primarydark dark:hover:text-background focus:outline-none border border-primary text-primary dark:text-primarydark dark:border-primarydark text-sm font-light py-2 px-6 rounded-2xl\"\r\n                        >\r\n                          Manage your startup members\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"h-screen w-full flex justify-center items-center\">\r\n                <p className=\"text-primarydark text-lg\">...Loading</p>\r\n              </div>\r\n            )}\r\n          </NavbarTemplate>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getStaticPaths = async () => {\r\n  // const { projects } = await getAllProjects();\r\n  const snapshot = await db.collection('projects').get();\r\n\r\n  const projects = [];\r\n  snapshot.forEach((doc) => {\r\n    projects.push(doc.data());\r\n  });\r\n\r\n  const paths = projects.map((project) => ({\r\n    params: {\r\n      project: project.projectName.toString(),\r\n    },\r\n  }));\r\n\r\n  return {\r\n    paths: paths,\r\n    fallback: true,\r\n  };\r\n};\r\n\r\nexport const getStaticProps = async ({ params }) => {\r\n  // const { projects } = await getParticularProject(params.work);\r\n  // const uid = Cookies.get('uid');\r\n  let ref = db.collection('projects').where('projectName', '==', params.project);\r\n\r\n  const snapshot = await ref.get();\r\n  const projects = [];\r\n\r\n  snapshot.forEach((doc) => {\r\n    projects.push({ id: doc.id, ...doc.data() });\r\n  });\r\n\r\n  return {\r\n    props: { projects },\r\n    revalidate: 1,\r\n  };\r\n};\r\n\r\n// export const getServerSideProps = async ({ params }) => {\r\n//   let ref = db.collection('projects').where('projectName', '==', params.project);\r\n\r\n//   const snapshot = await ref.get();\r\n//   const projects = [];\r\n\r\n//   snapshot.forEach((doc) => {\r\n//     projects.push({ id: doc.id, ...doc.data() });\r\n//   });\r\n\r\n//   return {\r\n//     props: { projects },\r\n//   };\r\n// };\r\n\r\nexport default ProjectPage;\r\n"]},"metadata":{},"sourceType":"module"}