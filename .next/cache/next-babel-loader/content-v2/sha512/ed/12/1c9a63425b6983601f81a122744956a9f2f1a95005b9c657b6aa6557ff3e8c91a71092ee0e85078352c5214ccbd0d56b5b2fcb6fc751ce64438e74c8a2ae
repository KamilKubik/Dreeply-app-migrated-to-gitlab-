{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\off-saas\\\\components\\\\dashboard\\\\startup\\\\project\\\\business-app\\\\cash-flow\\\\CashFlowPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport Image from 'next/image';\nimport { db } from '../../../../../../lib/firebase';\nimport NavbarTemplate from '../../../../NavbarTemplate';\nimport PDFDocument from '../PDFDocument';\nimport Cookies from 'js-cookie';\nimport Router from 'next/router';\nimport RevenueElement from './RevenueElement'; // Date picker\n\nimport DatePicker from 'react-datepicker';\nimport { addYears, format } from 'date-fns';\nimport moment from 'moment'; // uuidv4\n\nimport { v4 as uuidv4 } from 'uuid'; // gsap\n\nimport gsap, { Linear, TweenMax } from 'gsap'; // Drag & drop\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport CostsElement from './CostsElement';\nimport CashFlowPDF from './CashFlowPDF'; // Mobile friendly\n\nimport { isMobile } from 'react-device-detect';\nimport { useWindowSize } from '../../../../../../utils/useWindowSize';\nimport TippyMonster from '../../../../Tippy';\nimport ExitComponent from '../../../ExitComponent';\n\nvar CashFlowPage = function CashFlowPage() {\n  _s();\n\n  // const size = useWindowSize();\n  // console.log(size);\n  var _useState = useState(''),\n      projectName = _useState[0],\n      setProjectName = _useState[1];\n\n  var _useState2 = useState(''),\n      mainDocument = _useState2[0],\n      setMainDocument = _useState2[1];\n\n  var _useState3 = useState(''),\n      projectId = _useState3[0],\n      setProjectId = _useState3[1];\n\n  var _useState4 = useState(''),\n      documentId = _useState4[0],\n      setDocumentId = _useState4[1];\n\n  var _useState5 = useState(),\n      revenueElements = _useState5[0],\n      setRevenueElements = _useState5[1];\n\n  var _useState6 = useState(),\n      costsElements = _useState6[0],\n      setCostsElements = _useState6[1];\n\n  var _useState7 = useState(),\n      budgetElements = _useState7[0],\n      setBudgetElements = _useState7[1];\n\n  var chartRef = useRef();\n\n  var _useState8 = useState(),\n      periods = _useState8[0],\n      setPeriods = _useState8[1];\n\n  var _useState9 = useState(),\n      tax = _useState9[0],\n      setTax = _useState9[1]; // Sum data\n\n\n  var _useState10 = useState(),\n      totalRevenue = _useState10[0],\n      setTotalRevenue = _useState10[1];\n\n  var _useState11 = useState(),\n      monthlyRevenue = _useState11[0],\n      setMonthlyRevenue = _useState11[1];\n\n  var _useState12 = useState(),\n      totalCosts = _useState12[0],\n      setTotalCosts = _useState12[1];\n\n  var _useState13 = useState(),\n      monthlyCosts = _useState13[0],\n      setMonthlyCosts = _useState13[1];\n\n  var _useState14 = useState(),\n      grossProfit = _useState14[0],\n      setGrossProfit = _useState14[1];\n\n  var _useState15 = useState(),\n      netProfit = _useState15[0],\n      setNetProfit = _useState15[1]; // Mobile friendly\n  // const size = useWindowSize();\n\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var userUid, _data;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return Cookies.get('uid');\n\n          case 2:\n            userUid = _context2.sent;\n\n            if (!(userUid && Router.query.project)) {\n              _context2.next = 9;\n              break;\n            }\n\n            console.log(userUid);\n            _context2.next = 7;\n            return db.collection('projects').where('uid', '==', userUid);\n\n          case 7:\n            _data = _context2.sent;\n\n            _data.where('projectName', '==', Router.query.project).get().then(function (querySnapshot) {\n              console.log(querySnapshot);\n              querySnapshot.forEach( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(doc1) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          setProjectId(doc1.data().projectId);\n                          setProjectName(doc1.data().projectName);\n                          _context.next = 4;\n                          return db.collection('projects').doc(doc1.data().projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').onSnapshot(function (serverUpdate) {\n                            serverUpdate.docs.map(function (doc) {\n                              console.log(doc.data());\n                              setMainDocument(doc.data());\n                              setDocumentId(doc.id);\n                              setRevenueElements(doc.data().revenueElements);\n                              setCostsElements(doc.data().costsElements);\n                              setBudgetElements(doc.data().budgetElements);\n                              setTax(doc.data().tax); // Global start date\n\n                              var changedStartDate = doc.data().globalStartDate.seconds * 1000;\n                              doc.data().globalStartDate !== '' && setStartDate(new Date(changedStartDate));\n                              var changedEndDate = doc.data().globalEndDate.seconds * 1000; // Global end date\n\n                              doc.data().globalEndDate !== '' && setEndDate(new Date(changedEndDate)); // Periods\n\n                              setPeriods(doc.data().periods); // Total revenue\n\n                              var totalRevenueArray = doc.data().revenueElements.map(function (element) {\n                                return parseInt(element.value * element.periods.length);\n                              });\n                              var totalRevenue = totalRevenueArray.reduce(function (a, b) {\n                                return a + b;\n                              }, 0);\n                              setTotalRevenue(Number.isNaN(totalRevenue) ? 0 : Math.round(totalRevenue)); // Monthly revenue\n\n                              var periodLength = doc.data().periods.length;\n                              var monthlyRevenue = totalRevenue / periodLength;\n                              setMonthlyRevenue(Number.isNaN(monthlyRevenue) ? 0 : Math.round(monthlyRevenue)); // Total costs\n\n                              var totalCostsArray = doc.data().costsElements.map(function (element) {\n                                return parseInt(element.value * element.periods.length);\n                              });\n                              var totalCosts = totalCostsArray.reduce(function (a, b) {\n                                return a + b;\n                              }, 0);\n                              console.log(totalCosts); // const filteredTotalCosts =\n                              //   typeof totalCosts == 'number' ? Math.round(totalCosts) : 0;\n                              // console.log(filteredTotalCosts);\n\n                              setTotalCosts(Number.isFinite(totalCosts) ? Math.round(totalCosts) : 0); // Monthly costs\n\n                              var monthlyCosts = totalCosts / periodLength;\n                              setMonthlyCosts(Number.isFinite(monthlyCosts) ? Math.round(monthlyCosts) : 0); // Gross profit\n\n                              var grossProfit = totalRevenue - totalCosts;\n                              setGrossProfit(Number.isFinite(grossProfit) ? Math.round(grossProfit) : 0); // Net profit\n\n                              var tax = parseInt(doc.data().tax);\n                              var netProfit = grossProfit - tax / 100 * grossProfit;\n                              setNetProfit(Number.isFinite(netProfit) ? Math.round(netProfit) : 0);\n                            });\n                          });\n\n                        case 4:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n            });\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [Router.query.project]);\n  useEffect(function () {\n    // const myChartRef = chartRef.current.getContext('2d');\n    document.getElementById(\"chartContainer\").innerHTML = '&nbsp;';\n    document.getElementById(\"chartContainer\").innerHTML = \"<canvas height='\".concat(size.width > 680 ? 75 : 'unset', \"' id='chart'></canvas>\");\n    var myChartRef = document.getElementById('chart').getContext('2d'); // Revenue datasets\n\n    var revenueDataset = [];\n    var testArray = []; // const monthData = periods && periods.map(() => null);\n\n    revenueElements && revenueElements.map(function (revenueElement, index) {\n      var monthData = periods && periods.map(function () {\n        return null;\n      });\n      console.log(revenueElement);\n      periods && periods.map(function (period, periodIndex) {\n        revenueElement.periods.map(function (revenuePeriod) {\n          if (period == revenuePeriod) {\n            if (monthData[periodIndex] == null) {\n              monthData[periodIndex] = revenueElement.value;\n            }\n          }\n        });\n      });\n      console.log(monthData);\n      testArray.push(monthData);\n      revenueDataset.push({\n        label: \"revenue / \".concat(revenueElement.title),\n        data: monthData,\n        backgroundColor: revenueElement.color,\n        borderColor: revenueElement.color\n      });\n    }); // Costs datasets\n\n    var costsDataset = []; // const testArray = [];\n    // const monthData = periods && periods.map(() => null);\n\n    costsElements && costsElements.map(function (costsElement, index) {\n      var monthData = periods && periods.map(function () {\n        return null;\n      });\n      console.log(costsElement);\n      periods && periods.map(function (period, periodIndex) {\n        costsElement.periods.map(function (costsPeriod) {\n          if (period == costsPeriod) {\n            if (monthData[periodIndex] == null) {\n              monthData[periodIndex] = -costsElement.value;\n            }\n          }\n        });\n      });\n      console.log(monthData);\n      testArray.push(monthData);\n      costsDataset.push({\n        label: \"costs / \".concat(costsElement.title),\n        data: monthData,\n        backgroundColor: costsElement.color,\n        borderColor: costsElement.color\n      });\n    }); // Net worth\n\n    console.log(revenueDataset);\n    console.log(costsDataset); // const netWorth =\n    //   revenueDataset.length !== 0 &&\n    //   costsDataset.length !== 0 &&\n    //   revenueDataset[0].data &&\n    //   revenueDataset[0].data.map((revenueElement, index) => {\n    //     if (revenueElement !== null && costsDataset[0].data[index] !== null) {\n    //       const grossProfit = revenueElement - -costsDataset[0].data[index];\n    //       return grossProfit - (tax / 100) * grossProfit;\n    //     } else if (revenueElement !== null) {\n    //       return revenueElement - (tax / 100) * revenueElement;\n    //     } else if (costsDataset[0].data[index] !== null) {\n    //       return costsDataset[0].data[index];\n    //     } else {\n    //       return null;\n    //     }\n    //   });\n    // ----------------------\n    // Revenue\n\n    var revenueArray = [];\n    revenueDataset.length !== 0 && revenueDataset.length !== 0 && revenueDataset.map(function (element) {\n      return revenueArray.push(element.data && element.data.map(function (data) {\n        if (data !== null) {\n          return parseInt(data);\n        } else {\n          return 0;\n        }\n      }));\n    });\n    console.log(revenueArray);\n    var calculatedRevenueArray = revenueArray.length !== 0 && revenueArray[0] !== undefined && revenueArray.reduce(function (a, b) {\n      return a.map(function (c, i) {\n        return c + b[i];\n      });\n    });\n    console.log(calculatedRevenueArray); // Costs\n\n    var costsArray = [];\n    console.log(costsDataset);\n    costsDataset.length !== 0 && costsDataset.length !== 0 && costsDataset.map(function (element) {\n      return costsArray.push(element.data && element.data.map(function (data) {\n        if (data !== null) {\n          return parseInt(data);\n        } else {\n          return 0;\n        }\n      }));\n    });\n    console.log(costsArray);\n    var calculatedCostsArray = costsArray.length !== 0 && costsArray[0] !== undefined && costsArray.reduce(function (a, b) {\n      return a.map(function (c, i) {\n        return c + b[i];\n      });\n    });\n    console.log(calculatedCostsArray); // Final value\n\n    var finalArray = [calculatedRevenueArray, calculatedCostsArray];\n    console.log(finalArray); // Check if any array is falsy\n\n    var calculatedFinalArray = finalArray && finalArray.map(function (array) {\n      if (!array) {\n        var zeroArray = [];\n        periods && periods.map(function (period) {\n          return zeroArray.push(0);\n        });\n        return zeroArray;\n      } else {\n        return array;\n      }\n    });\n    console.log(calculatedFinalArray);\n    var finalDataBeforeTax = calculatedFinalArray.length !== 0 && calculatedFinalArray.reduce(function (a, b) {\n      return a && b && a.map(function (c, i) {\n        return c + b[i];\n      });\n    });\n    var finalDataAfterTax = finalDataBeforeTax && finalDataBeforeTax.map(function (data) {\n      return data - tax / 100 * data;\n    });\n    console.log(finalDataAfterTax);\n    var netWorthArray = [];\n    var netWorth = revenueDataset.length !== 0 && costsDataset.length !== 0 && revenueDataset && revenueDataset.map(function (revenueElement, index) {\n      var value = revenueElement.data && revenueElement.data.map(function (dataElement, revenueElementIndex) {\n        console.log(dataElement);\n\n        if (dataElement !== null && costsDataset[index]) {\n          if (costsDataset[index].data[revenueElementIndex]) {\n            var _grossProfit = dataElement - -costsDataset[0].data[revenueElementIndex];\n\n            netWorthArray.push(_grossProfit - tax / 100 * _grossProfit); // return grossProfit - (tax / 100) * grossProfit;\n          }\n        }\n      });\n      return value;\n    });\n    console.log(netWorthArray);\n    new Chart(myChartRef, {\n      type: 'bar',\n      data: {\n        labels: periods && periods,\n        datasets: [{\n          type: 'line',\n          label: 'Net profit',\n          data: finalDataAfterTax,\n          backgroundColor: 'rgba(10, 18, 48, 1)',\n          borderColor: 'rgba(10, 18, 48, 1)',\n          fill: 0,\n          lineTension: 0,\n          borderWidth: size.width < 680 ? 1 : 3,\n          pointRadius: size.width < 680 ? 2 : 3\n        }].concat(revenueDataset, costsDataset)\n      },\n      options: {\n        skipNull: true,\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'right',\n            labels: {\n              fontFamily: 'Comfortaa',\n              font: {\n                size: size.width < 680 ? 8 : 12\n              },\n              boxWidth: size.width < 680 ? 10 : 40\n            }\n          }\n        },\n        scales: {\n          x: {\n            stacked: true,\n            ticks: {\n              fontFamily: 'Comfortaa',\n              beginAtZero: true,\n              font: {\n                size: size.width < 680 ? 8 : 12\n              }\n            } // beginAtZero: true,\n\n          },\n          y: {\n            stacked: true,\n            ticks: {\n              fontFamily: 'Comfortaa',\n              beginAtZero: true,\n              font: {\n                size: size.width < 680 ? 8 : 12\n              }\n            } // beginAtZero: true,\n\n          } //   defaultFontFamily: (Chart.defaults.global.defaultFontFamily =\n          //     'Comfortaa'),\n          //   scales: {\n          //     yAxes: [\n          //         {\n          //           stacked: true,\n          //           ticks: {\n          //             beginAtZero: true,\n          //           },\n          //         },\n          //       ],\n          //       xAxes: [\n          //         {\n          //           stacked: true,\n          //           ticks: {\n          //             beginAtZero: true,\n          //           },\n          //         },\n          //       ],\n          //   },\n\n        }\n      }\n    });\n  }, [periods, revenueElements, costsElements, tax]);\n\n  var onRevenueElementAdd = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var wholeArray, newRevenueElements;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(revenueElements);\n              wholeArray = _toConsumableArray(revenueElements);\n              newRevenueElements = {\n                title: '',\n                type: 'One time',\n                start: new Date(),\n                end: new Date(),\n                value: '',\n                periods: [],\n                color: 'rgba(244, 67, 54, 1)',\n                index: uuidv4()\n              };\n              wholeArray.push(newRevenueElements);\n              console.log(wholeArray);\n              setRevenueElements(wholeArray);\n              _context3.next = 8;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                revenueElements: wholeArray\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onRevenueElementAdd() {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // Costs\n\n\n  var onCostsElementAdd = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var wholeArray, newCostsElements;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(costsElements);\n              wholeArray = _toConsumableArray(costsElements);\n              newCostsElements = {\n                title: '',\n                type: 'One time',\n                start: new Date(),\n                end: new Date(),\n                value: '',\n                periods: [],\n                color: 'rgba(244, 67, 54, 1)',\n                index: uuidv4()\n              };\n              wholeArray.push(newCostsElements);\n              console.log(wholeArray);\n              setCostsElements(wholeArray);\n              _context4.next = 8;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                costsElements: wholeArray\n              });\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onCostsElementAdd() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var _useState16 = useState(new Date()),\n      startDate = _useState16[0],\n      setStartDate = _useState16[1];\n\n  var _useState17 = useState(new Date()),\n      endDate = _useState17[0],\n      setEndDate = _useState17[1];\n\n  var onStartDateUpdate = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(date) {\n      var newStartDate, newEndDate, startDater, endDater, dates, month;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log(date);\n              setStartDate(date); // Get months\n\n              newStartDate = format(date, 'yyyy-MM-dd');\n              newEndDate = format(endDate, 'yyyy-MM-dd');\n              startDater = moment(newStartDate);\n              endDater = moment(newEndDate);\n              dates = [];\n              startDater.subtract(1, 'month'); //Substract one month to exclude endDater itself\n\n              month = moment(startDater); //clone the startDate\n\n              while (month < endDater) {\n                month.add(1, 'month');\n                dates.push(month.format('MMM yyyy'));\n              } // Local update\n\n\n              setPeriods(dates); // Firebase update\n\n              _context5.next = 13;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                periods: dates,\n                globalStartDate: date\n              });\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function onStartDateUpdate(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var onEndDateUpdate = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(date) {\n      var newStartDate, newEndDate, startDater, endDater, dates, month;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              setEndDate(date); // Get months\n\n              newStartDate = format(startDate, 'yyyy-MM-dd');\n              newEndDate = format(date, 'yyyy-MM-dd');\n              startDater = moment(newStartDate);\n              endDater = moment(newEndDate);\n              dates = [];\n              startDater.subtract(1, 'month'); //Substract one month to exclude endDater itself\n              // endDater.subtract(1, \"month\"); //Substract one month to exclude endDater itself\n\n              month = moment(startDater); //clone the startDate\n\n              while (month < endDater) {\n                month.add(1, 'month');\n                dates.push(month.format('MMM yyyy'));\n              } // Local update\n\n\n              setPeriods(dates); // Firebase update\n\n              _context6.next = 12;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                periods: dates,\n                globalEndDate: date\n              });\n\n            case 12:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function onEndDateUpdate(_x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  console.log('Running');\n  var revenueRef = useRef();\n  var innerContainerRevenueRef = useRef();\n  var dropDownIcon = useRef();\n\n  var _useState18 = useState(false),\n      isRevenueShown = _useState18[0],\n      setIsRevenueShown = _useState18[1];\n\n  var onRevenueShow = function onRevenueShow() {\n    var margins = size.width < 1280 ? 68 : 96;\n    var revenueContainerHeight = innerContainerRevenueRef.current.offsetHeight + 96;\n    console.log(innerContainerRevenueRef.current.offsetHeight);\n\n    if (!isRevenueShown) {\n      gsap.to(revenueRef.current, {\n        height: revenueContainerHeight,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownIcon.current, {\n        rotation: '90_cw',\n        duration: 1,\n        ease: Linear\n      });\n      gsap.set(revenueRef.current, {\n        height: '100%',\n        delay: 1\n      });\n      gsap.set(revenueRef.current, {\n        overflow: 'visible',\n        delay: 1\n      });\n      setIsRevenueShown(true);\n    } else if (isRevenueShown) {\n      gsap.set(revenueRef.current, {\n        height: revenueContainerHeight\n      });\n      gsap.set(revenueRef.current, {\n        overflow: 'hidden'\n      });\n      gsap.to(revenueRef.current, {\n        height: 55,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownIcon.current, {\n        rotation: '0_cw',\n        duration: 1,\n        ease: Linear\n      });\n      setIsRevenueShown(false);\n    }\n  }; // Costs\n\n\n  var costsRef = useRef();\n  var innerContainerCostsRef = useRef();\n  var dropDownIconCosts = useRef();\n\n  var _useState19 = useState(false),\n      isCostsShown = _useState19[0],\n      setIsCostsShown = _useState19[1];\n\n  var onCostsShow = function onCostsShow() {\n    var revenueContainerHeight = innerContainerCostsRef.current.offsetHeight + 96;\n    console.log(innerContainerCostsRef.current.offsetHeight);\n\n    if (!isCostsShown) {\n      gsap.to(costsRef.current, {\n        height: revenueContainerHeight,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownIconCosts.current, {\n        rotation: '90_cw',\n        duration: 1,\n        ease: Linear\n      });\n      gsap.set(costsRef.current, {\n        height: '100%',\n        delay: 1\n      });\n      gsap.set(costsRef.current, {\n        overflow: 'visible',\n        delay: 1\n      });\n      setIsCostsShown(true);\n    } else if (isCostsShown) {\n      gsap.set(costsRef.current, {\n        overflow: 'hidden'\n      });\n      gsap.set(costsRef.current, {\n        height: revenueContainerHeight\n      });\n      gsap.to(costsRef.current, {\n        height: 55,\n        duration: 1,\n        ease: Linear\n      });\n      gsap.to(dropDownIconCosts.current, {\n        rotation: '0_cw',\n        duration: 1,\n        ease: Linear\n      });\n      setIsCostsShown(false);\n    }\n  };\n\n  var handleOnDragEnd = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result) {\n      var items, _items$splice, _items$splice2, reorderedItem;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (result.destination) {\n                _context7.next = 2;\n                break;\n              }\n\n              return _context7.abrupt(\"return\");\n\n            case 2:\n              items = Array.from(revenueElements);\n              _items$splice = items.splice(result.source.index, 1), _items$splice2 = _slicedToArray(_items$splice, 1), reorderedItem = _items$splice2[0];\n              items.splice(result.destination.index, 0, reorderedItem);\n              console.log(result);\n              setRevenueElements(items); // Firebase update\n\n              _context7.next = 9;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                revenueElements: items\n              });\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function handleOnDragEnd(_x4) {\n      return _ref7.apply(this, arguments);\n    };\n  }(); // Costs\n\n\n  var costsHandleOnDragEnd = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(result) {\n      var items, _items$splice3, _items$splice4, reorderedItem;\n\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (result.destination) {\n                _context8.next = 2;\n                break;\n              }\n\n              return _context8.abrupt(\"return\");\n\n            case 2:\n              items = Array.from(costsElements);\n              _items$splice3 = items.splice(result.source.index, 1), _items$splice4 = _slicedToArray(_items$splice3, 1), reorderedItem = _items$splice4[0];\n              items.splice(result.destination.index, 0, reorderedItem);\n              console.log(result);\n              setRevenueElements(items); // Firebase update\n\n              _context8.next = 9;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                costsElements: items\n              });\n\n            case 9:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function costsHandleOnDragEnd(_x5) {\n      return _ref8.apply(this, arguments);\n    };\n  }(); // Tax\n\n\n  var onTaxChange = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(value) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              // Local update\n              setTax(value); // Firebase update\n\n              _context9.next = 3;\n              return db.collection('projects').doc(projectId).collection('cashFlow').doc(Router.query.project).collection('inputs').doc(documentId).update({\n                tax: value\n              });\n\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function onTaxChange(_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var data = {\n    periods: periods,\n    revenueElements: revenueElements,\n    costsElements: costsElements,\n    tax: tax,\n    totalRevenue: totalRevenue,\n    monthlyRevenue: monthlyRevenue,\n    totalCosts: totalCosts,\n    monthlyCosts: monthlyCosts,\n    grossProfit: grossProfit,\n    netProfit: netProfit,\n    startDate: format(startDate, 'MMM / yyyy'),\n    endDate: format(endDate, 'MMM / yyyy')\n  };\n  var size = {\n    width: window.innerWidth\n  };\n  console.log(size.width > 860 && 30 || size.width < 860 && size.width > 680 && 26 || size.width < 680 && 22);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TippyMonster, {\n      cashFlow: true,\n      contentClass: \"h-40 w-80 shadow-lg rounded-2xl bg-primary flex justify-center items-center\",\n      contentText: \"I'm glad you made it all the way here! Analyzing your startup's liquidity is one of the most important parts of planning your entire business. If you need any help, please feel free to contact our team! \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(ExitComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen w-full relative flex flex-col items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-full relative mt-12 lg1Container:mt-16 mb-16 px-32\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative grid grid-cols-2 grid-rows-1 grid-flow-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              height: size.width > 860 && 30 || size.width < 860 && size.width > 680 && 26 || size.width < 680 && 22,\n              width: size.width > 860 && 30 || size.width < 860 && size.width > 680 && 26 || size.width < 680 && 22,\n              className: \"fill-current text-primary dark:text-primarydark\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 128 128\",\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                children: \"Landing Success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"g\", {\n                id: \"Landing_Success\",\n                \"data-name\": \"Landing Success\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"cls-1\",\n                  d: \"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primarydark text-lg mdContainer:text-xl lgContainer:text-2xl mt-2 pl-2 dark:text-background\",\n              children: \"Cash flow analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(CashFlowPDF, {\n            projectName: projectName,\n            projectId: projectId,\n            data: data,\n            periods: periods,\n            revenueElements: revenueElements,\n            costsElements: costsElements,\n            tax: tax,\n            totalRevenue: totalRevenue,\n            monthlyRevenue: monthlyRevenue,\n            totalCosts: totalCosts,\n            monthlyCosts: monthlyCosts,\n            grossProfit: grossProfit,\n            netProfit: netProfit,\n            startDate: startDate,\n            endDate: endDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-secondary text-xs mdContainer:text-sm lgContainer:text-base text-gray relative -top-1 lgContainer:top-0\",\n            children: \"Manage your startup cash flow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full grid grid-cols-2fr grid-rows-1fr lgContainer:grid-cols-3fr lgContainer:grid-rows-1fr gap-y-8 gap-x-6 smContainer:gap-x-32 mdContainer:gap-x-12 mt-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"main-datepicker\",\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/calendar.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2 text-primarydark\",\n                children: \"Start:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 15\n            }, _this), startDate && !isMobile ? /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: startDate,\n              onChange: function onChange(date) {\n                return onStartDateUpdate(date);\n              },\n              dateFormat: \"MMMM yyyy\",\n              showMonthYearPicker: true,\n              maxDate: addYears(new Date(), 3),\n              minDate: new Date()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, _this) : /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: startDate,\n              onChange: function onChange(date) {\n                return onStartDateUpdate(date);\n              },\n              dateFormat: \"MMMM yyyy\",\n              showMonthYearPicker: true,\n              maxDate: addYears(new Date(), 3),\n              minDate: new Date(),\n              withPortal: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"main-datepicker\",\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/hourglass1.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2 text-primarydark\",\n                children: \"End:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, _this), endDate && !isMobile ? /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: endDate,\n              onChange: function onChange(date) {\n                return onEndDateUpdate(date);\n              },\n              dateFormat: \"MMMM yyyy\",\n              showMonthYearPicker: true,\n              maxDate: addYears(new Date(), 3),\n              minDate: new Date()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 17\n            }, _this) : /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: endDate,\n              onChange: function onChange(date) {\n                return onEndDateUpdate(date);\n              },\n              dateFormat: \"MMMM yyyy\",\n              showMonthYearPicker: true,\n              maxDate: addYears(new Date(), 3),\n              minDate: new Date(),\n              withPortal: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: size.width > 860 && '100%' || size.width < 860 && size.width > 680 && '47%' || size.width < 680 && size.width > 520 && '40%' || size.width < 520 && '47%',\n              gridColumnStart: size.width < 860 ? '1' : 'unset',\n              gridColumnEnd: size.width < 860 ? '3' : 'unset'\n            },\n            className: \"place-self-center bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/tax.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Tax:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              style: {\n                textAlignLast: 'right'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"tax-input\",\n                value: tax,\n                onChange: function onChange(e) {\n                  return onTaxChange(e.target.value);\n                },\n                className: \"w-full bg-white focus:outline-none\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"chartContainer\",\n          className: \"w-full h-1/2 p-4 mdContainer:p-8 bg-white rounded-2xl mt-12 shadow-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full grid grid-cols-2fr grid-rows-3fr lg1Container:grid-cols-3fr lg1Container:grid-rows-2fr gap-x-6 smContainer:gap-x-12 gap-y-8 mt-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/revenue.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Total revenue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", totalRevenue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/monthly.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Monthly revenue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", monthlyRevenue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/costs.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Total costs:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", totalCosts]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/monthly-costs.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Monthly costs:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", monthlyCosts]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/megaphone.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Gross profit:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", grossProfit]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/cash-flow/net-worth.svg\",\n                height: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18,\n                width: size.width > 860 && 25 || size.width < 860 && size.width > 680 && 22 || size.width < 680 && 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"ml-2\",\n                children: \"Net profit:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"$\", netProfit]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: revenueRef,\n          style: {\n            height: 55,\n            zIndex: 20\n          },\n          className: \"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-12 flex flex-wrap shadow-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lgContainer:ml-2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm lgContainer:text-base\",\n                children: \"Revenue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 890,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lgContainer:mr-2 flex flex-nowrap items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onClick: onRevenueElementAdd,\n                className: \"cursor-pointer\",\n                src: \"/cash-flow/add.svg\",\n                height: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16,\n                width: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n                ref: dropDownIcon,\n                onClick: onRevenueShow,\n                className: \"ml-2 cursor-pointer\",\n                src: \"/cash-flow/dropdown.svg\",\n                height: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16,\n                width: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: innerContainerRevenueRef,\n            className: \"w-full \".concat(size.width < 1120 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4' : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: size.width < 520 && '0.6rem'\n              },\n              className: \"w-full grid grid-cols-6fr items-center text-xs mdContainer:text-sm lg1Container:text-base\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 925,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"end\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"text-primary w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full w-full rounded-2xl flex flex-wrap flex-col\",\n              children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n                onDragEnd: handleOnDragEnd,\n                children: /*#__PURE__*/_jsxDEV(Droppable, {\n                  droppableId: \"elements\",\n                  children: function children(provided) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n                      className: \"elements\"\n                    }, provided.droppableProps), {}, {\n                      ref: provided.innerRef,\n                      children: [revenueElements && revenueElements.map(function (element, index) {\n                        console.log(element);\n                        return /*#__PURE__*/_jsxDEV(Draggable, {\n                          draggableId: element.index,\n                          index: index,\n                          children: function children(provided) {\n                            return /*#__PURE__*/_jsxDEV(RevenueElement, {\n                              provided: provided,\n                              setRevenueElements: setRevenueElements,\n                              mainDocument: mainDocument,\n                              projectId: projectId,\n                              documentId: documentId,\n                              revenueElements: revenueElements,\n                              element: element,\n                              index: index\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 942,\n                              columnNumber: 35\n                            }, _this);\n                          }\n                        }, element.index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 940,\n                          columnNumber: 31\n                        }, _this);\n                      }), provided.placeholder]\n                    }), void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 935,\n                      columnNumber: 23\n                    }, _this);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 933,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: costsRef,\n          style: {\n            height: 55,\n            zIndex: 20\n          },\n          className: \"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-8 flex flex-wrap shadow-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lgContainer:ml-2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm lgContainer:text-base\",\n                children: \"Costs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lgContainer:mr-2 flex flex-nowrap items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                onClick: onCostsElementAdd,\n                className: \"cursor-pointer\",\n                src: \"/cash-flow/add.svg\",\n                height: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16,\n                width: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n                ref: dropDownIconCosts,\n                onClick: onCostsShow,\n                className: \"ml-2 cursor-pointer\",\n                src: \"/cash-flow/dropdown.svg\",\n                height: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16,\n                width: size.width > 860 && 22 || size.width < 860 && size.width > 680 && 18 || size.width < 680 && 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 982,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 974,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: innerContainerCostsRef,\n            className: \"w-full \".concat(size.width < 1120 ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4' : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full grid grid-cols-6fr items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1004,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"end\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1007,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"text-primary w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full w-full rounded-2xl flex flex-wrap flex-col\",\n              children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n                onDragEnd: costsHandleOnDragEnd,\n                children: /*#__PURE__*/_jsxDEV(Droppable, {\n                  droppableId: \"elements\",\n                  children: function children(provided) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n                      className: \"elements\"\n                    }, provided.droppableProps), {}, {\n                      ref: provided.innerRef,\n                      children: [costsElements && costsElements.map(function (element, index) {\n                        console.log(element);\n                        return /*#__PURE__*/_jsxDEV(Draggable, {\n                          draggableId: element.index,\n                          index: index,\n                          children: function children(provided) {\n                            return /*#__PURE__*/_jsxDEV(CostsElement, {\n                              provided: provided,\n                              setCostsElements: setCostsElements,\n                              mainDocument: mainDocument,\n                              projectId: projectId,\n                              documentId: documentId,\n                              costsElements: costsElements,\n                              element: element,\n                              index: index\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1021,\n                              columnNumber: 35\n                            }, _this);\n                          }\n                        }, element.index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1019,\n                          columnNumber: 31\n                        }, _this);\n                      }), provided.placeholder]\n                    }), void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1014,\n                      columnNumber: 23\n                    }, _this);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1011,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(CashFlowPage, \"BGSbTimdeFbo7EWGI0PLBtXRjPo=\");\n\n_c = CashFlowPage;\nexport default CashFlowPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CashFlowPage\");","map":{"version":3,"sources":["C:/off-saas/components/dashboard/startup/project/business-app/cash-flow/CashFlowPage.js"],"names":["React","useState","useEffect","useRef","Image","db","NavbarTemplate","PDFDocument","Cookies","Router","RevenueElement","DatePicker","addYears","format","moment","v4","uuidv4","gsap","Linear","TweenMax","DragDropContext","Droppable","Draggable","CostsElement","CashFlowPDF","isMobile","useWindowSize","TippyMonster","ExitComponent","CashFlowPage","projectName","setProjectName","mainDocument","setMainDocument","projectId","setProjectId","documentId","setDocumentId","revenueElements","setRevenueElements","costsElements","setCostsElements","budgetElements","setBudgetElements","chartRef","periods","setPeriods","tax","setTax","totalRevenue","setTotalRevenue","monthlyRevenue","setMonthlyRevenue","totalCosts","setTotalCosts","monthlyCosts","setMonthlyCosts","grossProfit","setGrossProfit","netProfit","setNetProfit","get","userUid","query","project","console","log","collection","where","data","then","querySnapshot","forEach","doc1","doc","onSnapshot","serverUpdate","docs","map","id","changedStartDate","globalStartDate","seconds","setStartDate","Date","changedEndDate","globalEndDate","setEndDate","totalRevenueArray","element","parseInt","value","length","reduce","a","b","Number","isNaN","Math","round","periodLength","totalCostsArray","isFinite","document","getElementById","innerHTML","size","width","myChartRef","getContext","revenueDataset","testArray","revenueElement","index","monthData","period","periodIndex","revenuePeriod","push","label","title","backgroundColor","color","borderColor","costsDataset","costsElement","costsPeriod","revenueArray","calculatedRevenueArray","undefined","c","i","costsArray","calculatedCostsArray","finalArray","calculatedFinalArray","array","zeroArray","finalDataBeforeTax","finalDataAfterTax","netWorthArray","netWorth","dataElement","revenueElementIndex","Chart","type","labels","datasets","fill","lineTension","borderWidth","pointRadius","options","skipNull","responsive","plugins","legend","position","fontFamily","font","boxWidth","scales","x","stacked","ticks","beginAtZero","y","onRevenueElementAdd","wholeArray","newRevenueElements","start","end","update","onCostsElementAdd","newCostsElements","startDate","endDate","onStartDateUpdate","date","newStartDate","newEndDate","startDater","endDater","dates","subtract","month","add","onEndDateUpdate","revenueRef","innerContainerRevenueRef","dropDownIcon","isRevenueShown","setIsRevenueShown","onRevenueShow","margins","revenueContainerHeight","current","offsetHeight","to","height","duration","ease","rotation","set","delay","overflow","costsRef","innerContainerCostsRef","dropDownIconCosts","isCostsShown","setIsCostsShown","onCostsShow","handleOnDragEnd","result","destination","items","Array","from","splice","source","reorderedItem","costsHandleOnDragEnd","onTaxChange","window","innerWidth","gridColumnStart","gridColumnEnd","textAlignLast","e","target","zIndex","fontSize","provided","droppableProps","innerRef","placeholder"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport { db } from '../../../../../../lib/firebase';\r\nimport NavbarTemplate from '../../../../NavbarTemplate';\r\nimport PDFDocument from '../PDFDocument';\r\nimport Cookies from 'js-cookie';\r\nimport Router from 'next/router';\r\nimport RevenueElement from './RevenueElement';\r\n// Date picker\r\nimport DatePicker from 'react-datepicker';\r\nimport { addYears, format } from 'date-fns';\r\nimport moment from 'moment';\r\n// uuidv4\r\nimport { v4 as uuidv4 } from 'uuid';\r\n// gsap\r\nimport gsap, { Linear, TweenMax } from 'gsap';\r\n// Drag & drop\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport CostsElement from './CostsElement';\r\nimport CashFlowPDF from './CashFlowPDF';\r\n// Mobile friendly\r\nimport { isMobile } from 'react-device-detect';\r\nimport { useWindowSize } from '../../../../../../utils/useWindowSize';\r\nimport TippyMonster from '../../../../Tippy';\r\nimport ExitComponent from '../../../ExitComponent';\r\n\r\nconst CashFlowPage = () => {\r\n  // const size = useWindowSize();\r\n  // console.log(size);\r\n  const [projectName, setProjectName] = useState('');\r\n  const [mainDocument, setMainDocument] = useState('');\r\n  const [projectId, setProjectId] = useState('');\r\n  const [documentId, setDocumentId] = useState('');\r\n  const [revenueElements, setRevenueElements] = useState();\r\n  const [costsElements, setCostsElements] = useState();\r\n  const [budgetElements, setBudgetElements] = useState();\r\n  const chartRef = useRef();\r\n  const [periods, setPeriods] = useState();\r\n  const [tax, setTax] = useState();\r\n  // Sum data\r\n  const [totalRevenue, setTotalRevenue] = useState();\r\n  const [monthlyRevenue, setMonthlyRevenue] = useState();\r\n  const [totalCosts, setTotalCosts] = useState();\r\n  const [monthlyCosts, setMonthlyCosts] = useState();\r\n  const [grossProfit, setGrossProfit] = useState();\r\n  const [netProfit, setNetProfit] = useState();\r\n  // Mobile friendly\r\n  // const size = useWindowSize();\r\n\r\n  useEffect(async () => {\r\n    const userUid = await Cookies.get('uid');\r\n    // console.log(Router.query.project);\r\n    if (userUid && Router.query.project) {\r\n      console.log(userUid);\r\n      const data = await db.collection('projects').where('uid', '==', userUid);\r\n      data\r\n        .where('projectName', '==', Router.query.project)\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          console.log(querySnapshot);\r\n          querySnapshot.forEach(async (doc1) => {\r\n            setProjectId(doc1.data().projectId);\r\n            setProjectName(doc1.data().projectName);\r\n\r\n            await db\r\n              .collection('projects')\r\n              .doc(doc1.data().projectId)\r\n              .collection('cashFlow')\r\n              .doc(Router.query.project)\r\n              .collection('inputs')\r\n              .onSnapshot((serverUpdate) => {\r\n                serverUpdate.docs.map((doc) => {\r\n                  console.log(doc.data());\r\n                  setMainDocument(doc.data());\r\n                  setDocumentId(doc.id);\r\n                  setRevenueElements(doc.data().revenueElements);\r\n                  setCostsElements(doc.data().costsElements);\r\n                  setBudgetElements(doc.data().budgetElements);\r\n                  setTax(doc.data().tax);\r\n                  // Global start date\r\n                  const changedStartDate = doc.data().globalStartDate.seconds * 1000;\r\n                  doc.data().globalStartDate !== '' && setStartDate(new Date(changedStartDate));\r\n                  const changedEndDate = doc.data().globalEndDate.seconds * 1000;\r\n                  // Global end date\r\n                  doc.data().globalEndDate !== '' && setEndDate(new Date(changedEndDate));\r\n                  // Periods\r\n                  setPeriods(doc.data().periods);\r\n                  // Total revenue\r\n                  const totalRevenueArray = doc.data().revenueElements.map((element) => parseInt(element.value * element.periods.length));\r\n                  const totalRevenue = totalRevenueArray.reduce((a, b) => {\r\n                    return a + b;\r\n                  }, 0);\r\n                  setTotalRevenue(Number.isNaN(totalRevenue) ? 0 : Math.round(totalRevenue));\r\n                  // Monthly revenue\r\n                  const periodLength = doc.data().periods.length;\r\n                  const monthlyRevenue = totalRevenue / periodLength;\r\n                  setMonthlyRevenue(Number.isNaN(monthlyRevenue) ? 0 : Math.round(monthlyRevenue));\r\n                  // Total costs\r\n                  const totalCostsArray = doc.data().costsElements.map((element) => parseInt(element.value * element.periods.length));\r\n                  const totalCosts = totalCostsArray.reduce((a, b) => {\r\n                    return a + b;\r\n                  }, 0);\r\n                  console.log(totalCosts);\r\n                  // const filteredTotalCosts =\r\n                  //   typeof totalCosts == 'number' ? Math.round(totalCosts) : 0;\r\n                  // console.log(filteredTotalCosts);\r\n                  setTotalCosts(Number.isFinite(totalCosts) ? Math.round(totalCosts) : 0);\r\n                  // Monthly costs\r\n                  const monthlyCosts = totalCosts / periodLength;\r\n                  setMonthlyCosts(Number.isFinite(monthlyCosts) ? Math.round(monthlyCosts) : 0);\r\n                  // Gross profit\r\n                  const grossProfit = totalRevenue - totalCosts;\r\n                  setGrossProfit(Number.isFinite(grossProfit) ? Math.round(grossProfit) : 0);\r\n                  // Net profit\r\n                  const tax = parseInt(doc.data().tax);\r\n                  const netProfit = grossProfit - (tax / 100) * grossProfit;\r\n                  setNetProfit(Number.isFinite(netProfit) ? Math.round(netProfit) : 0);\r\n                });\r\n              });\r\n          });\r\n        });\r\n    }\r\n  }, [Router.query.project]);\r\n\r\n  useEffect(() => {\r\n    // const myChartRef = chartRef.current.getContext('2d');\r\n    document.getElementById(`chartContainer`).innerHTML = '&nbsp;';\r\n    document.getElementById(`chartContainer`).innerHTML = `<canvas height='${size.width > 680 ? 75 : 'unset'}' id='chart'></canvas>`;\r\n    const myChartRef = document.getElementById('chart').getContext('2d');\r\n\r\n    // Revenue datasets\r\n    const revenueDataset = [];\r\n    const testArray = [];\r\n    // const monthData = periods && periods.map(() => null);\r\n    revenueElements &&\r\n      revenueElements.map((revenueElement, index) => {\r\n        const monthData = periods && periods.map(() => null);\r\n        console.log(revenueElement);\r\n        periods &&\r\n          periods.map((period, periodIndex) => {\r\n            revenueElement.periods.map((revenuePeriod) => {\r\n              if (period == revenuePeriod) {\r\n                if (monthData[periodIndex] == null) {\r\n                  monthData[periodIndex] = revenueElement.value;\r\n                }\r\n              }\r\n            });\r\n          });\r\n        console.log(monthData);\r\n        testArray.push(monthData);\r\n        revenueDataset.push({\r\n          label: `revenue / ${revenueElement.title}`,\r\n          data: monthData,\r\n          backgroundColor: revenueElement.color,\r\n          borderColor: revenueElement.color,\r\n        });\r\n      });\r\n\r\n    // Costs datasets\r\n    const costsDataset = [];\r\n    // const testArray = [];\r\n    // const monthData = periods && periods.map(() => null);\r\n    costsElements &&\r\n      costsElements.map((costsElement, index) => {\r\n        const monthData = periods && periods.map(() => null);\r\n        console.log(costsElement);\r\n        periods &&\r\n          periods.map((period, periodIndex) => {\r\n            costsElement.periods.map((costsPeriod) => {\r\n              if (period == costsPeriod) {\r\n                if (monthData[periodIndex] == null) {\r\n                  monthData[periodIndex] = -costsElement.value;\r\n                }\r\n              }\r\n            });\r\n          });\r\n        console.log(monthData);\r\n        testArray.push(monthData);\r\n        costsDataset.push({\r\n          label: `costs / ${costsElement.title}`,\r\n          data: monthData,\r\n          backgroundColor: costsElement.color,\r\n          borderColor: costsElement.color,\r\n        });\r\n      });\r\n    // Net worth\r\n    console.log(revenueDataset);\r\n    console.log(costsDataset);\r\n    // const netWorth =\r\n    //   revenueDataset.length !== 0 &&\r\n    //   costsDataset.length !== 0 &&\r\n    //   revenueDataset[0].data &&\r\n    //   revenueDataset[0].data.map((revenueElement, index) => {\r\n    //     if (revenueElement !== null && costsDataset[0].data[index] !== null) {\r\n    //       const grossProfit = revenueElement - -costsDataset[0].data[index];\r\n    //       return grossProfit - (tax / 100) * grossProfit;\r\n    //     } else if (revenueElement !== null) {\r\n    //       return revenueElement - (tax / 100) * revenueElement;\r\n    //     } else if (costsDataset[0].data[index] !== null) {\r\n    //       return costsDataset[0].data[index];\r\n    //     } else {\r\n    //       return null;\r\n    //     }\r\n    //   });\r\n    // ----------------------\r\n    // Revenue\r\n    const revenueArray = [];\r\n    revenueDataset.length !== 0 &&\r\n      revenueDataset.length !== 0 &&\r\n      revenueDataset.map((element) =>\r\n        revenueArray.push(\r\n          element.data &&\r\n            element.data.map((data) => {\r\n              if (data !== null) {\r\n                return parseInt(data);\r\n              } else {\r\n                return 0;\r\n              }\r\n            })\r\n        )\r\n      );\r\n    console.log(revenueArray);\r\n    const calculatedRevenueArray =\r\n      revenueArray.length !== 0 && revenueArray[0] !== undefined && revenueArray.reduce((a, b) => a.map((c, i) => c + b[i]));\r\n    console.log(calculatedRevenueArray);\r\n    // Costs\r\n    const costsArray = [];\r\n    console.log(costsDataset);\r\n    costsDataset.length !== 0 &&\r\n      costsDataset.length !== 0 &&\r\n      costsDataset.map((element) =>\r\n        costsArray.push(\r\n          element.data &&\r\n            element.data.map((data) => {\r\n              if (data !== null) {\r\n                return parseInt(data);\r\n              } else {\r\n                return 0;\r\n              }\r\n            })\r\n        )\r\n      );\r\n    console.log(costsArray);\r\n    const calculatedCostsArray =\r\n      costsArray.length !== 0 && costsArray[0] !== undefined && costsArray.reduce((a, b) => a.map((c, i) => c + b[i]));\r\n    console.log(calculatedCostsArray);\r\n    // Final value\r\n    const finalArray = [calculatedRevenueArray, calculatedCostsArray];\r\n    console.log(finalArray);\r\n    // Check if any array is falsy\r\n    const calculatedFinalArray =\r\n      finalArray &&\r\n      finalArray.map((array) => {\r\n        if (!array) {\r\n          const zeroArray = [];\r\n          periods && periods.map((period) => zeroArray.push(0));\r\n          return zeroArray;\r\n        } else {\r\n          return array;\r\n        }\r\n      });\r\n    console.log(calculatedFinalArray);\r\n    const finalDataBeforeTax =\r\n      calculatedFinalArray.length !== 0 && calculatedFinalArray.reduce((a, b) => a && b && a.map((c, i) => c + b[i]));\r\n    const finalDataAfterTax = finalDataBeforeTax && finalDataBeforeTax.map((data) => data - (tax / 100) * data);\r\n    console.log(finalDataAfterTax);\r\n\r\n    const netWorthArray = [];\r\n    const netWorth =\r\n      revenueDataset.length !== 0 &&\r\n      costsDataset.length !== 0 &&\r\n      revenueDataset &&\r\n      revenueDataset.map((revenueElement, index) => {\r\n        const value =\r\n          revenueElement.data &&\r\n          revenueElement.data.map((dataElement, revenueElementIndex) => {\r\n            console.log(dataElement);\r\n            if (dataElement !== null && costsDataset[index]) {\r\n              if (costsDataset[index].data[revenueElementIndex]) {\r\n                const grossProfit = dataElement - -costsDataset[0].data[revenueElementIndex];\r\n                netWorthArray.push(grossProfit - (tax / 100) * grossProfit);\r\n                // return grossProfit - (tax / 100) * grossProfit;\r\n              }\r\n            }\r\n          });\r\n        return value;\r\n      });\r\n    console.log(netWorthArray);\r\n\r\n    new Chart(myChartRef, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: periods && periods,\r\n        datasets: [\r\n          {\r\n            type: 'line',\r\n            label: 'Net profit',\r\n            data: finalDataAfterTax,\r\n            backgroundColor: 'rgba(10, 18, 48, 1)',\r\n            borderColor: 'rgba(10, 18, 48, 1)',\r\n            fill: 0,\r\n            lineTension: 0,\r\n            borderWidth: size.width < 680 ? 1 : 3,\r\n            pointRadius: size.width < 680 ? 2 : 3,\r\n          },\r\n          ...revenueDataset,\r\n          ...costsDataset,\r\n        ],\r\n      },\r\n      options: {\r\n        skipNull: true,\r\n        responsive: true,\r\n        plugins: {\r\n          legend: {\r\n            position: 'right',\r\n            labels: {\r\n              fontFamily: 'Comfortaa',\r\n              font: {\r\n                size: size.width < 680 ? 8 : 12,\r\n              },\r\n              boxWidth: size.width < 680 ? 10 : 40,\r\n            },\r\n          },\r\n        },\r\n        scales: {\r\n          x: {\r\n            stacked: true,\r\n            ticks: {\r\n              fontFamily: 'Comfortaa',\r\n              beginAtZero: true,\r\n              font: {\r\n                size: size.width < 680 ? 8 : 12,\r\n              },\r\n            },\r\n            // beginAtZero: true,\r\n          },\r\n          y: {\r\n            stacked: true,\r\n            ticks: {\r\n              fontFamily: 'Comfortaa',\r\n              beginAtZero: true,\r\n              font: {\r\n                size: size.width < 680 ? 8 : 12,\r\n              },\r\n            },\r\n            // beginAtZero: true,\r\n          },\r\n          //   defaultFontFamily: (Chart.defaults.global.defaultFontFamily =\r\n          //     'Comfortaa'),\r\n          //   scales: {\r\n          //     yAxes: [\r\n          //         {\r\n          //           stacked: true,\r\n          //           ticks: {\r\n          //             beginAtZero: true,\r\n          //           },\r\n          //         },\r\n          //       ],\r\n          //       xAxes: [\r\n          //         {\r\n          //           stacked: true,\r\n          //           ticks: {\r\n          //             beginAtZero: true,\r\n          //           },\r\n          //         },\r\n          //       ],\r\n          //   },\r\n        },\r\n      },\r\n    });\r\n  }, [periods, revenueElements, costsElements, tax]);\r\n\r\n  const onRevenueElementAdd = async () => {\r\n    console.log(revenueElements);\r\n    const wholeArray = [...revenueElements];\r\n    const newRevenueElements = {\r\n      title: '',\r\n      type: 'One time',\r\n      start: new Date(),\r\n      end: new Date(),\r\n      value: '',\r\n      periods: [],\r\n      color: 'rgba(244, 67, 54, 1)',\r\n      index: uuidv4(),\r\n    };\r\n    wholeArray.push(newRevenueElements);\r\n    console.log(wholeArray);\r\n    setRevenueElements(wholeArray);\r\n\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ revenueElements: wholeArray });\r\n  };\r\n\r\n  // Costs\r\n  const onCostsElementAdd = async () => {\r\n    console.log(costsElements);\r\n    const wholeArray = [...costsElements];\r\n    const newCostsElements = {\r\n      title: '',\r\n      type: 'One time',\r\n      start: new Date(),\r\n      end: new Date(),\r\n      value: '',\r\n      periods: [],\r\n      color: 'rgba(244, 67, 54, 1)',\r\n      index: uuidv4(),\r\n    };\r\n    wholeArray.push(newCostsElements);\r\n    console.log(wholeArray);\r\n    setCostsElements(wholeArray);\r\n\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ costsElements: wholeArray });\r\n  };\r\n\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [endDate, setEndDate] = useState(new Date());\r\n\r\n  const onStartDateUpdate = async (date) => {\r\n    console.log(date);\r\n    setStartDate(date);\r\n    // Get months\r\n    const newStartDate = format(date, 'yyyy-MM-dd');\r\n    const newEndDate = format(endDate, 'yyyy-MM-dd');\r\n\r\n    const startDater = moment(newStartDate);\r\n    const endDater = moment(newEndDate);\r\n\r\n    const dates = [];\r\n    startDater.subtract(1, 'month'); //Substract one month to exclude endDater itself\r\n\r\n    const month = moment(startDater); //clone the startDate\r\n    while (month < endDater) {\r\n      month.add(1, 'month');\r\n      dates.push(month.format('MMM yyyy'));\r\n    }\r\n    // Local update\r\n    setPeriods(dates);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ periods: dates, globalStartDate: date });\r\n  };\r\n\r\n  const onEndDateUpdate = async (date) => {\r\n    setEndDate(date);\r\n    // Get months\r\n    const newStartDate = format(startDate, 'yyyy-MM-dd');\r\n    const newEndDate = format(date, 'yyyy-MM-dd');\r\n\r\n    const startDater = moment(newStartDate);\r\n    const endDater = moment(newEndDate);\r\n\r\n    const dates = [];\r\n    startDater.subtract(1, 'month'); //Substract one month to exclude endDater itself\r\n    // endDater.subtract(1, \"month\"); //Substract one month to exclude endDater itself\r\n\r\n    const month = moment(startDater); //clone the startDate\r\n    while (month < endDater) {\r\n      month.add(1, 'month');\r\n      dates.push(month.format('MMM yyyy'));\r\n    }\r\n    // Local update\r\n    setPeriods(dates);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ periods: dates, globalEndDate: date });\r\n  };\r\n\r\n  console.log('Running');\r\n\r\n  const revenueRef = useRef();\r\n  const innerContainerRevenueRef = useRef();\r\n  const dropDownIcon = useRef();\r\n  const [isRevenueShown, setIsRevenueShown] = useState(false);\r\n\r\n  const onRevenueShow = () => {\r\n    const margins = size.width < 1280 ? 68 : 96;\r\n    const revenueContainerHeight = innerContainerRevenueRef.current.offsetHeight + 96;\r\n    console.log(innerContainerRevenueRef.current.offsetHeight);\r\n    if (!isRevenueShown) {\r\n      gsap.to(revenueRef.current, {\r\n        height: revenueContainerHeight,\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.to(dropDownIcon.current, {\r\n        rotation: '90_cw',\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.set(revenueRef.current, {\r\n        height: '100%',\r\n        delay: 1,\r\n      });\r\n      gsap.set(revenueRef.current, { overflow: 'visible', delay: 1 });\r\n      setIsRevenueShown(true);\r\n    } else if (isRevenueShown) {\r\n      gsap.set(revenueRef.current, {\r\n        height: revenueContainerHeight,\r\n      });\r\n      gsap.set(revenueRef.current, { overflow: 'hidden' });\r\n      gsap.to(revenueRef.current, {\r\n        height: 55,\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.to(dropDownIcon.current, {\r\n        rotation: '0_cw',\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      setIsRevenueShown(false);\r\n    }\r\n  };\r\n\r\n  // Costs\r\n  const costsRef = useRef();\r\n  const innerContainerCostsRef = useRef();\r\n  const dropDownIconCosts = useRef();\r\n  const [isCostsShown, setIsCostsShown] = useState(false);\r\n\r\n  const onCostsShow = () => {\r\n    const revenueContainerHeight = innerContainerCostsRef.current.offsetHeight + 96;\r\n    console.log(innerContainerCostsRef.current.offsetHeight);\r\n    if (!isCostsShown) {\r\n      gsap.to(costsRef.current, {\r\n        height: revenueContainerHeight,\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.to(dropDownIconCosts.current, {\r\n        rotation: '90_cw',\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.set(costsRef.current, {\r\n        height: '100%',\r\n        delay: 1,\r\n      });\r\n      gsap.set(costsRef.current, { overflow: 'visible', delay: 1 });\r\n      setIsCostsShown(true);\r\n    } else if (isCostsShown) {\r\n      gsap.set(costsRef.current, { overflow: 'hidden' });\r\n      gsap.set(costsRef.current, {\r\n        height: revenueContainerHeight,\r\n      });\r\n      gsap.to(costsRef.current, {\r\n        height: 55,\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      gsap.to(dropDownIconCosts.current, {\r\n        rotation: '0_cw',\r\n        duration: 1,\r\n        ease: Linear,\r\n      });\r\n      setIsCostsShown(false);\r\n    }\r\n  };\r\n\r\n  const handleOnDragEnd = async (result) => {\r\n    if (!result.destination) return;\r\n    const items = Array.from(revenueElements);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    console.log(result);\r\n    setRevenueElements(items);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ revenueElements: items });\r\n  };\r\n\r\n  // Costs\r\n  const costsHandleOnDragEnd = async (result) => {\r\n    if (!result.destination) return;\r\n    const items = Array.from(costsElements);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    console.log(result);\r\n    setRevenueElements(items);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ costsElements: items });\r\n  };\r\n\r\n  // Tax\r\n  const onTaxChange = async (value) => {\r\n    // Local update\r\n    setTax(value);\r\n    // Firebase update\r\n    await db\r\n      .collection('projects')\r\n      .doc(projectId)\r\n      .collection('cashFlow')\r\n      .doc(Router.query.project)\r\n      .collection('inputs')\r\n      .doc(documentId)\r\n      .update({ tax: value });\r\n  };\r\n\r\n  const data = {\r\n    periods,\r\n    revenueElements,\r\n    costsElements,\r\n    tax,\r\n    totalRevenue,\r\n    monthlyRevenue,\r\n    totalCosts,\r\n    monthlyCosts,\r\n    grossProfit,\r\n    netProfit,\r\n    startDate: format(startDate, 'MMM / yyyy'),\r\n    endDate: format(endDate, 'MMM / yyyy'),\r\n  };\r\n\r\n  const size = { width: window.innerWidth };\r\n  console.log((size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22));\r\n\r\n  return (\r\n    <>\r\n      <TippyMonster\r\n        cashFlow\r\n        contentClass=\"h-40 w-80 shadow-lg rounded-2xl bg-primary flex justify-center items-center\"\r\n        contentText=\"I'm glad you made it all the way here! Analyzing your startup's liquidity is one of the most important parts of planning your entire business. If you need any help, please feel free to contact our team! \"\r\n      />\r\n      <ExitComponent />\r\n      <div className=\"min-h-screen w-full relative flex flex-col items-center\">\r\n        <div className=\"w-full max-w-full relative mt-12 lg1Container:mt-16 mb-16 px-32\">\r\n          <div className=\"relative grid grid-cols-2 grid-rows-1 grid-flow-col\">\r\n            <div className=\"flex items-center\">\r\n              <svg\r\n                height={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\r\n                width={(size.width > 860 && 30) || (size.width < 860 && size.width > 680 && 26) || (size.width < 680 && 22)}\r\n                className=\"fill-current text-primary dark:text-primarydark\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 128 128\"\r\n              >\r\n                <title>Landing Success</title>\r\n                <g id=\"Landing_Success\" data-name=\"Landing Success\">\r\n                  <path\r\n                    className=\"cls-1\"\r\n                    d=\"M109.3,90.1A46,46,0,0,0,65,36V20.08c1.78-.62,7.21-2.14,12.57.23a19.33,19.33,0,0,0,14.82,0c.87-.38.61.31.61-17.93a1,1,0,0,0-1.43-.93c-.07,0-6.69,2.87-13.18,0A19.41,19.41,0,0,0,65,.93,1,1,0,0,0,63,1V36a45.86,45.86,0,0,0-28.66,10.8C16.18,40.48,4,40,.79,45.51-2.29,50.86,3.94,59.3,10,65.68A11,11,0,0,0,18,83c.81,38.41,46.08,59.2,75.66,34.21,8.53,3,29,9.15,33.55,1.31C130.39,113,123.86,102.65,109.3,90.1ZM77.59,3.31A19.39,19.39,0,0,0,91,3.83V18.68c-1.79.62-7.22,2.13-12.57-.23A19.19,19.19,0,0,0,65,17.93V3.08C66.81,2.46,72.24,1,77.59,3.31ZM65,45v-7c39.69.91,58,50.27,28.21,76.81C71.32,107,46,92.66,27.77,78.64a11,11,0,0,0-3.2-16.13A43.88,43.88,0,0,1,63,38.06V45A1,1,0,0,0,65,45ZM32.55,48.36a46.21,46.21,0,0,0-9.83,13.28,10.93,10.93,0,0,0-11.4,2.47C-8.39,43.23,5.23,39.08,32.55,48.36ZM10,72a9,9,0,1,1,9,9A9,9,0,0,1,10,72Zm10,11a11,11,0,0,0,6.34-2.82c18.45,14.21,43.45,28.35,65.05,36.22C63,139.16,20.83,119.1,20.05,83Zm105.4,34.5c-2.51,4.35-14,3.62-30-1.85a45.61,45.61,0,0,0,13.42-23.21C121.59,103.58,128,113.12,125.45,117.47Z\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              <p className=\"text-primarydark text-lg mdContainer:text-xl lgContainer:text-2xl mt-2 pl-2 dark:text-background\">\r\n                Cash flow analysis\r\n              </p>\r\n            </div>\r\n            <CashFlowPDF\r\n              projectName={projectName}\r\n              projectId={projectId}\r\n              data={data}\r\n              periods={periods}\r\n              revenueElements={revenueElements}\r\n              costsElements={costsElements}\r\n              tax={tax}\r\n              totalRevenue={totalRevenue}\r\n              monthlyRevenue={monthlyRevenue}\r\n              totalCosts={totalCosts}\r\n              monthlyCosts={monthlyCosts}\r\n              grossProfit={grossProfit}\r\n              netProfit={netProfit}\r\n              startDate={startDate}\r\n              endDate={endDate}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-secondary text-xs mdContainer:text-sm lgContainer:text-base text-gray relative -top-1 lgContainer:top-0\">\r\n              Manage your startup cash flow\r\n            </h1>\r\n          </div>\r\n          <div className=\"w-full grid grid-cols-2fr grid-rows-1fr lgContainer:grid-cols-3fr lgContainer:grid-rows-1fr gap-y-8 gap-x-6 smContainer:gap-x-32 mdContainer:gap-x-12 mt-12\">\r\n            <div\r\n              id=\"main-datepicker\"\r\n              className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n            >\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/calendar.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2 text-primarydark\">Start:</p>\r\n              </div>\r\n              {startDate && !isMobile ? (\r\n                <DatePicker\r\n                  selected={startDate}\r\n                  onChange={(date) => onStartDateUpdate(date)}\r\n                  dateFormat=\"MMMM yyyy\"\r\n                  showMonthYearPicker\r\n                  maxDate={addYears(new Date(), 3)}\r\n                  minDate={new Date()}\r\n                />\r\n              ) : (\r\n                <DatePicker\r\n                  selected={startDate}\r\n                  onChange={(date) => onStartDateUpdate(date)}\r\n                  dateFormat=\"MMMM yyyy\"\r\n                  showMonthYearPicker\r\n                  maxDate={addYears(new Date(), 3)}\r\n                  minDate={new Date()}\r\n                  withPortal\r\n                />\r\n              )}\r\n            </div>\r\n            <div\r\n              id=\"main-datepicker\"\r\n              className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n            >\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/hourglass1.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2 text-primarydark\">End:</p>\r\n              </div>\r\n              {endDate && !isMobile ? (\r\n                <DatePicker\r\n                  selected={endDate}\r\n                  onChange={(date) => onEndDateUpdate(date)}\r\n                  dateFormat=\"MMMM yyyy\"\r\n                  showMonthYearPicker\r\n                  maxDate={addYears(new Date(), 3)}\r\n                  minDate={new Date()}\r\n                />\r\n              ) : (\r\n                <DatePicker\r\n                  selected={endDate}\r\n                  onChange={(date) => onEndDateUpdate(date)}\r\n                  dateFormat=\"MMMM yyyy\"\r\n                  showMonthYearPicker\r\n                  maxDate={addYears(new Date(), 3)}\r\n                  minDate={new Date()}\r\n                  withPortal\r\n                />\r\n              )}\r\n            </div>\r\n            <div\r\n              style={{\r\n                width:\r\n                  (size.width > 860 && '100%') ||\r\n                  (size.width < 860 && size.width > 680 && '47%') ||\r\n                  (size.width < 680 && size.width > 520 && '40%') ||\r\n                  (size.width < 520 && '47%'),\r\n                gridColumnStart: size.width < 860 ? '1' : 'unset',\r\n                gridColumnEnd: size.width < 860 ? '3' : 'unset',\r\n              }}\r\n              className=\"place-self-center bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md grid grid-cols-2fr items-center text-xs mdContainer:text-sm lgContainer:text-base\"\r\n            >\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/tax.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Tax:</p>\r\n              </div>\r\n              <div className=\"flex\" style={{ textAlignLast: 'right' }}>\r\n                <input\r\n                  id=\"tax-input\"\r\n                  value={tax}\r\n                  onChange={(e) => onTaxChange(e.target.value)}\r\n                  className=\"w-full bg-white focus:outline-none\"\r\n                />\r\n                <p>%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div id=\"chartContainer\" className=\"w-full h-1/2 p-4 mdContainer:p-8 bg-white rounded-2xl mt-12 shadow-md\">\r\n            {/* <canvas ref={chartRef} height={75}></canvas> */}\r\n          </div>\r\n          <div className=\"w-full grid grid-cols-2fr grid-rows-3fr lg1Container:grid-cols-3fr lg1Container:grid-rows-2fr gap-x-6 smContainer:gap-x-12 gap-y-8 mt-12\">\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/revenue.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Total revenue:</p>\r\n              </div>\r\n              <p>${totalRevenue}</p>\r\n            </div>\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/monthly.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Monthly revenue:</p>\r\n              </div>\r\n              <p>${monthlyRevenue}</p>\r\n            </div>\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/costs.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Total costs:</p>\r\n              </div>\r\n              <p>${totalCosts}</p>\r\n            </div>\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/monthly-costs.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Monthly costs:</p>\r\n              </div>\r\n              <p>${monthlyCosts}</p>\r\n            </div>\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/megaphone.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Gross profit:</p>\r\n              </div>\r\n              <p>${grossProfit}</p>\r\n            </div>\r\n            <div className=\"w-full bg-white rounded-2xl py-3 px-3 mdContainer:py-3 mdContainer:px-4 lgContainer:px-6 lgContainer:py-4 shadow-md flex justify-between items-center text-xs mdContainer:text-sm lgContainer:text-base\">\r\n              <div className=\"flex items-center\">\r\n                <img\r\n                  src=\"/cash-flow/net-worth.svg\"\r\n                  height={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                  width={(size.width > 860 && 25) || (size.width < 860 && size.width > 680 && 22) || (size.width < 680 && 18)}\r\n                />\r\n                <p className=\"ml-2\">Net profit:</p>\r\n              </div>\r\n              <p>${netProfit}</p>\r\n            </div>\r\n          </div>\r\n          {/* Revenue */}\r\n          <div\r\n            ref={revenueRef}\r\n            style={{ height: 55, zIndex: 20 }}\r\n            className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-12 flex flex-wrap shadow-md\"\r\n          >\r\n            <div className=\"w-full flex justify-between items-center\">\r\n              <div className=\"lgContainer:ml-2\">\r\n                <p className=\"text-sm lgContainer:text-base\">Revenue</p>\r\n              </div>\r\n              <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\r\n                <img\r\n                  onClick={onRevenueElementAdd}\r\n                  className=\"cursor-pointer\"\r\n                  src=\"/cash-flow/add.svg\"\r\n                  height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                  width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                />\r\n                <img\r\n                  ref={dropDownIcon}\r\n                  onClick={onRevenueShow}\r\n                  className=\"ml-2 cursor-pointer\"\r\n                  src=\"/cash-flow/dropdown.svg\"\r\n                  height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                  width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              ref={innerContainerRevenueRef}\r\n              className={`w-full ${\r\n                size.width < 1120\r\n                  ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n                  : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n              }`}\r\n            >\r\n              {/* <hr className=\"text-primary w-full\" /> */}\r\n              <div\r\n                style={{ fontSize: size.width < 520 && '0.6rem' }}\r\n                className=\"w-full grid grid-cols-6fr items-center text-xs mdContainer:text-sm lg1Container:text-base\"\r\n              >\r\n                <div>name</div>\r\n                <div>type</div>\r\n                <div>amount</div>\r\n                <div>start</div>\r\n                <div>end</div>\r\n                <div></div>\r\n              </div>\r\n              <hr className=\"text-primary w-full\" />\r\n              <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\r\n                <DragDropContext onDragEnd={handleOnDragEnd}>\r\n                  <Droppable droppableId=\"elements\">\r\n                    {(provided) => (\r\n                      <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                        {revenueElements &&\r\n                          revenueElements.map((element, index) => {\r\n                            console.log(element);\r\n                            return (\r\n                              <Draggable key={element.index} draggableId={element.index} index={index}>\r\n                                {(provided) => (\r\n                                  <RevenueElement\r\n                                    provided={provided}\r\n                                    setRevenueElements={setRevenueElements}\r\n                                    mainDocument={mainDocument}\r\n                                    projectId={projectId}\r\n                                    documentId={documentId}\r\n                                    revenueElements={revenueElements}\r\n                                    element={element}\r\n                                    index={index}\r\n                                  />\r\n                                )}\r\n                              </Draggable>\r\n                            );\r\n                          })}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    )}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* Costs */}\r\n          <div\r\n            ref={costsRef}\r\n            style={{ height: 55, zIndex: 20 }}\r\n            className=\"overflow-hidden relative w-full rounded-2xl bg-white dark:bg-background px-4 py-4 flex justify-center items-center mt-8 flex flex-wrap shadow-md\"\r\n          >\r\n            <div className=\"w-full flex justify-between items-center\">\r\n              <div className=\"lgContainer:ml-2\">\r\n                <p className=\"text-sm lgContainer:text-base\">Costs</p>\r\n              </div>\r\n              <div className=\"lgContainer:mr-2 flex flex-nowrap items-center\">\r\n                <img\r\n                  onClick={onCostsElementAdd}\r\n                  className=\"cursor-pointer\"\r\n                  src=\"/cash-flow/add.svg\"\r\n                  height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                  width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                />\r\n                <img\r\n                  ref={dropDownIconCosts}\r\n                  onClick={onCostsShow}\r\n                  className=\"ml-2 cursor-pointer\"\r\n                  src=\"/cash-flow/dropdown.svg\"\r\n                  height={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                  width={(size.width > 860 && 22) || (size.width < 860 && size.width > 680 && 18) || (size.width < 680 && 16)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              ref={innerContainerCostsRef}\r\n              className={`w-full ${\r\n                size.width < 1120\r\n                  ? 'text-sm mdContainer:text-base lg1Container:mx-8 lg1Container:mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n                  : 'w-full mx-8 mb-6 mt-4  bg-background rounded-2xl px-4 mdContainer:px-6 py-4'\r\n              }`}\r\n            >\r\n              {/* <hr className=\"text-primary w-full\" /> */}\r\n              <div className=\"w-full grid grid-cols-6fr items-center\">\r\n                <div>name</div>\r\n                <div>type</div>\r\n                <div>amount</div>\r\n                <div>start</div>\r\n                <div>end</div>\r\n                <div></div>\r\n              </div>\r\n              <hr className=\"text-primary w-full\" />\r\n              <div className=\"h-full w-full rounded-2xl flex flex-wrap flex-col\">\r\n                <DragDropContext onDragEnd={costsHandleOnDragEnd}>\r\n                  <Droppable droppableId=\"elements\">\r\n                    {(provided) => (\r\n                      <div className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                        {costsElements &&\r\n                          costsElements.map((element, index) => {\r\n                            console.log(element);\r\n                            return (\r\n                              <Draggable key={element.index} draggableId={element.index} index={index}>\r\n                                {(provided) => (\r\n                                  <CostsElement\r\n                                    provided={provided}\r\n                                    setCostsElements={setCostsElements}\r\n                                    mainDocument={mainDocument}\r\n                                    projectId={projectId}\r\n                                    documentId={documentId}\r\n                                    costsElements={costsElements}\r\n                                    element={element}\r\n                                    index={index}\r\n                                  />\r\n                                )}\r\n                              </Draggable>\r\n                            );\r\n                          })}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    )}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CashFlowPage;\r\n"]},"metadata":{},"sourceType":"module"}