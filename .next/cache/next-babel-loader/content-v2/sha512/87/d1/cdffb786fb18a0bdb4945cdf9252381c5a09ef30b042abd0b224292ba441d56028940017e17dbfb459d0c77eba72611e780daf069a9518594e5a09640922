{"ast":null,"code":"import _defineProperty from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/off-saas/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\off-saas\\\\components\\\\dashboard\\\\startup\\\\project\\\\business-app\\\\Table.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Image from 'next/image';\nimport gsap, { Linear } from 'gsap';\nimport debounce from '../../../../../utils/helpers';\nimport Router from 'next/router';\n\nvar TableElement = function TableElement(_ref) {\n  _s();\n\n  var currentIndex = _ref.currentIndex,\n      tableUpdate = _ref.tableUpdate,\n      provided = _ref.provided,\n      field = _ref.field,\n      deleteField = _ref.deleteField;\n  console.log(field);\n\n  var _useState = useState(),\n      newField = _useState[0],\n      setNewField = _useState[1];\n\n  useEffect(function () {\n    document.getElementById(\"\".concat(field.index, \"container\")) && document.getElementById(\"\".concat(field.index, \"container\")).addEventListener('mouseenter', function () {\n      gsap.to(document.getElementById(\"\".concat(field.index, \"table\")), {\n        height: 80,\n        marginTop: 10,\n        duration: 0.8,\n        transformOrigin: 'top',\n        ease: Linear\n      });\n    });\n    document.getElementById(\"\".concat(field.index, \"container\")) && document.getElementById(\"\".concat(field.index, \"container\")).addEventListener('mouseleave', function () {\n      gsap.to(document.getElementById(\"\".concat(field.index, \"table\")), {\n        height: 0,\n        marginTop: 0,\n        duration: 0.8,\n        transformOrigin: 'top',\n        ease: Linear\n      });\n    });\n  }, []);\n  useEffect(function () {\n    setNewField(field);\n  }, []);\n\n  var onRowDataChange = function onRowDataChange(data, rowIndex, rowDataIndex) {\n    var newArray = _toConsumableArray(newField.rows);\n\n    newArray[rowIndex].row[rowDataIndex] = data;\n    var updatedField = {\n      headRows: field.headRows,\n      rows: newArray,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  var databaseUpdate = useCallback(debounce( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              tableUpdate(data, currentIndex, field.tableId, field.index);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), 500), []);\n\n  var onHeadRowDataChange = function onHeadRowDataChange(data, headRowIndex) {\n    console.log(data);\n\n    var newArray = _toConsumableArray(newField.headRows);\n\n    newArray[headRowIndex] = data;\n    var updatedField = {\n      headRows: newArray,\n      rows: field.rows,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  var onNewRowAdd = function onNewRowAdd() {\n    var newArray = _toConsumableArray(newField.rows);\n\n    console.log(newArray);\n    var rowArray = [];\n    newField.headRows.map(function (headRow) {\n      return rowArray.push('');\n    });\n    newArray.push({\n      row: rowArray\n    });\n    var updatedField = {\n      headRows: field.headRows,\n      rows: newArray,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // If empty, won't be updated to firebase\n\n    databaseUpdate(updatedField);\n  };\n\n  var onNewRowAboveAdd = function onNewRowAboveAdd() {\n    var newArray = _toConsumableArray(newField.rows);\n\n    var rowArray = [];\n    newField.headRows.map(function (headRow) {\n      return rowArray.push('');\n    });\n    newArray.unshift({\n      row: rowArray\n    });\n    var updatedField = {\n      headRows: field.headRows,\n      rows: newArray,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // If empty, won't be updated to firebase\n\n    databaseUpdate(updatedField);\n  };\n\n  var onNewColumnAdd = function onNewColumnAdd() {\n    var newArrayRows = _toConsumableArray(newField.rows);\n\n    newArrayRows.map(function (row) {\n      console.log(row);\n      row.row.push('');\n    });\n\n    var newArrayHeadRows = _toConsumableArray(newField.headRows);\n\n    newArrayHeadRows.push('');\n    var updatedField = {\n      headRows: newArrayHeadRows,\n      rows: newArrayRows,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  var onNewColumnLeftAdd = function onNewColumnLeftAdd() {\n    var newArrayRows = _toConsumableArray(newField.rows);\n\n    newArrayRows.map(function (row) {\n      row.row.unshift('');\n    });\n\n    var newArrayHeadRows = _toConsumableArray(newField.headRows);\n\n    newArrayHeadRows.unshift('');\n    var updatedField = {\n      headRows: newArrayHeadRows,\n      rows: newArrayRows,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  var onRowDelete = function onRowDelete() {\n    var newArray = _toConsumableArray(newField.rows);\n\n    newArray.pop();\n    var updatedField = {\n      headRows: field.headRows,\n      rows: newArray,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // If empty, won't be updated to firebase\n\n    databaseUpdate(updatedField);\n  };\n\n  var onRowAboveDelete = function onRowAboveDelete() {\n    var newArray = _toConsumableArray(newField.rows);\n\n    newArray.shift();\n    var updatedField = {\n      headRows: field.headRows,\n      rows: newArray,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // If empty, won't be updated to firebase\n\n    databaseUpdate(updatedField);\n  };\n\n  var onColumnDelete = function onColumnDelete() {\n    var newArrayRows = _toConsumableArray(newField.rows);\n\n    newArrayRows.map(function (row) {\n      row.row.pop();\n    });\n\n    var newArrayHeadRows = _toConsumableArray(newField.headRows);\n\n    newArrayHeadRows.pop();\n    var updatedField = {\n      headRows: newArrayHeadRows,\n      rows: newArrayRows,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  var onColumnLeftDelete = function onColumnLeftDelete() {\n    var newArrayRows = _toConsumableArray(newField.rows);\n\n    newArrayRows.map(function (row) {\n      row.row.shift();\n    });\n\n    var newArrayHeadRows = _toConsumableArray(newField.headRows);\n\n    newArrayHeadRows.shift();\n    var updatedField = {\n      headRows: newArrayHeadRows,\n      rows: newArrayRows,\n      index: field.index,\n      tableId: field.tableId,\n      type: 'table'\n    };\n    setNewField(updatedField); // Firebase update\n\n    databaseUpdate(updatedField);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({\n    ref: provided.innerRef\n  }, provided.draggableProps), {}, {\n    className: \"w-full grid grid-cols-12fr justify-items-center items-center mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"\".concat(field.index, \"container\"),\n      className: \"col-start-2 col-end-12 relative flex flex-col h-full w-full flex px-8 py-8 rounded-2xl bg-white dark:bg-background\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table-element\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: newField && newField.headRows.map(function (row, headRowIndex) {\n              return /*#__PURE__*/_jsxDEV(\"th\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-full bg-primary text-background focus:outline-none\",\n                  value: row,\n                  onChange: function onChange(e) {\n                    return onHeadRowDataChange(e.target.value, headRowIndex);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: newField && newField.rows.map(function (row, rowIndex) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: row.row.map(function (rowData, rowDataIndex) {\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"w-full bg-white focus:outline-none border-l border-primarydark pl-1\",\n                    value: rowData,\n                    onChange: function onChange(e) {\n                      return onRowDataChange(e.target.value, rowIndex, rowDataIndex);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"\".concat(field.index, \"table\"),\n        className: \"w-full overflow-hidden h-0 flex justify-between items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-flow-row grid-rows-2fr h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onNewRowAdd,\n              className: \"cursor-pointer\",\n              src: \"/table/row-add.svg\",\n              height: 22,\n              width: 22\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onRowDelete,\n              className: \"cursor-pointer ml-2\",\n              src: \"/table/remove1.svg\",\n              height: 26,\n              width: 26\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onNewRowAboveAdd,\n              className: \"cursor-pointer\",\n              src: \"/table/row-add-above.svg\",\n              height: 22,\n              width: 22\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onRowAboveDelete,\n              className: \"cursor-pointer ml-2\",\n              src: \"/table/remove1.svg\",\n              height: 26,\n              width: 26\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-flow-row grid-rows-2fr h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onNewColumnAdd,\n              className: \"cursor-pointer mr-2\",\n              src: \"/table/column-add.svg\",\n              height: 22,\n              width: 22\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onColumnDelete,\n              className: \"cursor-pointer\",\n              src: \"/table/remove1.svg\",\n              height: 26,\n              width: 26\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onNewColumnLeftAdd,\n              className: \"cursor-pointer mr-2\",\n              src: \"/table/column-add-left.svg\",\n              height: 22,\n              width: 22\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: onColumnLeftDelete,\n              className: \"cursor-pointer\",\n              src: \"/table/remove1.svg\",\n              height: 26,\n              width: 26\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-start-12 col-end-13 justify-self-center self-start flex flex-col flex-wrap gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        onClick: function onClick() {\n          return deleteField(field.index);\n        },\n        className: \"cursor-pointer\",\n        src: \"/plan-bar/exit4.svg\",\n        height: 36,\n        width: 36\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Image, _objectSpread(_objectSpread({}, provided.dragHandleProps), {}, {\n        className: \"cursor-pointer mt-2\",\n        src: \"/plan-bar/drag2.svg\",\n        height: 36,\n        width: 36\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, _this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TableElement, \"i89ZYTa/klcf+WkrAhi311wrx3g=\");\n\n_c = TableElement;\nexport default TableElement;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableElement\");","map":{"version":3,"sources":["C:/off-saas/components/dashboard/startup/project/business-app/Table.js"],"names":["React","useCallback","useEffect","useState","Image","gsap","Linear","debounce","Router","TableElement","currentIndex","tableUpdate","provided","field","deleteField","console","log","newField","setNewField","document","getElementById","index","addEventListener","to","height","marginTop","duration","transformOrigin","ease","onRowDataChange","data","rowIndex","rowDataIndex","newArray","rows","row","updatedField","headRows","tableId","type","databaseUpdate","onHeadRowDataChange","headRowIndex","onNewRowAdd","rowArray","map","headRow","push","onNewRowAboveAdd","unshift","onNewColumnAdd","newArrayRows","newArrayHeadRows","onNewColumnLeftAdd","onRowDelete","pop","onRowAboveDelete","shift","onColumnDelete","onColumnLeftDelete","innerRef","draggableProps","e","target","value","rowData","dragHandleProps"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport Image from 'next/image';\r\nimport gsap, { Linear } from 'gsap';\r\nimport debounce from '../../../../../utils/helpers';\r\nimport Router from 'next/router';\r\n\r\nconst TableElement = ({ currentIndex, tableUpdate, provided, field, deleteField }) => {\r\n  console.log(field);\r\n  const [newField, setNewField] = useState();\r\n\r\n  useEffect(() => {\r\n    document.getElementById(`${field.index}container`) &&\r\n      document.getElementById(`${field.index}container`).addEventListener('mouseenter', () => {\r\n        gsap.to(document.getElementById(`${field.index}table`), {\r\n          height: 80,\r\n          marginTop: 10,\r\n          duration: 0.8,\r\n          transformOrigin: 'top',\r\n          ease: Linear,\r\n        });\r\n      });\r\n    document.getElementById(`${field.index}container`) &&\r\n      document.getElementById(`${field.index}container`).addEventListener('mouseleave', () => {\r\n        gsap.to(document.getElementById(`${field.index}table`), {\r\n          height: 0,\r\n          marginTop: 0,\r\n          duration: 0.8,\r\n          transformOrigin: 'top',\r\n          ease: Linear,\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setNewField(field);\r\n  }, []);\r\n\r\n  const onRowDataChange = (data, rowIndex, rowDataIndex) => {\r\n    const newArray = [...newField.rows];\r\n    newArray[rowIndex].row[rowDataIndex] = data;\r\n    const updatedField = {\r\n      headRows: field.headRows,\r\n      rows: newArray,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const databaseUpdate = useCallback(\r\n    debounce(async (data) => {\r\n      tableUpdate(data, currentIndex, field.tableId, field.index);\r\n    }, 500),\r\n    []\r\n  );\r\n\r\n  const onHeadRowDataChange = (data, headRowIndex) => {\r\n    console.log(data);\r\n    const newArray = [...newField.headRows];\r\n    newArray[headRowIndex] = data;\r\n    const updatedField = {\r\n      headRows: newArray,\r\n      rows: field.rows,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onNewRowAdd = () => {\r\n    const newArray = [...newField.rows];\r\n    console.log(newArray);\r\n    const rowArray = [];\r\n    newField.headRows.map((headRow) => rowArray.push(''));\r\n    newArray.push({\r\n      row: rowArray,\r\n    });\r\n    const updatedField = {\r\n      headRows: field.headRows,\r\n      rows: newArray,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // If empty, won't be updated to firebase\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onNewRowAboveAdd = () => {\r\n    const newArray = [...newField.rows];\r\n    const rowArray = [];\r\n    newField.headRows.map((headRow) => rowArray.push(''));\r\n    newArray.unshift({\r\n      row: rowArray,\r\n    });\r\n    const updatedField = {\r\n      headRows: field.headRows,\r\n      rows: newArray,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // If empty, won't be updated to firebase\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onNewColumnAdd = () => {\r\n    const newArrayRows = [...newField.rows];\r\n    newArrayRows.map((row) => {\r\n      console.log(row);\r\n      row.row.push('');\r\n    });\r\n    const newArrayHeadRows = [...newField.headRows];\r\n    newArrayHeadRows.push('');\r\n    const updatedField = {\r\n      headRows: newArrayHeadRows,\r\n      rows: newArrayRows,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onNewColumnLeftAdd = () => {\r\n    const newArrayRows = [...newField.rows];\r\n    newArrayRows.map((row) => {\r\n      row.row.unshift('');\r\n    });\r\n    const newArrayHeadRows = [...newField.headRows];\r\n    newArrayHeadRows.unshift('');\r\n    const updatedField = {\r\n      headRows: newArrayHeadRows,\r\n      rows: newArrayRows,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onRowDelete = () => {\r\n    const newArray = [...newField.rows];\r\n    newArray.pop();\r\n    const updatedField = {\r\n      headRows: field.headRows,\r\n      rows: newArray,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // If empty, won't be updated to firebase\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onRowAboveDelete = () => {\r\n    const newArray = [...newField.rows];\r\n    newArray.shift();\r\n    const updatedField = {\r\n      headRows: field.headRows,\r\n      rows: newArray,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // If empty, won't be updated to firebase\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onColumnDelete = () => {\r\n    const newArrayRows = [...newField.rows];\r\n    newArrayRows.map((row) => {\r\n      row.row.pop();\r\n    });\r\n    const newArrayHeadRows = [...newField.headRows];\r\n    newArrayHeadRows.pop();\r\n    const updatedField = {\r\n      headRows: newArrayHeadRows,\r\n      rows: newArrayRows,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  const onColumnLeftDelete = () => {\r\n    const newArrayRows = [...newField.rows];\r\n    newArrayRows.map((row) => {\r\n      row.row.shift();\r\n    });\r\n    const newArrayHeadRows = [...newField.headRows];\r\n    newArrayHeadRows.shift();\r\n    const updatedField = {\r\n      headRows: newArrayHeadRows,\r\n      rows: newArrayRows,\r\n      index: field.index,\r\n      tableId: field.tableId,\r\n      type: 'table',\r\n    };\r\n    setNewField(updatedField);\r\n    // Firebase update\r\n    databaseUpdate(updatedField);\r\n  };\r\n\r\n  return (\r\n    <div ref={provided.innerRef} {...provided.draggableProps} className=\"w-full grid grid-cols-12fr justify-items-center items-center mt-6\">\r\n      <div\r\n        id={`${field.index}container`}\r\n        className=\"col-start-2 col-end-12 relative flex flex-col h-full w-full flex px-8 py-8 rounded-2xl bg-white dark:bg-background\"\r\n      >\r\n        <table className=\"table-element\">\r\n          <thead>\r\n            <tr>\r\n              {newField &&\r\n                newField.headRows.map((row, headRowIndex) => (\r\n                  <th>\r\n                    <input\r\n                      className=\"w-full bg-primary text-background focus:outline-none\"\r\n                      value={row}\r\n                      onChange={(e) => onHeadRowDataChange(e.target.value, headRowIndex)}\r\n                    />\r\n                  </th>\r\n                ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {newField &&\r\n              newField.rows.map((row, rowIndex) => (\r\n                <tr>\r\n                  {row.row.map((rowData, rowDataIndex) => (\r\n                    <td>\r\n                      <input\r\n                        className=\"w-full bg-white focus:outline-none border-l border-primarydark pl-1\"\r\n                        value={rowData}\r\n                        onChange={(e) => onRowDataChange(e.target.value, rowIndex, rowDataIndex)}\r\n                      />\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n        {/* <div id={`${field.index}table`} className='w-full overflow-auto h-0'></div> */}\r\n        <div id={`${field.index}table`} className=\"w-full overflow-hidden h-0 flex justify-between items-center gap-4\">\r\n          <div className=\"grid grid-flow-row grid-rows-2fr h-full\">\r\n            <div className=\"flex\">\r\n              <img onClick={onNewRowAdd} className=\"cursor-pointer\" src={`/table/row-add.svg`} height={22} width={22} />\r\n              <img onClick={onRowDelete} className=\"cursor-pointer ml-2\" src={`/table/remove1.svg`} height={26} width={26} />\r\n            </div>\r\n            <div className=\"flex\">\r\n              <img onClick={onNewRowAboveAdd} className=\"cursor-pointer\" src={`/table/row-add-above.svg`} height={22} width={22} />\r\n              <img onClick={onRowAboveDelete} className=\"cursor-pointer ml-2\" src={`/table/remove1.svg`} height={26} width={26} />\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-flow-row grid-rows-2fr h-full\">\r\n            <div className=\"flex\">\r\n              <img onClick={onNewColumnAdd} className=\"cursor-pointer mr-2\" src={`/table/column-add.svg`} height={22} width={22} />\r\n              <img onClick={onColumnDelete} className=\"cursor-pointer\" src={`/table/remove1.svg`} height={26} width={26} />\r\n            </div>\r\n            <div className=\"flex\">\r\n              <img onClick={onNewColumnLeftAdd} className=\"cursor-pointer mr-2\" src={`/table/column-add-left.svg`} height={22} width={22} />\r\n              <img onClick={onColumnLeftDelete} className=\"cursor-pointer\" src={`/table/remove1.svg`} height={26} width={26} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-start-12 col-end-13 justify-self-center self-start flex flex-col flex-wrap gap-2\">\r\n        <Image onClick={() => deleteField(field.index)} className=\"cursor-pointer\" src={`/plan-bar/exit4.svg`} height={36} width={36} />\r\n        <Image {...provided.dragHandleProps} className=\"cursor-pointer mt-2\" src={`/plan-bar/drag2.svg`} height={36} width={36} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableElement;\r\n"]},"metadata":{},"sourceType":"module"}