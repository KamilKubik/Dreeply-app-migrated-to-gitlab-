{"ast":null,"code":"import Router from 'next/router';\nimport firebase, { db } from '../../../../../../../lib/firebase'; // Add new section\n\nexport const newSectionPage = async (title, sections, setSelectedSection, projectId) => {\n  const section = {\n    position: sections.length,\n    title: title,\n    body: ''\n  };\n  const newFromDB = await db.collection('projects').doc(projectId).collection('businessPlan').doc(Router.query.project).collection('inputs').add({\n    position: section.position,\n    title: section.title,\n    // body: section.body,\n    fields: [],\n    timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    createdAt: new Date()\n  });\n  const newID = newFromDB.id; // await this.setState({ sections: [...this.state.sections, section] });\n\n  const newSectionIndex = sections.indexOf(sections.filter(_section => _section.id === newID)[0]);\n  setSelectedSection(sections[newSectionIndex]);\n}; // Select section\n\nexport const selectSectionPage = (section, index, setSelectedSection) => setSelectedSection(section);","map":null,"metadata":{},"sourceType":"module"}