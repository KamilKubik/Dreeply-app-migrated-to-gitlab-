{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport function useCustomState(init) {\n  const {\n    0: state,\n    1: setState\n  } = useState(init);\n  const cbRef = useRef();\n\n  const setCustomState = (newState, callback) => {\n    cbRef.current = callback;\n    setState(newState);\n  };\n\n  useEffect(() => {\n    if (cbRef.current) {\n      cbRef.current(state);\n    }\n\n    cbRef.current = undefined;\n  }, [state]);\n  return [state, setCustomState];\n}","map":{"version":3,"sources":["C:/off-saas/utils/useCustomState.js"],"names":["useEffect","useRef","useState","useCustomState","init","state","setState","cbRef","setCustomState","newState","callback","current","undefined"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AACjC,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBJ,QAAQ,CAACE,IAAD,CAAlC;AACA,QAAMG,KAAK,GAAGN,MAAM,EAApB;;AAEA,QAAMO,cAAc,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC3CH,IAAAA,KAAK,CAACI,OAAN,GAAgBD,QAAhB;AACAJ,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACH,GAHD;;AAKAT,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,KAAK,CAACI,OAAV,EAAmB;AACfJ,MAAAA,KAAK,CAACI,OAAN,CAAcN,KAAd;AACH;;AACDE,IAAAA,KAAK,CAACI,OAAN,GAAgBC,SAAhB;AACH,GALQ,EAKN,CAACP,KAAD,CALM,CAAT;AAOA,SAAO,CAACA,KAAD,EAAQG,cAAR,CAAP;AACH","sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\n\r\nexport function useCustomState(init) {\r\n    const [state, setState] = useState(init);\r\n    const cbRef = useRef();\r\n\r\n    const setCustomState = (newState, callback) => {\r\n        cbRef.current = callback;\r\n        setState(newState);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (cbRef.current) {\r\n            cbRef.current(state);\r\n        }\r\n        cbRef.current = undefined;\r\n    }, [state]);\r\n\r\n    return [state, setCustomState];\r\n}"]},"metadata":{},"sourceType":"module"}